/**
 * @version 1.0.0.0
 * @copyright Copyright Â©  2017
 * @compiler Bridge.NET 16.3.6
 */
Bridge.assembly("Codex.View.Web", function ($asm, globals) {
    "use strict";

    var monaco_editor_ignored;

    Bridge.define("Codex.AdapterTypeAttribute", {
        inherits: [System.Attribute]
    });

    /** @namespace Codex */

    /**
     * Indicates an attached property which is not intrinsic to the parent object and should be
     excluded when computing the {@link }
     *
     * @public
     * @class Codex.AttachedAttribute
     * @augments System.Attribute
     */
    Bridge.define("Codex.AttachedAttribute", {
        inherits: [System.Attribute]
    });

    Bridge.define("Codex.CodeReviewerStatus", {
        $kind: "enum",
        statics: {
            fields: {
                NotStarted: 0,
                Waiting: 1,
                ApprovedWithSuggestions: 2,
                Approved: 3,
                Declined: 4
            }
        }
    });

    Bridge.define("Codex.CodeReviewStatus", {
        $kind: "enum"
    });

    Bridge.define("Codex.CoerceGetAttribute", {
        inherits: [System.Attribute],
        fields: {
            CoercedSourceType: null
        },
        ctors: {
            ctor: function (coercedSourceType) {
                if (coercedSourceType === void 0) { coercedSourceType = null; }

                this.$initialize();
                System.Attribute.ctor.call(this);
                this.CoercedSourceType = coercedSourceType;
            }
        }
    });

    Bridge.define("Codex.CommentImportance", {
        $kind: "enum",
        statics: {
            fields: {
                /**
                 * Indicates that the author can decide to take the change or not
                 *
                 * @static
                 * @public
                 * @memberof Codex.CommentImportance
                 * @constant
                 * @default 0
                 * @type Codex.CommentImportance
                 */
                AuthorDecides: 0,
                /**
                 * Default importance
                 *
                 * @static
                 * @public
                 * @memberof Codex.CommentImportance
                 * @constant
                 * @default 1
                 * @type Codex.CommentImportance
                 */
                Info: 1,
                /**
                 * Reviewer would like further discussion on this comment
                 *
                 * @static
                 * @public
                 * @memberof Codex.CommentImportance
                 * @constant
                 * @default 2
                 * @type Codex.CommentImportance
                 */
                Discuss: 2,
                /**
                 * Waiting on this comment to be addressed in order to approve
                 *
                 * @static
                 * @public
                 * @memberof Codex.CommentImportance
                 * @constant
                 * @default 3
                 * @type Codex.CommentImportance
                 */
                Blocker: 3
            }
        }
    });

    Bridge.define("Codex.CommentStatus", {
        $kind: "enum",
        statics: {
            fields: {
                Unpublished: 0,
                Active: 1,
                Resolved: 2,
                WontFix: 3,
                Pending: 4,
                Closed: 5
            }
        }
    });

    Bridge.define("Codex.DataInclusionAttribute", {
        inherits: [System.Attribute],
        fields: {
            DataInclusion: 0
        },
        ctors: {
            ctor: function (dataInclusion) {
                this.$initialize();
                System.Attribute.ctor.call(this);
                this.DataInclusion = dataInclusion;
            }
        }
    });

    Bridge.define("Codex.DataInclusionOptions", {
        $kind: "enum",
        statics: {
            fields: {
                /**
                 * Data should always be included
                 *
                 * @static
                 * @public
                 * @memberof Codex.DataInclusionOptions
                 * @constant
                 * @default 0
                 * @type Codex.DataInclusionOptions
                 */
                None: 0,
                Definitions: 1,
                References: 2,
                Classifications: 4,
                SearchDefinitions: 8,
                SearchReferences: 16,
                Content: 32,
                All: 63,
                Default: 62
            }
        }
    });

    Bridge.define("Codex.ISerializableEntity", {
        $kind: "interface"
    });

    Bridge.define("Codex.EntityIdAttribute", {
        inherits: [System.Attribute]
    });

    Bridge.define("Codex.EntityUtilities", {
        statics: {
            methods: {
                NullOrCopy: function (T, TTarget, obj, copy) {
                    if (obj == null) {
                        return null;
                    }
                    return copy(obj);
                }
            }
        }
    });

    /**
     * Describes change kinds for files
     *
     * @public
     * @class Codex.FileChangeKind
     */
    Bridge.define("Codex.FileChangeKind", {
        $kind: "enum",
        statics: {
            fields: {
                Add: 0,
                Edit: 1,
                Rename: 2,
                Delete: 3
            }
        }
    });

    Bridge.define("Codex.Framework.Types.IStore", {
        $kind: "interface"
    });

    /** @namespace Codex.Framework.Types */

    /**
     * High level storage operations
     *
     * @abstract
     * @public
     * @class Codex.Framework.Types.IStore$1
     */
    Bridge.definei("Codex.Framework.Types.IStore$1", function (T) { return {
        $kind: "interface"
    }; });

    Bridge.define("Codex.GeneratedClassNameAttribute", {
        inherits: [System.Attribute],
        fields: {
            Name: null
        },
        ctors: {
            ctor: function (name) {
                this.$initialize();
                System.Attribute.ctor.call(this);
                this.Name = name;
            }
        }
    });

    Bridge.define("Codex.IRepoScopeEntity", {
        $kind: "interface"
    });

    /**
     * Marker interface for searchable entities
     TODO: Consider moving {@link } out if its not needed by all searchable entities
     *
     * @abstract
     * @public
     * @class Codex.ISearchEntity
     */
    Bridge.define("Codex.ISearchEntity", {
        $kind: "interface"
    });

    /**
     * Describes a branch in a repository
     *
     * @abstract
     * @public
     * @class Codex.IBranch
     */
    Bridge.define("Codex.IBranch", {
        $kind: "interface"
    });

    Bridge.define("Codex.IClassificationList", {
        $kind: "interface"
    });

    Bridge.define("Codex.ISpan", {
        $kind: "interface"
    });

    /**
     * Describes styling for a given classification
     *
     * @abstract
     * @public
     * @class Codex.IClassificationStyle
     */
    Bridge.define("Codex.IClassificationStyle", {
        $kind: "interface"
    });

    Bridge.define("Codex.ICodeReview", {
        $kind: "interface"
    });

    Bridge.define("Codex.ICodeReviewComment", {
        $kind: "interface"
    });

    Bridge.define("Codex.ICodeReviewCommentThread", {
        $kind: "interface"
    });

    Bridge.define("Codex.ICodeReviewerInfo", {
        $kind: "interface"
    });

    Bridge.define("Codex.ICodeReviewFile", {
        $kind: "interface"
    });

    Bridge.define("Codex.ICodeReviewIteration", {
        $kind: "interface"
    });

    Bridge.define("Codex.ICodeSymbol", {
        $kind: "interface"
    });

    /**
     * Represents a version of a repository file for a commit
     *
     * @abstract
     * @public
     * @class Codex.ICommitFileLink
     */
    Bridge.define("Codex.ICommitFileLink", {
        $kind: "interface"
    });

    /**
     * Defines documentation about a symbol
     *
     * @abstract
     * @public
     * @class Codex.IDocumentationInfo
     */
    Bridge.define("Codex.IDocumentationInfo", {
        $kind: "interface"
    });

    /**
     * Describes encoding so that file may be reconstituted in a byte-identical form
     *
     * @abstract
     * @public
     * @class Codex.IEncodingDescription
     */
    Bridge.define("Codex.IEncodingDescription", {
        $kind: "interface"
    });

    Bridge.define("Codex.IFileStatistics", {
        $kind: "interface"
    });

    Bridge.define("Codex.ILanguageInfo", {
        $kind: "interface"
    });

    Bridge.definei("Codex.IMutable$2", function (TMutable, TImmutable) { return {
        $kind: "interface"
    }; });

    /**
     * Indicates stages for which the given property should be included
     *
     * @public
     * @class Codex.IncludeAttribute
     * @augments System.Attribute
     */
    Bridge.define("Codex.IncludeAttribute", {
        inherits: [System.Attribute],
        fields: {
            AllowedStages: 0
        },
        ctors: {
            ctor: function (stages) {
                this.$initialize();
                System.Attribute.ctor.call(this);
                this.AllowedStages = stages;
            }
        }
    });

    Bridge.define("Codex.IOutliningRegion", {
        $kind: "interface"
    });

    /**
     * Documentation for a method parameter
     *
     * @abstract
     * @public
     * @class Codex.IParameterDocumentation
     */
    Bridge.define("Codex.IParameterDocumentation", {
        $kind: "interface"
    });

    Bridge.define("Codex.IPropertyMap", {
        $kind: "interface"
    });

    Bridge.define("Codex.IReferencedProject", {
        $kind: "interface"
    });

    Bridge.define("Codex.IReferenceList", {
        $kind: "interface"
    });

    Bridge.define("Codex.IRepository", {
        $kind: "interface"
    });

    Bridge.define("Codex.IRepositoryReference", {
        $kind: "interface"
    });

    /**
     * Information for creating an ICodexRepositoryStore
     *
     * @abstract
     * @public
     * @class Codex.IRepositoryStoreInfo
     */
    Bridge.define("Codex.IRepositoryStoreInfo", {
        $kind: "interface"
    });

    /**
     * Information about a source file as defined by the source control provider
     *
     * @abstract
     * @public
     * @class Codex.ISourceControlFileInfo
     */
    Bridge.define("Codex.ISourceControlFileInfo", {
        $kind: "interface"
    });

    /**
     * Defines text contents of a file and associated data
     *
     * @abstract
     * @public
     * @class Codex.ISourceFile
     */
    Bridge.define("Codex.ISourceFile", {
        $kind: "interface"
    });

    Bridge.define("Codex.IStoredBoundSourceFile", {
        $kind: "interface"
    });

    Bridge.define("Codex.ISymbolLineSpanList", {
        $kind: "interface"
    });

    Bridge.define("Codex.MutableExtensions");

    Bridge.define("Codex.ObjectModel.CodexTypeUtilities", {
        statics: {
            fields: {
                s_typeMappings: null
            },
            ctors: {
                init: function () {
                    this.s_typeMappings = Codex.ObjectModel.CodexTypeUtilities.CreateTypeMapping();
                }
            },
            methods: {
                CreateTypeMapping: function () {
                    var typeMapping = new (System.Collections.Generic.Dictionary$2(Function,Function))();
                    typeMapping.add(Codex.ICommit, Codex.ObjectModel.Commit);
                    typeMapping.add(Codex.ObjectModel.Commit, Codex.ICommit);
                    typeMapping.add(Codex.ICommitChangedFile, Codex.ObjectModel.CommitChangedFile);
                    typeMapping.add(Codex.ObjectModel.CommitChangedFile, Codex.ICommitChangedFile);
                    typeMapping.add(Codex.ICommitFileLink, Codex.ObjectModel.CommitFileLink);
                    typeMapping.add(Codex.ObjectModel.CommitFileLink, Codex.ICommitFileLink);
                    typeMapping.add(Codex.IBranch, Codex.ObjectModel.Branch);
                    typeMapping.add(Codex.ObjectModel.Branch, Codex.IBranch);
                    typeMapping.add(Codex.IBoundSourceFile, Codex.ObjectModel.BoundSourceFile);
                    typeMapping.add(Codex.ObjectModel.BoundSourceFile, Codex.IBoundSourceFile);
                    typeMapping.add(Codex.IBoundSourceInfo, Codex.ObjectModel.BoundSourceInfo);
                    typeMapping.add(Codex.ObjectModel.BoundSourceInfo, Codex.IBoundSourceInfo);
                    typeMapping.add(Codex.ISourceControlFileInfo, Codex.ObjectModel.SourceControlFileInfo);
                    typeMapping.add(Codex.ObjectModel.SourceControlFileInfo, Codex.ISourceControlFileInfo);
                    typeMapping.add(Codex.ISourceFileInfo, Codex.ObjectModel.SourceFileInfo);
                    typeMapping.add(Codex.ObjectModel.SourceFileInfo, Codex.ISourceFileInfo);
                    typeMapping.add(Codex.IEncodingDescription, Codex.ObjectModel.EncodingDescription);
                    typeMapping.add(Codex.ObjectModel.EncodingDescription, Codex.IEncodingDescription);
                    typeMapping.add(Codex.ISourceFile, Codex.ObjectModel.SourceFile);
                    typeMapping.add(Codex.ObjectModel.SourceFile, Codex.ISourceFile);
                    typeMapping.add(Codex.IOutliningRegion, Codex.ObjectModel.OutliningRegion);
                    typeMapping.add(Codex.ObjectModel.OutliningRegion, Codex.IOutliningRegion);
                    typeMapping.add(Codex.IDefinitionSpan, Codex.ObjectModel.DefinitionSpan);
                    typeMapping.add(Codex.ObjectModel.DefinitionSpan, Codex.IDefinitionSpan);
                    typeMapping.add(Codex.IParameterDefinitionSpan, Codex.ObjectModel.ParameterDefinitionSpan);
                    typeMapping.add(Codex.ObjectModel.ParameterDefinitionSpan, Codex.IParameterDefinitionSpan);
                    typeMapping.add(Codex.IReferenceSpan, Codex.ObjectModel.ReferenceSpan);
                    typeMapping.add(Codex.ObjectModel.ReferenceSpan, Codex.IReferenceSpan);
                    typeMapping.add(Codex.IParameterReferenceSpan, Codex.ObjectModel.ParameterReferenceSpan);
                    typeMapping.add(Codex.ObjectModel.ParameterReferenceSpan, Codex.IParameterReferenceSpan);
                    typeMapping.add(Codex.IClassificationSpan, Codex.ObjectModel.ClassificationSpan);
                    typeMapping.add(Codex.ObjectModel.ClassificationSpan, Codex.IClassificationSpan);
                    typeMapping.add(Codex.ISymbolSpan, Codex.ObjectModel.SymbolSpan);
                    typeMapping.add(Codex.ObjectModel.SymbolSpan, Codex.ISymbolSpan);
                    typeMapping.add(Codex.ITextLineSpan, Codex.ObjectModel.TextLineSpan);
                    typeMapping.add(Codex.ObjectModel.TextLineSpan, Codex.ITextLineSpan);
                    typeMapping.add(Codex.ILineSpan, Codex.ObjectModel.LineSpan);
                    typeMapping.add(Codex.ObjectModel.LineSpan, Codex.ILineSpan);
                    typeMapping.add(Codex.ISpan, Codex.ObjectModel.Span);
                    typeMapping.add(Codex.ObjectModel.Span, Codex.ISpan);
                    typeMapping.add(Codex.ICodeReview, Codex.ObjectModel.CodeReview);
                    typeMapping.add(Codex.ObjectModel.CodeReview, Codex.ICodeReview);
                    typeMapping.add(Codex.ICodeReviewIteration, Codex.ObjectModel.CodeReviewIteration);
                    typeMapping.add(Codex.ObjectModel.CodeReviewIteration, Codex.ICodeReviewIteration);
                    typeMapping.add(Codex.ICodeReviewerInfo, Codex.ObjectModel.CodeReviewerInfo);
                    typeMapping.add(Codex.ObjectModel.CodeReviewerInfo, Codex.ICodeReviewerInfo);
                    typeMapping.add(Codex.ICodeReviewFile, Codex.ObjectModel.CodeReviewFile);
                    typeMapping.add(Codex.ObjectModel.CodeReviewFile, Codex.ICodeReviewFile);
                    typeMapping.add(Codex.ICodeReviewCommentThread, Codex.ObjectModel.CodeReviewCommentThread);
                    typeMapping.add(Codex.ObjectModel.CodeReviewCommentThread, Codex.ICodeReviewCommentThread);
                    typeMapping.add(Codex.ICodeReviewComment, Codex.ObjectModel.CodeReviewComment);
                    typeMapping.add(Codex.ObjectModel.CodeReviewComment, Codex.ICodeReviewComment);
                    typeMapping.add(Codex.ILanguageInfo, Codex.ObjectModel.LanguageInfo);
                    typeMapping.add(Codex.ObjectModel.LanguageInfo, Codex.ILanguageInfo);
                    typeMapping.add(Codex.IClassificationStyle, Codex.ObjectModel.ClassificationStyle);
                    typeMapping.add(Codex.ObjectModel.ClassificationStyle, Codex.IClassificationStyle);
                    typeMapping.add(Codex.IProject, Codex.ObjectModel.AnalyzedProject);
                    typeMapping.add(Codex.ObjectModel.AnalyzedProject, Codex.IProject);
                    typeMapping.add(Codex.IReferencedProject, Codex.ObjectModel.ReferencedProject);
                    typeMapping.add(Codex.ObjectModel.ReferencedProject, Codex.IReferencedProject);
                    typeMapping.add(Codex.IProjectFileLink, Codex.ObjectModel.ProjectFileLink);
                    typeMapping.add(Codex.ObjectModel.ProjectFileLink, Codex.IProjectFileLink);
                    typeMapping.add(Codex.IDocumentationInfo, Codex.ObjectModel.DocumentationInfo);
                    typeMapping.add(Codex.ObjectModel.DocumentationInfo, Codex.IDocumentationInfo);
                    typeMapping.add(Codex.IParameterDocumentation, Codex.ObjectModel.ParameterDocumentation);
                    typeMapping.add(Codex.ObjectModel.ParameterDocumentation, Codex.IParameterDocumentation);
                    typeMapping.add(Codex.ITypedParameterDocumentation, Codex.ObjectModel.TypedParameterDocumentation);
                    typeMapping.add(Codex.ObjectModel.TypedParameterDocumentation, Codex.ITypedParameterDocumentation);
                    typeMapping.add(Codex.IDocumentationReferenceSymbol, Codex.ObjectModel.DocumentationReferenceSymbol);
                    typeMapping.add(Codex.ObjectModel.DocumentationReferenceSymbol, Codex.IDocumentationReferenceSymbol);
                    typeMapping.add(Codex.IPropertySearchModel, Codex.ObjectModel.PropertySearchModel);
                    typeMapping.add(Codex.ObjectModel.PropertySearchModel, Codex.IPropertySearchModel);
                    typeMapping.add(Codex.IPropertyMap, Codex.ObjectModel.PropertyMap);
                    typeMapping.add(Codex.ObjectModel.PropertyMap, Codex.IPropertyMap);
                    typeMapping.add(Codex.IRepository, Codex.ObjectModel.Repository);
                    typeMapping.add(Codex.ObjectModel.Repository, Codex.IRepository);
                    typeMapping.add(Codex.IRepositoryReference, Codex.ObjectModel.RepositoryReference);
                    typeMapping.add(Codex.ObjectModel.RepositoryReference, Codex.IRepositoryReference);
                    typeMapping.add(Codex.ISearchEntity, Codex.ObjectModel.SearchEntity);
                    typeMapping.add(Codex.ObjectModel.SearchEntity, Codex.ISearchEntity);
                    typeMapping.add(Codex.IRepoScopeEntity, Codex.ObjectModel.RepoScopeEntity);
                    typeMapping.add(Codex.ObjectModel.RepoScopeEntity, Codex.IRepoScopeEntity);
                    typeMapping.add(Codex.ICommitScopeEntity, Codex.ObjectModel.CommitScopeEntity);
                    typeMapping.add(Codex.ObjectModel.CommitScopeEntity, Codex.ICommitScopeEntity);
                    typeMapping.add(Codex.IProjectScopeEntity, Codex.ObjectModel.ProjectScopeEntity);
                    typeMapping.add(Codex.ObjectModel.ProjectScopeEntity, Codex.IProjectScopeEntity);
                    typeMapping.add(Codex.IRepoFileScopeEntity, Codex.ObjectModel.RepoFileScopeEntity);
                    typeMapping.add(Codex.ObjectModel.RepoFileScopeEntity, Codex.IRepoFileScopeEntity);
                    typeMapping.add(Codex.IProjectFileScopeEntity, Codex.ObjectModel.ProjectFileScopeEntity);
                    typeMapping.add(Codex.ObjectModel.ProjectFileScopeEntity, Codex.IProjectFileScopeEntity);
                    typeMapping.add(Codex.IRegisteredEntity, Codex.ObjectModel.RegisteredEntity);
                    typeMapping.add(Codex.ObjectModel.RegisteredEntity, Codex.IRegisteredEntity);
                    typeMapping.add(Codex.IStoredFilter, Codex.ObjectModel.StoredFilter);
                    typeMapping.add(Codex.ObjectModel.StoredFilter, Codex.IStoredFilter);
                    typeMapping.add(Codex.IDefinitionSearchModel, Codex.ObjectModel.DefinitionSearchModel);
                    typeMapping.add(Codex.ObjectModel.DefinitionSearchModel, Codex.IDefinitionSearchModel);
                    typeMapping.add(Codex.ILanguageSearchModel, Codex.ObjectModel.LanguageSearchModel);
                    typeMapping.add(Codex.ObjectModel.LanguageSearchModel, Codex.ILanguageSearchModel);
                    typeMapping.add(Codex.IReferenceSearchModel, Codex.ObjectModel.ReferenceSearchModel);
                    typeMapping.add(Codex.ObjectModel.ReferenceSearchModel, Codex.IReferenceSearchModel);
                    typeMapping.add(Codex.ISourceSearchModelBase, Codex.ObjectModel.SourceSearchModelBase);
                    typeMapping.add(Codex.ObjectModel.SourceSearchModelBase, Codex.ISourceSearchModelBase);
                    typeMapping.add(Codex.IBoundSourceSearchModel, Codex.ObjectModel.BoundSourceSearchModel);
                    typeMapping.add(Codex.ObjectModel.BoundSourceSearchModel, Codex.IBoundSourceSearchModel);
                    typeMapping.add(Codex.ITextSourceSearchModel, Codex.ObjectModel.TextSourceSearchModel);
                    typeMapping.add(Codex.ObjectModel.TextSourceSearchModel, Codex.ITextSourceSearchModel);
                    typeMapping.add(Codex.IRepositorySearchModel, Codex.ObjectModel.RepositorySearchModel);
                    typeMapping.add(Codex.ObjectModel.RepositorySearchModel, Codex.IRepositorySearchModel);
                    typeMapping.add(Codex.IProjectSearchModel, Codex.ObjectModel.ProjectSearchModel);
                    typeMapping.add(Codex.ObjectModel.ProjectSearchModel, Codex.IProjectSearchModel);
                    typeMapping.add(Codex.IProjectReferenceSearchModel, Codex.ObjectModel.ProjectReferenceSearchModel);
                    typeMapping.add(Codex.ObjectModel.ProjectReferenceSearchModel, Codex.IProjectReferenceSearchModel);
                    typeMapping.add(Codex.ICommitSearchModel, Codex.ObjectModel.CommitSearchModel);
                    typeMapping.add(Codex.ObjectModel.CommitSearchModel, Codex.ICommitSearchModel);
                    typeMapping.add(Codex.ICommitFilesSearchModel, Codex.ObjectModel.CommitFilesSearchModel);
                    typeMapping.add(Codex.ObjectModel.CommitFilesSearchModel, Codex.ICommitFilesSearchModel);
                    typeMapping.add(Codex.IFileStatistics, Codex.ObjectModel.FileStatistics);
                    typeMapping.add(Codex.ObjectModel.FileStatistics, Codex.IFileStatistics);
                    typeMapping.add(Codex.IRepositoryStoreInfo, Codex.ObjectModel.RepositoryStoreInfo);
                    typeMapping.add(Codex.ObjectModel.RepositoryStoreInfo, Codex.IRepositoryStoreInfo);
                    typeMapping.add(Codex.ICommitFilesDirectory, Codex.ObjectModel.CommitFilesDirectory);
                    typeMapping.add(Codex.ObjectModel.CommitFilesDirectory, Codex.ICommitFilesDirectory);
                    typeMapping.add(Codex.IStoredBoundSourceFile, Codex.ObjectModel.StoredBoundSourceFile);
                    typeMapping.add(Codex.ObjectModel.StoredBoundSourceFile, Codex.IStoredBoundSourceFile);
                    typeMapping.add(Codex.IDefinitionSymbol, Codex.ObjectModel.DefinitionSymbol);
                    typeMapping.add(Codex.ObjectModel.DefinitionSymbol, Codex.IDefinitionSymbol);
                    typeMapping.add(Codex.IReferenceSymbol, Codex.ObjectModel.ReferenceSymbol);
                    typeMapping.add(Codex.ObjectModel.ReferenceSymbol, Codex.IReferenceSymbol);
                    typeMapping.add(Codex.ICodeSymbol, Codex.ObjectModel.Symbol);
                    typeMapping.add(Codex.ObjectModel.Symbol, Codex.ICodeSymbol);
                    typeMapping.add(Codex.Sdk.Search.IReferenceSearchResult, Codex.ObjectModel.ReferenceSearchResult);
                    typeMapping.add(Codex.ObjectModel.ReferenceSearchResult, Codex.Sdk.Search.IReferenceSearchResult);
                    typeMapping.add(Codex.Sdk.Search.ITextLineSpanResult, Codex.ObjectModel.TextLineSpanResult);
                    typeMapping.add(Codex.ObjectModel.TextLineSpanResult, Codex.Sdk.Search.ITextLineSpanResult);
                    typeMapping.add(Codex.Sdk.Search.ISearchResult, Codex.ObjectModel.SearchResult);
                    typeMapping.add(Codex.ObjectModel.SearchResult, Codex.Sdk.Search.ISearchResult);
                    typeMapping.add(Codex.Sdk.Search.IIndex, Codex.ObjectModel.Index);
                    typeMapping.add(Codex.ObjectModel.Index, Codex.Sdk.Search.IIndex);
                    return typeMapping;
                }
            }
        }
    });

    /** @namespace Codex.ObjectModel */

    /**
     * Allows defining extension data during analysis
     *
     * @public
     * @class Codex.ObjectModel.ExtensionData
     */
    Bridge.define("Codex.ObjectModel.ExtensionData");

    /**
     * Defines Codex glyphs
     *
     * @public
     * @class Codex.ObjectModel.Glyph
     */
    Bridge.define("Codex.ObjectModel.Glyph", {
        $kind: "enum",
        statics: {
            fields: {
                Unknown: -1,
                Assembly: 0,
                BasicFile: 1,
                BasicProject: 2,
                ClassPublic: 3,
                ClassProtected: 4,
                ClassPrivate: 5,
                ClassInternal: 6,
                CSharpFile: 7,
                CSharpProject: 8,
                ConstantPublic: 9,
                ConstantProtected: 10,
                ConstantPrivate: 11,
                ConstantInternal: 12,
                DelegatePublic: 13,
                DelegateProtected: 14,
                DelegatePrivate: 15,
                DelegateInternal: 16,
                EnumPublic: 17,
                EnumProtected: 18,
                EnumPrivate: 19,
                EnumInternal: 20,
                EnumMember: 21,
                Error: 22,
                EventPublic: 23,
                EventProtected: 24,
                EventPrivate: 25,
                EventInternal: 26,
                ExtensionMethodPublic: 27,
                ExtensionMethodProtected: 28,
                ExtensionMethodPrivate: 29,
                ExtensionMethodInternal: 30,
                FieldPublic: 31,
                FieldProtected: 32,
                FieldPrivate: 33,
                FieldInternal: 34,
                InterfacePublic: 35,
                InterfaceProtected: 36,
                InterfacePrivate: 37,
                InterfaceInternal: 38,
                Intrinsic: 39,
                Keyword: 40,
                Label: 41,
                Local: 42,
                Namespace: 43,
                MethodPublic: 44,
                MethodProtected: 45,
                MethodPrivate: 46,
                MethodInternal: 47,
                ModulePublic: 48,
                ModuleProtected: 49,
                ModulePrivate: 50,
                ModuleInternal: 51,
                OpenFolder: 52,
                Operator: 53,
                Parameter: 54,
                PropertyPublic: 55,
                PropertyProtected: 56,
                PropertyPrivate: 57,
                PropertyInternal: 58,
                RangeVariable: 59,
                Reference: 60,
                StructurePublic: 61,
                StructureProtected: 62,
                StructurePrivate: 63,
                StructureInternal: 64,
                TypeParameter: 65,
                Up: 66,
                Down: 67,
                Left: 68,
                Right: 69,
                Dot: 70,
                Snippet: 71
            }
        }
    });

    Bridge.define("Codex.ObjectModel.GlyphUtilities", {
        statics: {
            methods: {
                GetGlyphNumber: function (glyph) {
                    var result = (((((Codex.ObjectModel.GlyphUtilities.GetStandardGlyphGroup(glyph)) & 65535) + ((Codex.ObjectModel.GlyphUtilities.GetStandardGlyphItem(glyph)) & 65535)) | 0)) & 65535;
                    return result;
                },
                GetStandardGlyphGroup: function (glyph) {
                    switch (glyph) {
                        case Codex.ObjectModel.Glyph.Assembly: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphAssembly;
                        case Codex.ObjectModel.Glyph.ClassPublic: 
                        case Codex.ObjectModel.Glyph.ClassProtected: 
                        case Codex.ObjectModel.Glyph.ClassPrivate: 
                        case Codex.ObjectModel.Glyph.ClassInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupClass;
                        case Codex.ObjectModel.Glyph.ConstantPublic: 
                        case Codex.ObjectModel.Glyph.ConstantProtected: 
                        case Codex.ObjectModel.Glyph.ConstantPrivate: 
                        case Codex.ObjectModel.Glyph.ConstantInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupConstant;
                        case Codex.ObjectModel.Glyph.CSharpFile: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphCSharpFile;
                        case Codex.ObjectModel.Glyph.DelegatePublic: 
                        case Codex.ObjectModel.Glyph.DelegateProtected: 
                        case Codex.ObjectModel.Glyph.DelegatePrivate: 
                        case Codex.ObjectModel.Glyph.DelegateInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupDelegate;
                        case Codex.ObjectModel.Glyph.EnumPublic: 
                        case Codex.ObjectModel.Glyph.EnumProtected: 
                        case Codex.ObjectModel.Glyph.EnumPrivate: 
                        case Codex.ObjectModel.Glyph.EnumInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupEnum;
                        case Codex.ObjectModel.Glyph.EnumMember: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupEnumMember;
                        case Codex.ObjectModel.Glyph.Error: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupError;
                        case Codex.ObjectModel.Glyph.ExtensionMethodPublic: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphExtensionMethod;
                        case Codex.ObjectModel.Glyph.ExtensionMethodProtected: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphExtensionMethodProtected;
                        case Codex.ObjectModel.Glyph.ExtensionMethodPrivate: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphExtensionMethodPrivate;
                        case Codex.ObjectModel.Glyph.ExtensionMethodInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphExtensionMethodInternal;
                        case Codex.ObjectModel.Glyph.EventPublic: 
                        case Codex.ObjectModel.Glyph.EventProtected: 
                        case Codex.ObjectModel.Glyph.EventPrivate: 
                        case Codex.ObjectModel.Glyph.EventInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupEvent;
                        case Codex.ObjectModel.Glyph.FieldPublic: 
                        case Codex.ObjectModel.Glyph.FieldProtected: 
                        case Codex.ObjectModel.Glyph.FieldPrivate: 
                        case Codex.ObjectModel.Glyph.FieldInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupField;
                        case Codex.ObjectModel.Glyph.InterfacePublic: 
                        case Codex.ObjectModel.Glyph.InterfaceProtected: 
                        case Codex.ObjectModel.Glyph.InterfacePrivate: 
                        case Codex.ObjectModel.Glyph.InterfaceInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupInterface;
                        case Codex.ObjectModel.Glyph.Intrinsic: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupIntrinsic;
                        case Codex.ObjectModel.Glyph.Keyword: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphKeyword;
                        case Codex.ObjectModel.Glyph.Label: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupIntrinsic;
                        case Codex.ObjectModel.Glyph.Local: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupVariable;
                        case Codex.ObjectModel.Glyph.Namespace: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupNamespace;
                        case Codex.ObjectModel.Glyph.MethodPublic: 
                        case Codex.ObjectModel.Glyph.MethodProtected: 
                        case Codex.ObjectModel.Glyph.MethodPrivate: 
                        case Codex.ObjectModel.Glyph.MethodInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupMethod;
                        case Codex.ObjectModel.Glyph.ModulePublic: 
                        case Codex.ObjectModel.Glyph.ModuleProtected: 
                        case Codex.ObjectModel.Glyph.ModulePrivate: 
                        case Codex.ObjectModel.Glyph.ModuleInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupModule;
                        case Codex.ObjectModel.Glyph.OpenFolder: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphOpenFolder;
                        case Codex.ObjectModel.Glyph.Operator: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupOperator;
                        case Codex.ObjectModel.Glyph.Parameter: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupVariable;
                        case Codex.ObjectModel.Glyph.PropertyPublic: 
                        case Codex.ObjectModel.Glyph.PropertyProtected: 
                        case Codex.ObjectModel.Glyph.PropertyPrivate: 
                        case Codex.ObjectModel.Glyph.PropertyInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupProperty;
                        case Codex.ObjectModel.Glyph.RangeVariable: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupVariable;
                        case Codex.ObjectModel.Glyph.Reference: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphReference;
                        case Codex.ObjectModel.Glyph.StructurePublic: 
                        case Codex.ObjectModel.Glyph.StructureProtected: 
                        case Codex.ObjectModel.Glyph.StructurePrivate: 
                        case Codex.ObjectModel.Glyph.StructureInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupStruct;
                        case Codex.ObjectModel.Glyph.TypeParameter: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphGroupType;
                        case Codex.ObjectModel.Glyph.Up: 
                        case Codex.ObjectModel.Glyph.Down: 
                        case Codex.ObjectModel.Glyph.Left: 
                        case Codex.ObjectModel.Glyph.Right: 
                        case Codex.ObjectModel.Glyph.Dot: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup.GlyphArrow;
                        default: 
                            throw new System.ArgumentException("glyph");
                    }
                },
                GetStandardGlyphItem: function (icon) {
                    switch (icon) {
                        case Codex.ObjectModel.Glyph.ClassProtected: 
                        case Codex.ObjectModel.Glyph.ConstantProtected: 
                        case Codex.ObjectModel.Glyph.DelegateProtected: 
                        case Codex.ObjectModel.Glyph.EnumProtected: 
                        case Codex.ObjectModel.Glyph.EventProtected: 
                        case Codex.ObjectModel.Glyph.FieldProtected: 
                        case Codex.ObjectModel.Glyph.InterfaceProtected: 
                        case Codex.ObjectModel.Glyph.MethodProtected: 
                        case Codex.ObjectModel.Glyph.ModuleProtected: 
                        case Codex.ObjectModel.Glyph.PropertyProtected: 
                        case Codex.ObjectModel.Glyph.StructureProtected: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphItem.GlyphItemProtected;
                        case Codex.ObjectModel.Glyph.ClassPrivate: 
                        case Codex.ObjectModel.Glyph.ConstantPrivate: 
                        case Codex.ObjectModel.Glyph.DelegatePrivate: 
                        case Codex.ObjectModel.Glyph.EnumPrivate: 
                        case Codex.ObjectModel.Glyph.EventPrivate: 
                        case Codex.ObjectModel.Glyph.FieldPrivate: 
                        case Codex.ObjectModel.Glyph.InterfacePrivate: 
                        case Codex.ObjectModel.Glyph.MethodPrivate: 
                        case Codex.ObjectModel.Glyph.ModulePrivate: 
                        case Codex.ObjectModel.Glyph.PropertyPrivate: 
                        case Codex.ObjectModel.Glyph.StructurePrivate: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphItem.GlyphItemPrivate;
                        case Codex.ObjectModel.Glyph.ClassInternal: 
                        case Codex.ObjectModel.Glyph.ConstantInternal: 
                        case Codex.ObjectModel.Glyph.DelegateInternal: 
                        case Codex.ObjectModel.Glyph.EnumInternal: 
                        case Codex.ObjectModel.Glyph.EventInternal: 
                        case Codex.ObjectModel.Glyph.FieldInternal: 
                        case Codex.ObjectModel.Glyph.InterfaceInternal: 
                        case Codex.ObjectModel.Glyph.MethodInternal: 
                        case Codex.ObjectModel.Glyph.ModuleInternal: 
                        case Codex.ObjectModel.Glyph.PropertyInternal: 
                        case Codex.ObjectModel.Glyph.StructureInternal: 
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphItem.GlyphItemFriend;
                        default: 
                            // We don't want any overlays
                            return Codex.ObjectModel.GlyphUtilities.StandardGlyphItem.GlyphItemPublic;
                    }
                }
            }
        }
    });

    Bridge.define("Codex.ObjectModel.GlyphUtilities.StandardGlyphGroup", {
        $kind: "enum",
        statics: {
            fields: {
                GlyphGroupClass: 0,
                GlyphGroupConstant: 6,
                GlyphGroupDelegate: 12,
                GlyphGroupEnum: 18,
                GlyphGroupEnumMember: 24,
                GlyphGroupEvent: 30,
                GlyphGroupException: 36,
                GlyphGroupField: 42,
                GlyphGroupInterface: 48,
                GlyphGroupMacro: 54,
                GlyphGroupMap: 60,
                GlyphGroupMapItem: 66,
                GlyphGroupMethod: 72,
                GlyphGroupOverload: 78,
                GlyphGroupModule: 84,
                GlyphGroupNamespace: 90,
                GlyphGroupOperator: 96,
                GlyphGroupProperty: 102,
                GlyphGroupStruct: 108,
                GlyphGroupTemplate: 114,
                GlyphGroupTypedef: 120,
                GlyphGroupType: 126,
                GlyphGroupUnion: 132,
                GlyphGroupVariable: 138,
                GlyphGroupValueType: 144,
                GlyphGroupIntrinsic: 150,
                GlyphGroupJSharpMethod: 156,
                GlyphGroupJSharpField: 162,
                GlyphGroupJSharpClass: 168,
                GlyphGroupJSharpNamespace: 174,
                GlyphGroupJSharpInterface: 180,
                GlyphGroupError: 186,
                GlyphBscFile: 191,
                GlyphAssembly: 192,
                GlyphLibrary: 193,
                GlyphVBProject: 194,
                GlyphCoolProject: 196,
                GlyphCppProject: 199,
                GlyphDialogId: 200,
                GlyphOpenFolder: 201,
                GlyphClosedFolder: 202,
                GlyphArrow: 203,
                GlyphCSharpFile: 204,
                GlyphCSharpExpansion: 205,
                GlyphKeyword: 206,
                GlyphInformation: 207,
                GlyphReference: 208,
                GlyphRecursion: 209,
                GlyphXmlItem: 210,
                GlyphJSharpProject: 211,
                GlyphJSharpDocument: 212,
                GlyphForwardType: 213,
                GlyphCallersGraph: 214,
                GlyphCallGraph: 215,
                GlyphWarning: 216,
                GlyphMaybeReference: 217,
                GlyphMaybeCaller: 218,
                GlyphMaybeCall: 219,
                GlyphExtensionMethod: 220,
                GlyphExtensionMethodInternal: 221,
                GlyphExtensionMethodFriend: 222,
                GlyphExtensionMethodProtected: 223,
                GlyphExtensionMethodPrivate: 224,
                GlyphExtensionMethodShortcut: 225,
                GlyphXmlAttribute: 226,
                GlyphXmlChild: 227,
                GlyphXmlDescendant: 228,
                GlyphXmlNamespace: 229,
                GlyphXmlAttributeQuestion: 230,
                GlyphXmlAttributeCheck: 231,
                GlyphXmlChildQuestion: 232,
                GlyphXmlChildCheck: 233,
                GlyphXmlDescendantQuestion: 234,
                GlyphXmlDescendantCheck: 235,
                GlyphCompletionWarning: 236,
                GlyphGroupUnknown: 237
            }
        }
    });

    Bridge.define("Codex.ObjectModel.GlyphUtilities.StandardGlyphItem", {
        $kind: "enum",
        statics: {
            fields: {
                GlyphItemPublic: 0,
                GlyphItemInternal: 1,
                GlyphItemFriend: 2,
                GlyphItemProtected: 3,
                GlyphItemPrivate: 4,
                GlyphItemShortcut: 5,
                TotalGlyphItems: 6
            }
        }
    });

    Bridge.define("Codex.Sdk.Search.IIndex", {
        $kind: "interface"
    });

    /**
     * Defines standard set of project kinds
     *
     * @public
     * @class Codex.ObjectModel.ProjectKind
     */
    Bridge.define("Codex.ObjectModel.ProjectKind", {
        $kind: "enum",
        statics: {
            fields: {
                Source: 0,
                MetadataAsSource: 1,
                Decompilation: 2
            }
        }
    });

    /**
     * Defines standard set of reference kinds
     *
     * @public
     * @class Codex.ObjectModel.ReferenceKind
     */
    Bridge.define("Codex.ObjectModel.ReferenceKind", {
        $kind: "enum",
        statics: {
            fields: {
                Definition: 0,
                /**
                 * This represents a constructor declaration for the given type. This is different than
                 instantiation which actually represents a call to the constructor
                 *
                 * @static
                 * @public
                 * @memberof Codex.ObjectModel.ReferenceKind
                 * @constant
                 * @default 1
                 * @type Codex.ObjectModel.ReferenceKind
                 */
                Constructor: 1,
                /**
                 * A call to the constructor of the type referenced by the symbol. This is different than
                 constructor which is the actual declaration for a constructor for the type symbol.
                 *
                 * @static
                 * @public
                 * @memberof Codex.ObjectModel.ReferenceKind
                 * @constant
                 * @default 2
                 * @type Codex.ObjectModel.ReferenceKind
                 */
                Instantiation: 2,
                DerivedType: 3,
                InterfaceInheritance: 4,
                InterfaceImplementation: 5,
                Override: 6,
                InterfaceMemberImplementation: 7,
                Write: 8,
                Read: 9,
                GuidUsage: 10,
                UsingDispose: 11,
                /**
                 * The symbol is the return type of a method or property getter
                 *
                 * @static
                 * @public
                 * @memberof Codex.ObjectModel.ReferenceKind
                 * @constant
                 * @default 12
                 * @type Codex.ObjectModel.ReferenceKind
                 */
                ReturnType: 12,
                EmptyArrayAllocation: 13,
                MSBuildPropertyAssignment: 14,
                MSBuildPropertyUsage: 15,
                MSBuildItemAssignment: 16,
                MSBuildItemUsage: 17,
                MSBuildTargetDeclaration: 18,
                MSBuildTargetUsage: 19,
                MSBuildTaskDeclaration: 20,
                MSBuildTaskUsage: 21,
                Text: 22,
                ProjectLevelReference: 23,
                /**
                 * Catch-all reference comes after more specific reference kinds
                 *
                 * @static
                 * @public
                 * @memberof Codex.ObjectModel.ReferenceKind
                 * @constant
                 * @default 24
                 * @type Codex.ObjectModel.ReferenceKind
                 */
                Reference: 24
            }
        }
    });

    Bridge.define("Codex.Sdk.Search.ISearchResult", {
        $kind: "interface"
    });

    Bridge.define("Codex.ObjectModel.SymbolId", {
        inherits: function () { return [System.IEquatable$1(Codex.ObjectModel.SymbolId)]; },
        $kind: "struct",
        statics: {
            methods: {
                UnsafeCreateWithValue: function (value) {
                    return new Codex.ObjectModel.SymbolId.$ctor2(value, true);
                },
                getDefaultValue: function () { return new Codex.ObjectModel.SymbolId(); }
            }
        },
        fields: {
            Value: null
        },
        alias: ["equalsT", "System$IEquatable$1$Codex$ObjectModel$SymbolId$equalsT"],
        ctors: {
            $ctor1: function (value) {
                this.$initialize();
                this.Value = value;
            },
            $ctor2: function (value, ignored) {
                this.$initialize();
                this.Value = value;
            },
            ctor: function () {
                this.$initialize();
            }
        },
        methods: {
            equalsT: function (other) {
                return Bridge.referenceEquals(this.Value, other.Value);
            },
            toString: function () {
                return this.Value;
            },
            getHashCode: function () {
                var h = Bridge.addHash([3333875138, this.Value]);
                return h;
            },
            $clone: function (to) {
                var s = to || new Codex.ObjectModel.SymbolId();
                s.Value = this.Value;
                return s;
            }
        }
    });

    /**
     * Defines standard set of reference kinds
     *
     * @public
     * @class Codex.ObjectModel.SymbolKinds
     */
    Bridge.define("Codex.ObjectModel.SymbolKinds", {
        $kind: "enum",
        statics: {
            fields: {
                File: 0,
                FileHash: 1,
                TypescriptFile: 2,
                MSBuildProperty: 3,
                MSBuildItem: 4,
                MSBuildItemMetadata: 5,
                MSBuildTask: 6,
                MSBuildTarget: 7,
                MSBuildTaskParameter: 8
            }
        }
    });

    Bridge.define("Codex.ObjectStage", {
        $kind: "enum",
        statics: {
            fields: {
                None: 0,
                Analysis: 1,
                Index: 2,
                Search: 4,
                All: 7
            }
        }
    });

    Bridge.define("Codex.PlaceholderAttribute", {
        inherits: [System.Attribute]
    });

    Bridge.define("Codex.QueryAttribute", {
        inherits: [System.Attribute]
    });

    Bridge.define("Codex.ReadOnlyListAttribute", {
        inherits: [System.Attribute]
    });

    Bridge.define("Codex.RequiredForAttribute", {
        inherits: [System.Attribute],
        fields: {
            Stages: 0
        },
        ctors: {
            ctor: function (stages) {
                this.$initialize();
                System.Attribute.ctor.call(this);
                this.Stages = stages;
            }
        }
    });

    Bridge.define("Codex.Sdk.Search.IndexFilter$1", function (T) { return {
        statics: {
            methods: {
                op_BitwiseAnd: function (left, right) {
                    return new (Codex.Sdk.Search.BinaryFilter$1(T))(Codex.Sdk.Search.BinaryOperator.And, left, right);
                },
                op_BitwiseOr: function (left, right) {
                    return new (Codex.Sdk.Search.BinaryFilter$1(T))(Codex.Sdk.Search.BinaryOperator.Or, left, right);
                }
            }
        }
    }; });

    Bridge.define("Codex.Sdk.Search.BinaryOperator", {
        $kind: "enum",
        statics: {
            fields: {
                And: 0,
                Or: 1
            }
        }
    });

    Bridge.define("Codex.Sdk.Search.CodexArgumentsBase", {
        props: {
            /**
             * The maximum number of results to return
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.CodexArgumentsBase
             * @function MaxResults
             * @type number
             */
            MaxResults: 0
        },
        ctors: {
            init: function () {
                this.MaxResults = 100;
            }
        }
    });

    Bridge.define("Codex.Sdk.Search.CodexServiceMethod", {
        $kind: "enum",
        statics: {
            fields: {
                Search: 0,
                FindAllRefs: 1,
                FindDef: 2,
                FindDefLocation: 3,
                GetSource: 4
            }
        }
    });

    Bridge.define("Codex.Sdk.Search.TermIndexProperty$1", function (T) { return {

    }; });

    /** @namespace Codex.Sdk.Search */

    /**
     * High level operations for codex
     *
     * @abstract
     * @public
     * @class Codex.Sdk.Search.ICodex
     */
    Bridge.define("Codex.Sdk.Search.ICodex", {
        $kind: "interface"
    });

    Bridge.definei("Codex.Sdk.Search.IIndexQuery$1", function (T) { return {
        $kind: "interface"
    }; });

    Bridge.definei("Codex.Sdk.Search.IIndexQueryFilter$1", function (T) { return {
        $kind: "interface"
    }; });

    /**
     * High level query operations for indexed code
     *
     * @abstract
     * @public
     * @class Codex.Sdk.Search.Index$1
     */
    Bridge.define("Codex.Sdk.Search.Index$1", function (T) { return {

    }; });

    Bridge.define("Codex.Sdk.Search.IndexQuery$1", function (T) { return {
        props: {
            Filter: null,
            /**
             * The maximum number of results to return
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.IndexQuery$1
             * @function MaxResults
             * @type number
             */
            MaxResults: 0
        }
    }; });

    Bridge.define("Codex.Sdk.Search.IndexQueryHits$1", function (T) { return {
        props: {
            /**
             * The total number of results matching the query. 
             NOTE: This may be greater than the number of hits returned.
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.IndexQueryHits$1
             * @function Total
             * @type number
             */
            Total: System.Int64(0),
            /**
             * The results of the query
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.IndexQueryHits$1
             * @function Hits
             * @type System.Collections.Generic.List$1
             */
            Hits: null
        },
        methods: {
            toString: function () {
                return System.String.format("Total: {0}, {1}", this.Total, System.Object.prototype.toString.call(this));
            }
        }
    }; });

    Bridge.define("Codex.Sdk.Search.IndexQueryResponse", {
        props: {
            /**
             * If the query failed, this will contain the error message
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.IndexQueryResponse
             * @function Error
             * @type string
             */
            Error: null,
            /**
             * The raw query sent to the index server
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.IndexQueryResponse
             * @function RawQueries
             * @type System.Collections.Generic.List$1
             */
            RawQueries: null,
            /**
             * The spent executing the query
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.IndexQueryResponse
             * @function Duration
             * @type Codex.Sdk.Search.SerializableTimeSpan
             */
            Duration: null,
            /**
             * The spent executing the query
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.IndexQueryResponse
             * @function ServerTime
             * @type Codex.Sdk.Search.SerializableTimeSpan
             */
            ServerTime: null
        },
        ctors: {
            init: function () {
                this.Duration = new Codex.Sdk.Search.SerializableTimeSpan();
                this.ServerTime = new Codex.Sdk.Search.SerializableTimeSpan();
            }
        },
        methods: {
            toString: function () {
                return System.String.format("Error: {0}, Duration: {1}", this.Error, this.Duration.$clone());
            }
        }
    });

    Bridge.definei("Codex.Sdk.Search.ITermProperty$1", function (T) { return {
        $kind: "interface"
    }; });

    Bridge.define("Codex.Sdk.Search.SerializableTimeSpan", {
        $kind: "struct",
        statics: {
            methods: {
                op_Implicit$1: function (value) {
                    return value.AsTimeSpan();
                },
                op_Implicit: function (value) {
                    return new Codex.Sdk.Search.SerializableTimeSpan.$ctor1(value);
                },
                getDefaultValue: function () { return new Codex.Sdk.Search.SerializableTimeSpan(); }
            }
        },
        props: {
            Ticks: System.Int64(0)
        },
        ctors: {
            $ctor1: function (timespan) {
                this.$initialize();
                this.Ticks = timespan.getTicks();
            },
            ctor: function () {
                this.$initialize();
            }
        },
        methods: {
            AsTimeSpan: function () {
                return System.TimeSpan.fromTicks(this.Ticks);
            },
            toString: function () {
                return this.AsTimeSpan().toString();
            },
            getHashCode: function () {
                var h = Bridge.addHash([9077984700, this.Ticks]);
                return h;
            },
            equals: function (o) {
                if (!Bridge.is(o, Codex.Sdk.Search.SerializableTimeSpan)) {
                    return false;
                }
                return Bridge.equals(this.Ticks, o.Ticks);
            },
            $clone: function (to) {
                var s = to || new Codex.Sdk.Search.SerializableTimeSpan();
                s.Ticks = this.Ticks;
                return s;
            }
        }
    });

    Bridge.define("Codex.SearchBehavior", {
        $kind: "enum",
        statics: {
            fields: {
                None: 0,
                Term: 1,
                NormalizedKeyword: 2,
                Sortword: 3,
                HierarchicalPath: 4,
                FullText: 5,
                Prefix: 6,
                PrefixFullName: 7
            }
        }
    });

    Bridge.define("Codex.SearchBehaviorAttribute", {
        inherits: [System.Attribute],
        fields: {
            Behavior: 0
        },
        ctors: {
            ctor: function (behavior) {
                this.$initialize();
                System.Attribute.ctor.call(this);
                this.Behavior = behavior;
            }
        }
    });

    Bridge.define("Codex.SearchDescriptorInlineAttribute", {
        inherits: [System.Attribute],
        fields: {
            Inline: false
        },
        ctors: {
            ctor: function (inline) {
                if (inline === void 0) { inline = false; }

                this.$initialize();
                System.Attribute.ctor.call(this);
                this.Inline = inline;
            }
        }
    });

    Bridge.define("Codex.SearchType", {
        statics: {
            methods: {
                Create: function (T, registeredSearchTypes, name) {
                    if (name === void 0) { name = null; }
                    var searchType = new (Codex.SearchType$1(T))(name);
                    searchType.Id = registeredSearchTypes.Count;
                    registeredSearchTypes.add(searchType);
                    return searchType;
                }
            }
        },
        props: {
            Name: null,
            IndexName: null,
            Id: 0
        }
    });

    Bridge.define("Codex.SearchTypes", {
        statics: {
            fields: {
                RegisteredSearchTypes: null,
                Definition: null,
                /**
                 * @static
                 * @public
                 * @memberof Codex.SearchTypes
                 * @type Codex.SearchType
                 */
                Reference: null,
                TextSource: null,
                BoundSource: null,
                Language: null,
                Repository: null,
                Project: null,
                Commit: null,
                CommitFiles: null,
                ProjectReference: null,
                Property: null,
                StoredFilter: null,
                RegisteredEntity: null
            },
            ctors: {
                init: function () {
                    var $t, $t1, $t2, $t3, $t4, $t5;
                    this.RegisteredSearchTypes = new (System.Collections.Generic.List$1(Codex.SearchType)).ctor();
                    this.Definition = Codex.SearchType.Create(Codex.IDefinitionSearchModel, Codex.SearchTypes.RegisteredSearchTypes, "Definition");
                    this.Reference = Codex.SearchType.Create(Codex.IReferenceSearchModel, Codex.SearchTypes.RegisteredSearchTypes, "Reference");
                    this.TextSource = Codex.SearchType.Create(Codex.ITextSourceSearchModel, Codex.SearchTypes.RegisteredSearchTypes, "TextSource");
                    this.BoundSource = Codex.SearchType.Create(Codex.IBoundSourceSearchModel, Codex.SearchTypes.RegisteredSearchTypes, "BoundSource");
                    this.Language = Codex.SearchType.Create(Codex.ILanguageSearchModel, Codex.SearchTypes.RegisteredSearchTypes, "Language");
                    this.Repository = Codex.SearchType.Create(Codex.IRepositorySearchModel, Codex.SearchTypes.RegisteredSearchTypes, "Repository");
                    this.Project = Codex.SearchType.Create(Codex.IProjectSearchModel, Codex.SearchTypes.RegisteredSearchTypes, "Project").Exclude(($t = { ntype: 38, t: Codex.IProjectSearchModel, n: "sm" }, ($t5 = { ntype: 10, t: System.Object, operand: ($t4 = Bridge.getMetadata(Codex.IReferencedProject).m[0], { ntype: 23, t: $t4.rt, expression: ($t3 = {"td":System.Linq.Enumerable,"a":2,"n":"First","is":true,"t":8,"pi":[{"n":"source","pt":System.Collections.Generic.IEnumerable$1(Codex.IReferencedProject),"ps":0}],"tpc":1,"def":function (TSource, source) { return System.Linq.Enumerable.from(source).first(); },"rt":Codex.IReferencedProject,"p":[System.Collections.Generic.IEnumerable$1(Codex.IReferencedProject)]}, { ntype: 6, t: $t3.rt, obj: null, method: $t3, args: Bridge.toList([{ ntype: 10, t: System.Collections.Generic.IEnumerable$1(Codex.IReferencedProject), operand: ($t2 = Bridge.getMetadata(Codex.IProject).m[2], { ntype: 23, t: $t2.rt, expression: ($t1 = Bridge.getMetadata(Codex.IProjectSearchModel).m[0], { ntype: 23, t: $t1.rt, expression: $t, member: $t1 }), member: $t2 }) }]) }), member: $t4 }) }, { ntype: 18, t: Function, rt: $t5.t, body: $t5, p: Bridge.toList([$t]) })));
                    this.Commit = Codex.SearchType.Create(Codex.ICommitSearchModel, Codex.SearchTypes.RegisteredSearchTypes, "Commit");
                    this.CommitFiles = Codex.SearchType.Create(Codex.ICommitFilesSearchModel, Codex.SearchTypes.RegisteredSearchTypes, "CommitFiles");
                    this.ProjectReference = Codex.SearchType.Create(Codex.IProjectReferenceSearchModel, Codex.SearchTypes.RegisteredSearchTypes, "ProjectReference");
                    this.Property = Codex.SearchType.Create(Codex.IPropertySearchModel, Codex.SearchTypes.RegisteredSearchTypes, "Property");
                    this.StoredFilter = Codex.SearchType.Create(Codex.IStoredFilter, Codex.SearchTypes.RegisteredSearchTypes, "StoredFilter");
                    this.RegisteredEntity = Codex.SearchType.Create(Codex.IRegisteredEntity, Codex.SearchTypes.RegisteredSearchTypes, "RegisteredEntity");
                }
            }
        }
    });

    Bridge.define("Codex.SerializationInterfaceAttribute", {
        inherits: [System.Attribute],
        fields: {
            Type: null
        },
        ctors: {
            ctor: function (type) {
                this.$initialize();
                System.Attribute.ctor.call(this);
                this.Type = type;
            }
        }
    });

    Bridge.define("Codex.SpanExtensions", {
        statics: {
            methods: {
                LineSpanEnd: function (lineSpan) {
                    return ((lineSpan.Codex$ILineSpan$LineSpanStart + lineSpan.Codex$ISpan$Length) | 0);
                },
                End: function (lineSpan) {
                    return ((lineSpan.Codex$ISpan$Start + lineSpan.Codex$ISpan$Length) | 0);
                },
                SpanEquals: function (span, otherSpan) {
                    if (span == null) {
                        return false;
                    }

                    return span.Codex$ISpan$Start === otherSpan.Codex$ISpan$Start && span.Codex$ISpan$Length === otherSpan.Codex$ISpan$Length;
                },
                Contains: function (span, otherSpan) {
                    if (span == null) {
                        return false;
                    }

                    return otherSpan.Codex$ISpan$Start >= span.Start && Codex.SpanExtensions.End(otherSpan) <= Codex.SpanExtensions.End(span);
                }
            }
        }
    });

    Bridge.define("Codex.Utilities.CollectionUtilities");

    Bridge.define("Codex.Utilities.CollectionUtilities.Empty$1", function (T) { return {
        statics: {
            fields: {
                List: null,
                Array: null
            },
            ctors: {
                init: function () {
                    this.List = new (System.Collections.Generic.List$1(T)).$ctor2(0);
                    this.Array = System.Array.init(0, function (){
                        return Bridge.getDefaultValue(T);
                    }, T);
                }
            }
        }
    }; });

    Bridge.define("Codex.Utilities.SerializationUtilities", {
        statics: {
            methods: {
                AssignDuplicate: function (T, value, lastValue) {
                    if (System.Collections.Generic.EqualityComparer$1(T).def.equals2(value, Bridge.getDefaultValue(T))) {
                        return lastValue.v;
                    } else {
                        lastValue.v = value;
                        return value;
                    }
                },
                RemoveDuplicate: function (T, value, lastValue) {
                    if (System.Collections.Generic.EqualityComparer$1(T).def.equals2(value, Bridge.getDefaultValue(T))) {
                        return Bridge.getDefaultValue(T);
                    } else {
                        lastValue.v = value;
                        return value;
                    }
                }
            }
        }
    });

    Bridge.define("Codex.View.App", {
        inherits: [System.Windows.Application],
        main: function Main () {
            System.Windows.ApplicationHost.Current.System$Windows$IApplicationHost$Run($asm.$.Codex.View.App.f1);
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                System.Windows.Application.ctor.call(this);
                Codex.View.Styles.Initialize();
                // TODO: This should be configurable through build properties somehow
                Codex.View.CodexProvider.Instance = new Codex.View.Web.WebApiCodex("http://localhost:9491/api/codex/");
            }
        },
        methods: {
            InitializeComponent: function () {
                System.Windows.Application.LoadComponent$1(this, Granular.Compatibility.Uri.CreateAbsoluteUri("pack://application:,,,/Codex.View.Web;component/App.xaml"));
            }
        }
    });

    Bridge.ns("Codex.View.App", $asm.$);

    Bridge.apply($asm.$.Codex.View.App, {
        f1: function () {
            var application = new Codex.View.App();
            application.InitializeComponent();
            application.Run();
        }
    });

    Bridge.define("Codex.View.NotifyPropertyChangedBase", {
        inherits: [System.ComponentModel.INotifyPropertyChanged],
        events: {
            propertyChanged: null
        },
        alias: ["addPropertyChanged", "System$ComponentModel$INotifyPropertyChanged$addPropertyChanged",
        "removePropertyChanged", "System$ComponentModel$INotifyPropertyChanged$removePropertyChanged"],
        methods: {
            addPropertyChanged: function (value) {
                this.addpropertyChanged(value);
            },
            removePropertyChanged: function (value) {
                this.removepropertyChanged(value);
            },
            OnPropertyChanged: function (memberName) {
                if (memberName === void 0) { memberName = null; }
                !Bridge.staticEquals(this.propertyChanged, null) ? this.propertyChanged(this, new System.ComponentModel.PropertyChangedEventArgs(memberName)) : null;
            }
        }
    });

    Bridge.define("Codex.View.IResultsStats", {
        $kind: "interface"
    });

    Bridge.define("Codex.View.LeftPaneChild");

    Bridge.define("Codex.View.CodexProvider", {
        statics: {
            props: {
                Instance: null
            }
        }
    });

    Bridge.define("Codex.View.Commands", {
        statics: {
            fields: {
                GoToDefinition: null,
                GoToSpan: null,
                GoToReference: null
            },
            ctors: {
                init: function () {
                    this.GoToDefinition = Codex.View.Commands.CreateCommand(Codex.IReferenceSymbol, "GoToDefinition");
                    this.GoToSpan = Codex.View.Commands.CreateCommand(Codex.Sdk.Search.ITextLineSpanResult, "GoToSpan");
                    this.GoToReference = Codex.View.Commands.CreateCommand(Codex.Sdk.Search.IReferenceSearchResult, "GoToReference");
                }
            },
            methods: {
                CreateCommand: function (T, name) {
                    if (name === void 0) { name = null; }
                    return new (Codex.View.TypedRoutedComamnd$1(T))(name, Codex.View.Commands);
                }
            }
        }
    });

    Bridge.define("Codex.View.Counter", {
        fields: {
            Parent: null,
            Count: 0
        },
        methods: {
            CreateChild: function () {
                var $t;
                return ($t = new Codex.View.Counter(), $t.Parent = this, $t);
            },
            Increment: function () {
                this.Count = (this.Count + 1) | 0;
            },
            Add: function (value) {
                this.Count = value;
            }
        }
    });

    Bridge.define("Codex.View.EditorHostControl", {
        inherits: [System.Windows.FrameworkElement,Granular.Host.Render.IHtmlRenderElementHost],
        statics: {
            fields: {
                SourceFileProperty: null
            },
            ctors: {
                init: function () {
                    this.SourceFileProperty = System.Windows.DependencyProperty.Register("SourceFile", Codex.IBoundSourceFile, Codex.View.EditorHostControl, new System.Windows.PropertyMetadata.$ctor2(null, Codex.View.EditorHostControl.OnSourceFileChanged));
                }
            },
            methods: {
                OnSourceFileChanged: function (d, e) {
                    var $t;
                    ($t = (Bridge.as(d, Codex.View.EditorHostControl))) != null ? $t.OnSourceFileChanged() : null;
                }
            }
        },
        fields: {
            m_htmlElement: null,
            m_editor: null,
            m_text: null
        },
        props: {
            SourceFile: {
                get: function () {
                    return Bridge.cast(this.GetValue(Codex.View.EditorHostControl.SourceFileProperty), Codex.IBoundSourceFile);
                },
                set: function (value) {
                    this.SetValue(Codex.View.EditorHostControl.SourceFileProperty, value);
                }
            }
        },
        alias: ["SetRenderElement", "Granular$Host$Render$IHtmlRenderElementHost$SetRenderElement"],
        ctors: {
            init: function () {
                this.m_text = "Hello World";
            },
            ctor: function () {
                this.$initialize();
                System.Windows.FrameworkElement.ctor.call(this);
                this.Focusable = true;
                this.IsHitTestVisible = true;
            }
        },
        methods: {
            SetRenderElement: function (htmlElement) {
                var $step = 0,
                    $task1, 
                    $taskResult1, 
                    $jumpFromFinally, 
                    $asyncBody = Bridge.fn.bind(this, function () {
                        for (;;) {
                            $step = System.Array.min([0,1], $step);
                            switch ($step) {
                                case 0: {
                                    this.m_htmlElement = htmlElement;
                                    $task1 = Monaco.Editor.Create(htmlElement, { value: this.m_text, language: "text", readOnly: true });
                                    $step = 1;
                                    $task1.continueWith($asyncBody, true);
                                    return;
                                }
                                case 1: {
                                    $taskResult1 = $task1.getAwaitedResult();
                                    this.m_editor = $taskResult1;

                                    this.VisualIsHitTestVisible = true;
                                    this.VisualBackground = System.Windows.Media.Brushes.Transparent;
                                    return;
                                }
                                default: {
                                    return;
                                }
                            }
                        }
                    }, arguments);

                $asyncBody();
            },
            ArrangeOverride: function (finalSize) {
                var currentSize = this.VisualBounds.Size;
                finalSize = System.Windows.FrameworkElement.prototype.ArrangeOverride.call(this, finalSize);

                if (!System.Windows.SizeExtensions.IsClose(currentSize, finalSize)) {
                    if (this.m_editor != null) {
                        Codex.View.ViewUtilities.RenderQueue.InvokeAsync(Bridge.fn.bind(this, $asm.$.Codex.View.EditorHostControl.f1));
                    }
                }

                return finalSize;
            },
            OnSourceFileChanged: function () {
                var $t, $t1;
                this.m_text = ($t = (($t1 = this.SourceFile) != null ? $t1.Codex$IBoundSourceFile$SourceFile.Codex$ISourceFile$Content : null), $t != null ? $t : "");
                this.m_editor.setValue(this.m_text);
            }
        }
    });

    Bridge.ns("Codex.View.EditorHostControl", $asm.$);

    Bridge.apply($asm.$.Codex.View.EditorHostControl, {
        f1: function () {
            this.m_editor.layout();
        }
    });

    Bridge.define("Codex.View.TypedCommandBinding$1", function (T) { return {
        inherits: [System.Windows.Input.CommandBinding],
        events: {
            CommandExecuted: null
        },
        ctors: {
            ctor: function (command) {
                this.$initialize();
                System.Windows.Input.CommandBinding.ctor.call(this);
                this.Command = command;
                this.addExecuted(Bridge.fn.cacheBind(this, this.TypedCommandBinding_Executed));
            }
        },
        methods: {
            TypedCommandBinding_Executed: function (sender, e) {
                var parameter = e.Parameter;
                var typedParameter = Bridge.cast(Bridge.unbox(parameter), T);
                !Bridge.staticEquals(this.CommandExecuted, null) ? this.CommandExecuted(typedParameter) : null;
            }
        }
    }; });

    Bridge.define("Codex.View.GranularExtensions", {
        statics: {
            methods: {
                AsTriggerProperty: function (dependencyProperty) {
                    return new System.Windows.DependencyPropertyPathElement(dependencyProperty);
                },
                WithSetters: function (trigger, setters) {
                    var $t;
                    if (setters === void 0) { setters = []; }
                    $t = Bridge.getEnumerator(setters);
                    try {
                        while ($t.moveNext()) {
                            var setter = $t.Current;
                            trigger.Setters.add(setter);
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }
                    return trigger;
                }
            }
        }
    });

    Bridge.define("Codex.View.HtmlContentView", {
        inherits: [System.Windows.FrameworkElement,Granular.Host.Render.IHtmlRenderElementHost],
        statics: {
            fields: {
                ContentProperty: null
            },
            ctors: {
                init: function () {
                    this.ContentProperty = Codex.View.ViewUtilities.RegisterDependencyProperty(Codex.View.HtmlContentView, Codex.View.Web.IHtmlContent, "ContentProperty", $asm.$.Codex.View.HtmlContentView.f1);
                }
            }
        },
        fields: {
            m_htmlElement: null,
            m_childrenHost: null
        },
        props: {
            Content: {
                get: function () {
                    return Bridge.cast(this.GetValue(Codex.View.HtmlContentView.ContentProperty), Codex.View.Web.IHtmlContent);
                },
                set: function (value) {
                    this.SetValue(Codex.View.HtmlContentView.ContentProperty, value);
                }
            }
        },
        alias: ["SetRenderElement", "Granular$Host$Render$IHtmlRenderElementHost$SetRenderElement"],
        ctors: {
            ctor: function () {
                this.$initialize();
                System.Windows.FrameworkElement.ctor.call(this);
                this.VerticalAlignment = System.Windows.VerticalAlignment.Stretch;
                this.VisualIsHitTestVisible = true;
                this.VisualBackground = System.Windows.Media.Brushes.Transparent;
            }
        },
        methods: {
            SetRenderElement: function (htmlElement) {
                this.m_htmlElement = htmlElement;
                htmlElement.style.overflowX = "auto";
                htmlElement.style.overflowY = "auto";

                if (this.m_childrenHost != null) {
                    this.m_htmlElement.appendChild(this.m_childrenHost);
                }
            },
            OnContentChanged: function (content) {
                Codex.View.ViewUtilities.RenderQueue.InvokeAsync(Bridge.fn.bind(this, function () {
                    var oldChildrenHost = this.m_childrenHost;
                    var newChildrenHost = document.createElement("div");
                    this.m_childrenHost = newChildrenHost;
                    content != null ? content.Codex$View$Web$IHtmlContent$Render(newChildrenHost, new Codex.View.Web.RenderContext(this)) : null;

                    if (oldChildrenHost != null) {
                        this.m_htmlElement != null ? this.m_htmlElement.replaceChild(newChildrenHost, oldChildrenHost) : null;
                    } else {
                        this.m_htmlElement != null ? this.m_htmlElement.appendChild(newChildrenHost) : null;
                    }
                }));
            }
        }
    });

    Bridge.ns("Codex.View.HtmlContentView", $asm.$);

    Bridge.apply($asm.$.Codex.View.HtmlContentView, {
        f1: function (view, content) {
            view.OnContentChanged(content);
        }
    });

    Bridge.define("Codex.View.Lazy$1", function (T) { return {
        fields: {
            m_valueFactory: null,
            value: Bridge.getDefaultValue(T)
        },
        props: {
            Value: {
                get: function () {
                    if (!Bridge.staticEquals(this.m_valueFactory, null)) {
                        this.value = this.m_valueFactory();
                        this.m_valueFactory = null;
                    }

                    return this.value;
                }
            }
        },
        ctors: {
            ctor: function (valueFactory) {
                this.$initialize();
                this.m_valueFactory = valueFactory;
            }
        }
    }; });

    Bridge.define("Codex.View.LeftPaneContentView", {
        inherits: [System.Windows.Controls.ContentControl],
        methods: {
            RenderContent: function (view, viewModel) { }
        }
    });

    Bridge.define("Codex.View.LeftPaneView", {
        inherits: [System.Windows.Controls.UserControl,Granular.Host.Render.IHtmlRenderElementHost],
        statics: {
            fields: {
                ViewModelProperty: null
            },
            ctors: {
                init: function () {
                    this.ViewModelProperty = Codex.View.ViewUtilities.RegisterDependencyProperty(Codex.View.LeftPaneView, Codex.View.LeftPaneViewModel, "ViewModelProperty", Codex.View.LeftPaneView.OnViewModelChanged, void 0);
                }
            },
            methods: {
                GetOverflow: function (available, actual) {
                    if (Granular.Extensions.DoubleExtensions.IsClose(available, actual)) {
                        return "hidden";
                    } else {
                        return "auto";
                    }
                },
                OnViewModelChanged: function (view, viewModel) {
                    view.ContextGrid.DataContext = viewModel;
                    view.PaneContent != null ? view.PaneContent.RenderContent(view, viewModel != null ? viewModel.Content : null) : null;
                }
            }
        },
        fields: {
            m_htmlElement: null,
            ContextGrid: null,
            SearchInfo: null,
            PaneContent: null
        },
        props: {
            ViewModel: {
                get: function () {
                    return Bridge.cast(this.GetValue(Codex.View.LeftPaneView.ViewModelProperty), Codex.View.LeftPaneViewModel);
                },
                set: function (value) {
                    this.SetValue(Codex.View.LeftPaneView.ViewModelProperty, value);
                }
            }
        },
        alias: ["SetRenderElement", "Granular$Host$Render$IHtmlRenderElementHost$SetRenderElement"],
        ctors: {
            ctor: function () {
                this.$initialize();
                System.Windows.Controls.UserControl.ctor.call(this);
                this.InitializeComponent();
            }
        },
        methods: {
            SetRenderElement: function (htmlElement) {
                this.m_htmlElement = htmlElement;
                this.VisualBackground = System.Windows.Media.Brushes.Transparent;
                this.VisualIsHitTestVisible = true;
                htmlElement.style.overflowX = "auto";
                htmlElement.style.overflowY = "auto";
            },
            ArrangeOverride: function (finalSize) {
                var htmlElement = this.m_htmlElement;
                if (htmlElement != null && htmlElement.clientWidth !== 0) {
                    Codex.View.ViewUtilities.RenderQueue.InvokeAsync(function () {
                        htmlElement.style.overflowX = Codex.View.LeftPaneView.GetOverflow(finalSize.Width, htmlElement.scrollWidth);
                        htmlElement.style.overflowY = Codex.View.LeftPaneView.GetOverflow(finalSize.Height, htmlElement.scrollHeight);
                    });
                }

                return System.Windows.Controls.UserControl.prototype.ArrangeOverride.call(this, finalSize);
            },
            InitializeComponent: function () {
                System.Windows.Application.LoadComponent$1(this, Granular.Compatibility.Uri.CreateAbsoluteUri("pack://application:,,,/Codex.View.Web;component/LeftPaneView.xaml"));
            }
        }
    });

    /** @namespace Codex.View */

    /**
     * Interaction logic for MainWindow.xaml
     *
     * @public
     * @class Codex.View.MainWindow
     * @augments System.Windows.Window
     */
    Bridge.define("Codex.View.MainWindow", {
        inherits: [System.Windows.Window],
        fields: {
            ViewModel: null,
            SearchBox: null,
            SearchBoxAndImagesColumn: null,
            HeaderMenuColumn: null,
            LeftPane: null
        },
        props: {
            CodexService: null
        },
        ctors: {
            init: function () {
                this.ViewModel = new Codex.View.ViewModelDataContext();
                this.CodexService = Codex.View.CodexProvider.Instance;
            },
            ctor: function () {
                this.$initialize();
                System.Windows.Window.ctor.call(this);
                this.InitializeComponent();
                this.DataContext = this.ViewModel;
                this.ViewModel.Initialize();
                this.SearchBox.Text = "td";
            }
        },
        methods: {
            Grid_Loaded: function (sender, e) {
                System.Console.WriteLine("Grid_Loaded");
            },
            SearchTextChanged: function (sender, e) {
                var $step = 0,
                    $task1, 
                    $taskResult1, 
                    $jumpFromFinally, 
                    searchString, 
                    $t, 
                    response, 
                    $asyncBody = Bridge.fn.bind(this, function () {
                        for (;;) {
                            $step = System.Array.min([0,1], $step);
                            switch ($step) {
                                case 0: {
                                    searchString = this.SearchBox.Text;
                                    searchString = searchString.trim();

                                    if (Bridge.referenceEquals(searchString, "ass")) {
                                    } else {
                                    }

                                    if (searchString.length < 3) {
                                        this.ViewModel.LeftPane = ($t = new Codex.View.LeftPaneViewModel(), $t.SearchInfo = "Enter at least 3 characters.", $t);
                                        return;
                                    }

                                    $task1 = this.CodexService.Codex$Sdk$Search$ICodex$SearchAsync(($t = new Codex.Sdk.Search.SearchArguments(), $t.SearchString = searchString, $t));
                                    $step = 1;
                                    $task1.continueWith($asyncBody, true);
                                    return;
                                }
                                case 1: {
                                    $taskResult1 = $task1.getAwaitedResult();
                                    response = $taskResult1;

                                    this.ViewModel.LeftPane = Codex.View.LeftPaneViewModel.FromSearchResponse(searchString, response);
                                    return;
                                }
                                default: {
                                    return;
                                }
                            }
                        }
                    }, arguments);

                $asyncBody();
            },
            GoToSpanExecuted: function (lineSpan) {
                var $step = 0,
                    $task1, 
                    $taskResult1, 
                    $jumpFromFinally, 
                    sourceFileResponse, 
                    $t, 
                    $asyncBody = Bridge.fn.bind(this, function () {
                        for (;;) {
                            $step = System.Array.min([0,1], $step);
                            switch ($step) {
                                case 0: {
                                    $task1 = this.CodexService.Codex$Sdk$Search$ICodex$GetSourceAsync(($t = new Codex.Sdk.Search.GetSourceArguments(), $t.ProjectId = lineSpan.Codex$IProjectScopeEntity$ProjectId, $t.ProjectRelativePath = lineSpan.Codex$IProjectFileScopeEntity$ProjectRelativePath, $t));
                                    $step = 1;
                                    $task1.continueWith($asyncBody, true);
                                    return;
                                }
                                case 1: {
                                    $taskResult1 = $task1.getAwaitedResult();
                                    sourceFileResponse = $taskResult1;

                                    this.ViewModel.RightPane = new Codex.View.RightPaneViewModel.$ctor3(sourceFileResponse);
                                    return;
                                }
                                default: {
                                    return;
                                }
                            }
                        }
                    }, arguments);

                $asyncBody();
            },
            GoToReferenceExecuted: function (referenceResult) {
                var $step = 0,
                    $task1, 
                    $taskResult1, 
                    $jumpFromFinally, 
                    sourceFileResponse, 
                    $t, 
                    $asyncBody = Bridge.fn.bind(this, function () {
                        for (;;) {
                            $step = System.Array.min([0,1], $step);
                            switch ($step) {
                                case 0: {
                                    $task1 = this.CodexService.Codex$Sdk$Search$ICodex$GetSourceAsync(($t = new Codex.Sdk.Search.GetSourceArguments(), $t.ProjectId = referenceResult.Codex$IProjectScopeEntity$ProjectId, $t.ProjectRelativePath = referenceResult.Codex$IProjectFileScopeEntity$ProjectRelativePath, $t));
                                    $step = 1;
                                    $task1.continueWith($asyncBody, true);
                                    return;
                                }
                                case 1: {
                                    $taskResult1 = $task1.getAwaitedResult();
                                    sourceFileResponse = $taskResult1;

                                    this.ViewModel.RightPane = new Codex.View.RightPaneViewModel.$ctor3(sourceFileResponse);
                                    return;
                                }
                                default: {
                                    return;
                                }
                            }
                        }
                    }, arguments);

                $asyncBody();
            },
            FindAllReferencesExecuted: function (symbol) {
                var $step = 0,
                    $task1, 
                    $taskResult1, 
                    $jumpFromFinally, 
                    response, 
                    $t, 
                    $asyncBody = Bridge.fn.bind(this, function () {
                        for (;;) {
                            $step = System.Array.min([0,1], $step);
                            switch ($step) {
                                case 0: {
                                    $task1 = this.CodexService.Codex$Sdk$Search$ICodex$FindAllReferencesAsync(($t = new Codex.Sdk.Search.FindAllReferencesArguments(), $t.ProjectId = symbol.Codex$ICodeSymbol$ProjectId, $t.SymbolId = symbol.Codex$ICodeSymbol$Id.Value, $t));
                                    $step = 1;
                                    $task1.continueWith($asyncBody, true);
                                    return;
                                }
                                case 1: {
                                    $taskResult1 = $task1.getAwaitedResult();
                                    response = $taskResult1;

                                    this.ViewModel.LeftPane = Codex.View.LeftPaneViewModel.FromReferencesResponse(response);
                                    return;
                                }
                                default: {
                                    return;
                                }
                            }
                        }
                    }, arguments);

                $asyncBody();
            },
            GoToDefinitionExecuted: function (symbol) {
                var $step = 0,
                    $task1, 
                    $taskResult1, 
                    $task2, 
                    $taskResult2, 
                    $jumpFromFinally, 
                    response, 
                    $t, 
                    reference, 
                    sourceFileResponse, 
                    $asyncBody = Bridge.fn.bind(this, function () {
                        for (;;) {
                            $step = System.Array.min([0,1,2,3,4,5,6,8], $step);
                            switch ($step) {
                                case 0: {
                                    $task1 = this.CodexService.Codex$Sdk$Search$ICodex$FindDefinitionLocationAsync(($t = new Codex.Sdk.Search.FindDefinitionLocationArguments(), $t.ProjectId = symbol.Codex$ICodeSymbol$ProjectId, $t.SymbolId = symbol.Codex$ICodeSymbol$Id.Value, $t));
                                    $step = 1;
                                    $task1.continueWith($asyncBody, true);
                                    return;
                                }
                                case 1: {
                                    $taskResult1 = $task1.getAwaitedResult();
                                    response = $taskResult1;

                                    if (response.Error != null || response.Result.Hits.Count === 0) {
                                        $step = 2;
                                        continue;
                                    } else  {
                                        $step = 3;
                                        continue;
                                    }
                                }
                                case 2: {
                                    this.ViewModel.RightPane = new Codex.View.RightPaneViewModel.$ctor2(response);
                                    $step = 8;
                                    continue;
                                }
                                case 3: {
                                    if (response.Result.Hits.Count > 1 || !Bridge.referenceEquals(response.Result.Hits.getItem(0).Codex$Sdk$Search$IReferenceSearchResult$ReferenceSpan.Codex$IReferenceSpan$Reference.Codex$IReferenceSymbol$ReferenceKind, "Definition")) {
                                        $step = 4;
                                        continue;
                                    } else  {
                                        $step = 5;
                                        continue;
                                    }
                                }
                                case 4: {
                                    // Show definitions in left pane
                                    this.ViewModel.LeftPane = Codex.View.LeftPaneViewModel.FromReferencesResponse(response);
                                    $step = 7;
                                    continue;
                                }
                                case 5: {
                                    reference = response.Result.Hits.getItem(0);
                                    $task2 = this.CodexService.Codex$Sdk$Search$ICodex$GetSourceAsync(($t = new Codex.Sdk.Search.GetSourceArguments(), $t.ProjectId = reference.Codex$IProjectScopeEntity$ProjectId, $t.ProjectRelativePath = reference.Codex$IProjectFileScopeEntity$ProjectRelativePath, $t));
                                    $step = 6;
                                    $task2.continueWith($asyncBody, true);
                                    return;
                                }
                                case 6: {
                                    $taskResult2 = $task2.getAwaitedResult();
                                    sourceFileResponse = $taskResult2;

                                    this.ViewModel.RightPane = new Codex.View.RightPaneViewModel.$ctor3(sourceFileResponse);
                                    $step = 7;
                                    continue;
                                }

                                case 8: {
                                    return;
                                }
                                default: {
                                    return;
                                }
                            }
                        }
                    }, arguments);

                $asyncBody();
            },
            UpdateRightPane: function (getViewModel) {
                var $step = 0,
                    $task1, 
                    $taskResult1, 
                    $jumpFromFinally, 
                    rightViewModel, 
                    $asyncBody = Bridge.fn.bind(this, function () {
                        for (;;) {
                            $step = System.Array.min([0,1], $step);
                            switch ($step) {
                                case 0: {
                                    $task1 = getViewModel();
                                    $step = 1;
                                    $task1.continueWith($asyncBody, true);
                                    return;
                                }
                                case 1: {
                                    $taskResult1 = $task1.getAwaitedResult();
                                    rightViewModel = $taskResult1;
                                    this.ViewModel.RightPane = rightViewModel;
                                    return;
                                }
                                default: {
                                    return;
                                }
                            }
                        }
                    }, arguments);

                $asyncBody();
            },
            InitializeComponent: function () {
                System.Windows.Application.LoadComponent$1(this, Granular.Compatibility.Uri.CreateAbsoluteUri("pack://application:,,,/Codex.View.Web;component/MainWindow.xaml"));
            }
        }
    });

    Bridge.define("Codex.View.Web.IHtmlContent", {
        $kind: "interface"
    });

    /**
     * Interaction logic for RightPaneView.xaml
     *
     * @public
     * @class Codex.View.RightPaneView
     * @augments System.Windows.Controls.UserControl
     */
    Bridge.define("Codex.View.RightPaneView", {
        inherits: [System.Windows.Controls.UserControl],
        ctors: {
            ctor: function () {
                this.$initialize();
                System.Windows.Controls.UserControl.ctor.call(this);
                this.InitializeComponent();
            }
        },
        methods: {
            InitializeComponent: function () {
                System.Windows.Application.LoadComponent$1(this, Granular.Compatibility.Uri.CreateAbsoluteUri("pack://application:,,,/Codex.View.Web;component/RightPaneView.xaml"));
            }
        }
    });

    Bridge.define("Codex.View.Styles", {
        statics: {
            fields: {
                IsMouseOverHeaderProperty: null,
                HeaderOrientationProperty: null
            },
            ctors: {
                init: function () {
                    this.IsMouseOverHeaderProperty = System.Windows.DependencyProperty.RegisterAttached("IsMouseOverHeader", System.Boolean, Codex.View.Styles, new System.Windows.PropertyMetadata.$ctor1(Bridge.box(false, System.Boolean, System.Boolean.toString)));
                    this.HeaderOrientationProperty = System.Windows.DependencyProperty.RegisterAttached("HeaderOrientation", System.Windows.Controls.Orientation, Codex.View.Styles, new System.Windows.PropertyMetadata.$ctor1(Bridge.box(System.Windows.Controls.Orientation.Horizontal, System.Windows.Controls.Orientation, System.Enum.toStringFn(System.Windows.Controls.Orientation))));
                }
            },
            methods: {
                GetIsMouseOverHeader: function (obj) {
                    return System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj.GetValue(Codex.View.Styles.IsMouseOverHeaderProperty)), System.Boolean));
                },
                SetIsMouseOverHeader: function (obj, value) {
                    obj.SetValue(Codex.View.Styles.IsMouseOverHeaderProperty, Bridge.box(value, System.Boolean, System.Boolean.toString));
                },
                GetHeaderOrientation: function (obj) {
                    return System.Nullable.getValue(Bridge.cast(Bridge.unbox(obj.GetValue(Codex.View.Styles.HeaderOrientationProperty)), System.Int32));
                },
                SetHeaderOrientation: function (obj, value) {
                    obj.SetValue(Codex.View.Styles.HeaderOrientationProperty, Bridge.box(value, System.Windows.Controls.Orientation, System.Enum.toStringFn(System.Windows.Controls.Orientation)));
                },
                Initialize: function () { }
            }
        }
    });

    Bridge.define("Codex.View.TypedRoutedComamnd$1", function (T) { return {
        inherits: [System.Windows.Input.RoutedCommand],
        ctors: {
            ctor: function (name, ownerType) {
                this.$initialize();
                System.Windows.Input.RoutedCommand.ctor.call(this, name, ownerType);
            }
        },
        methods: {
            RaiseExecuted: function (element, parameter) {
                element.RaiseEvent(new System.Windows.Input.ExecutedRoutedEventArgs(this, parameter, element));
            }
        }
    }; });

    Bridge.define("Codex.View.ViewUtilities", {
        statics: {
            fields: {
                RenderQueue: null
            },
            ctors: {
                init: function () {
                    this.RenderQueue = new Granular.Host.RenderQueue();
                }
            },
            methods: {
                WithOnClick: function (T, element, action) {
                    element.onclick = function (e) {
                        action();

                        e.preventDefault();
                        e.stopPropagation();
                    };


                    return element;
                },
                WithChild: function (T, element, child) {
                    element.appendChild(child);
                    return element;
                },
                WithText: function (T, element, text) {
                    element.textContent = text;
                    return element;
                },
                ToggleExpandCollapse: function (arg) {
                    var headerElement = arg.currentTarget;
                    var collapsible = headerElement.nextElementSibling;
                    if (collapsible.style.display === "none") {
                        collapsible.style.display = "block";
                        Codex.View.ViewUtilities.SetBackgroundIcon(headerElement, "minus");
                    } else {
                        collapsible.style.display = "none";
                        Codex.View.ViewUtilities.SetBackgroundIcon(headerElement, "plus");
                    }

                    arg.preventDefault();
                    arg.stopPropagation();
                },
                SetBackgroundIcon: function (element, imageName) {
                    element.style.backgroundImage = Codex.View.ViewUtilities.GetIconPath(imageName);
                    return element;
                },
                GetIconPath: function (imageName) {
                    return System.String.format("content/icons/{0}.png", imageName);
                },
                RenderHeaderedContent: function (parentElement, headerClass, headerText, contentClass) {
                    var $t;
                    // Header
                    parentElement.appendChild(($t = document.createElement("div"), $t.className = headerClass, $t.onclick = Codex.View.ViewUtilities.ToggleExpandCollapse, $t.textContent = headerText, $t));

                    // Content
                    var contentElement = ($t = document.createElement("div"), $t.className = contentClass, $t);
                    parentElement.appendChild(contentElement);
                    return contentElement;
                },
                EndsWith: function (s, value, comparison) {
                    var suffixStartIndex = (s.length - value.length) | 0;
                    return System.String.indexOf(s, value, suffixStartIndex, 1, comparison) === suffixStartIndex;
                },
                GetFileNameGlyph: function (fileName) {
                    if (Codex.View.ViewUtilities.EndsWith(fileName, ".cs", 5)) {
                        return "csharp";
                    } else if (Codex.View.ViewUtilities.EndsWith(fileName, ".vb", 5)) {
                        return "vb";
                    } else if (Codex.View.ViewUtilities.EndsWith(fileName, ".ts", 5)) {
                        return "TypeScript";
                    } else if (Codex.View.ViewUtilities.EndsWith(fileName, ".xaml", 5)) {
                        return "xaml";
                    }

                    return "212";
                },
                GetGlyph: function (s, filePath) {
                    if (filePath === void 0) { filePath = null; }
                    var glyph = s.Codex$IDefinitionSymbol$Glyph;
                    if (glyph !== Codex.ObjectModel.Glyph.Unknown) {
                        return Codex.ObjectModel.GlyphUtilities.GetGlyphNumber(glyph).toString();
                    }

                    if (!System.String.isNullOrEmpty(filePath)) {
                        if (System.String.equals(s.Codex$ICodeSymbol$Kind, "File", 5)) {
                            return Codex.View.ViewUtilities.GetFileNameGlyph(filePath);
                        }
                    }

                    return "0";
                },
                BoolVisibility: function (isVisible) {
                    return isVisible ? System.Windows.Visibility.Visible : System.Windows.Visibility.Collapsed;
                },
                Increment: function (T, value, counter) {
                    counter.Increment();
                    return value;
                },
                Add: function (T, value, computeCount) {
                    computeCount(value);
                    return value;
                },
                AddTo: function (T, value, counter) {
                    counter.Add(value.Codex$View$IResultsStats$Counter.Count);
                    return value;
                },
                AddFrom: function (T, value, counter) {
                    value.Codex$View$IResultsStats$Counter.Add(counter.Count);
                    return value;
                },
                RegisterDependencyProperty: function (TOwner, TPropertyType, dependencyPropertyName, onPropertyChanged, defaultValue) {
                    if (dependencyPropertyName === void 0) { dependencyPropertyName = null; }
                    if (onPropertyChanged === void 0) { onPropertyChanged = null; }
                    if (defaultValue === void 0) { defaultValue = Bridge.getDefaultValue(TPropertyType); }
                    return System.Windows.DependencyProperty.Register(dependencyPropertyName.substr(0, ((dependencyPropertyName.length - ("Property").length) | 0)), TPropertyType, TOwner, !Bridge.staticEquals(onPropertyChanged, null) ? new System.Windows.PropertyMetadata.$ctor2(defaultValue, function (owner, args) {
                        onPropertyChanged(Bridge.as(owner, TOwner), Bridge.cast(Bridge.unbox(args.NewValue), TPropertyType));
                    }) : new System.Windows.PropertyMetadata.$ctor1(defaultValue));
                },
                GetReferencesHeader: function (referenceKind, referenceCount, symbolName) {
                    var formatString = "";
                    switch (referenceKind) {
                        case Codex.ObjectModel.ReferenceKind.Reference: 
                            formatString = "{0} reference{1} to {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.Definition: 
                            formatString = "{0} definition{1} of {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.Constructor: 
                            formatString = "{0} constructor{1} of {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.Instantiation: 
                            formatString = "{0} instantiation{1} of {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.DerivedType: 
                            formatString = "{0} type{1} derived from {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.InterfaceInheritance: 
                            formatString = "{0} interface{1} inheriting from {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.InterfaceImplementation: 
                            formatString = "{0} implementation{1} of {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.Override: 
                            formatString = "{0} override{1} of {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.InterfaceMemberImplementation: 
                            formatString = "{0} implementation{1} of {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.Write: 
                            formatString = "{0} write{1} to {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.Read: 
                            formatString = "{0} read{1} of {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.GuidUsage: 
                            formatString = "{0} usage{1} of Guid {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.EmptyArrayAllocation: 
                            formatString = "{0} allocation{1} of empty arrays";
                            break;
                        case Codex.ObjectModel.ReferenceKind.MSBuildPropertyAssignment: 
                            formatString = "{0} assignment{1} to MSBuild property {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.MSBuildPropertyUsage: 
                            formatString = "{0} usage{1} of MSBuild property {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.MSBuildItemAssignment: 
                            formatString = "{0} assignment{1} to MSBuild item {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.MSBuildItemUsage: 
                            formatString = "{0} usage{1} of MSBuild item {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.MSBuildTargetDeclaration: 
                            formatString = "{0} declaration{1} of MSBuild target {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.MSBuildTargetUsage: 
                            formatString = "{0} usage{1} of MSBuild target {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.MSBuildTaskDeclaration: 
                            formatString = "{0} import{1} of MSBuild task {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.MSBuildTaskUsage: 
                            formatString = "{0} call{1} to MSBuild task {2}";
                            break;
                        case Codex.ObjectModel.ReferenceKind.Text: 
                            formatString = "{0} text search hit{1} for '{2}'";
                            break;
                        default: 
                            throw new System.NotImplementedException("Missing case for " + System.Enum.toString(Codex.ObjectModel.ReferenceKind, referenceKind));
                    }

                    return System.String.format(formatString, Bridge.box(referenceCount, System.Int32), referenceCount === 1 ? "" : "s", symbolName);
                }
            }
        }
    });

    Bridge.definei("Codex.View.Web.IHtmlModifier$1", function (TTarget) { return {
        $kind: "interface",
        $variance: [2]
    }; });

    Bridge.define("Codex.View.Web.Compatibility.Reference", {
        statics: {
            fields: {
                GranularPresentationGenericReference: null,
                JQueryReference: null
            }
        }
    });

    Bridge.define("Codex.View.Web.HtmlBuilder", {
        statics: {
            fields: {
                NBSP: null,
                Converter: null
            },
            ctors: {
                init: function () {
                    this.NBSP = String.fromCharCode((160));
                    this.Converter = new Granular.Host.HtmlValueConverter();
                }
            },
            methods: {
                Div: function (modifiers) {
                    if (modifiers === void 0) { modifiers = []; }
                    var element = document.createElement("div");
                    Codex.View.Web.HtmlBuilder.Apply(Bridge.global.HTMLDivElement, element, modifiers);
                    return Codex.View.Web.HtmlNode$1(HTMLDivElement).op_Implicit$1(element);
                },
                Anchor: function (modifiers) {
                    if (modifiers === void 0) { modifiers = []; }
                    var element = document.createElement("a");
                    Codex.View.Web.HtmlBuilder.Apply(Bridge.global.HTMLAnchorElement, element, modifiers);
                    return Codex.View.Web.HtmlNode$1(HTMLAnchorElement).op_Implicit$1(element);
                },
                Text: function (value) {
                    return Codex.View.Web.HtmlNode$1(Text).op_Implicit$1(document.createTextNode(value));
                },
                Target: function (value) {
                    return Codex.View.Web.HtmlBuilder.Create(HTMLAnchorElement, function (e) {
                        e.target = value;
                    });
                },
                Href: function (value) {
                    return Codex.View.Web.HtmlBuilder.Create(HTMLAnchorElement, function (e) {
                        e.href = value;
                    });
                },
                Title: function (value) {
                    return Codex.View.Web.HtmlBuilder.Create(HTMLElement, function (e) {
                        e.title = value;
                    });
                },
                Class: function (value) {
                    return Codex.View.Web.HtmlBuilder.Create(HTMLElement, function (e) {
                        e.className = value;
                    });
                },
                Id: function (value) {
                    return Codex.View.Web.HtmlBuilder.Create(HTMLElement, function (e) {
                        e.id = value;
                    });
                },
                Create: function (T, apply) {
                    return new (Codex.View.Web.ActionHtmlModifier$1(T))(apply);
                },
                Append: function (T, node) {
                    return Codex.View.Web.HtmlNode$1(T).op_Implicit$1(node);
                },
                Apply: function (T, target, modifiers) {
                    var $t;
                    $t = Bridge.getEnumerator(modifiers);
                    try {
                        while ($t.moveNext()) {
                            var modifier = $t.Current;
                            modifier[Bridge.geti(modifier, "Codex$View$Web$IHtmlModifier$1$" + Bridge.getTypeAlias(T) + "$Apply", "Codex$View$Web$IHtmlModifier$1$Apply")](target);
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }}
            }
        }
    });

    Bridge.define("Codex.View.Web.RenderContext", {
        fields: {
            Container: null
        },
        ctors: {
            ctor: function (container) {
                this.$initialize();
                this.Container = container;
            }
        }
    });

    Bridge.define("Codex.View.Web.Request", {
        statics: {
            methods: {
                GetTextAsync: function (url) {
                    var tcs = new System.Threading.Tasks.TaskCompletionSource();

                    var config = { url: url, type: "GET", dataType: "text", success: function (data, textStatus, successRequest) {
                        tcs.setResult(successRequest.responseText);
                        return null;
                    }, error: function (errorRequest, textStatus, errorThrown) {
                        tcs.setResult(System.String.format("Error: \n{0}", errorThrown));
                        return null;
                    } };

                    jQuery.ajax(config);
                    return tcs.task;
                }
            }
        }
    });

    Bridge.define("Monaco.Editor", {
        statics: {
            methods: {
                Create: function (htmlElement, options) {
                    var $step = 0,
                        $task1, 
                        $jumpFromFinally, 
                        $tcs = new System.Threading.Tasks.TaskCompletionSource(), 
                        $returnValue, 
                        $async_e, 
                        $asyncBody = Bridge.fn.bind(this, function () {
                            try {
                                for (;;) {
                                    $step = System.Array.min([0,1], $step);
                                    switch ($step) {
                                        case 0: {
                                            $task1 = Monaco.MonacoLibrary.InitializeAsync();
                                            $step = 1;
                                            $task1.continueWith($asyncBody);
                                            return;
                                        }
                                        case 1: {
                                            $task1.getAwaitedResult();
                                            $tcs.setResult(monaco.editor.create(htmlElement, options));
                                            return;
                                        }
                                        default: {
                                            $tcs.setResult(null);
                                            return;
                                        }
                                    }
                                }
                            } catch($async_e1) {
                                $async_e = System.Exception.create($async_e1);
                                $tcs.setException($async_e);
                            }
                        }, arguments);

                    $asyncBody();
                    return $tcs.task;
                }
            }
        }
    });

    /** @namespace Monaco */

    /**
     * Responsible for loading the monaco editor javascript library using the loader.js
     included with monaco
     *
     * @static
     * @abstract
     * @public
     * @class Monaco.MonacoLibrary
     */
    Bridge.define("Monaco.MonacoLibrary", {
        statics: {
            fields: {
                initializeTask: null
            },
            methods: {
                InitializeAsync: function () {
                    if (Monaco.MonacoLibrary.initializeTask == null) {
                        // Only initialize once
                        Monaco.MonacoLibrary.initializeTask = Monaco.MonacoLibrary.InitializeCoreAsync();
                    }

                    return Monaco.MonacoLibrary.initializeTask;
                },
                InitializeCoreAsync: function () {
                    var $step = 0,
                        $task1, 
                        $jumpFromFinally, 
                        $tcs = new System.Threading.Tasks.TaskCompletionSource(), 
                        $returnValue, 
                        $async_e, 
                        $asyncBody = Bridge.fn.bind(this, function () {
                            try {
                                for (;;) {
                                    $step = System.Array.min([0,1], $step);
                                    switch ($step) {
                                        case 0: {
                                            require.config({ paths: { 'vs': 'node_modules/monaco-editor/dev/vs' } });
                                            $task1 = Bridge.loadModule({amd: ["vs/editor/editor.main"]}, function () { monaco_editor_ignored = arguments[0]; });
                                            $step = 1;
                                            $task1.continueWith($asyncBody);
                                            return;
                                        }
                                        case 1: {
                                            $task1.getAwaitedResult();
                                            $tcs.setResult(null);
                                            return;
                                        }
                                        default: {
                                            $tcs.setResult(null);
                                            return;
                                        }
                                    }
                                }
                            } catch($async_e1) {
                                $async_e = System.Exception.create($async_e1);
                                $tcs.setException($async_e);
                            }
                        }, arguments);

                    $asyncBody();
                    return $tcs.task;
                }
            }
        }
    });

    Bridge.define("System.CompatibilityExtensions", {
        statics: {
            methods: {
                ToLowerInvariant: function (value) {
                    return value.toLowerCase();
                }
            }
        }
    });

    Bridge.define("Codex.EntityBase", {
        inherits: [Codex.ISerializableEntity],
        methods: {
            Initialize: function () { },
            OnSerializingCore: function () { },
            OnDeserializedCore: function () { },
            Codex$ISerializableEntity$OnSerializing: function () {
                this.OnSerializingCore();
            },
            Codex$ISerializableEntity$OnDeserialized: function () {
                this.OnDeserializedCore();
            }
        }
    });

    Bridge.define("Codex.IProjectScopeEntity", {
        inherits: [Codex.IRepoScopeEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.IRepoFileScopeEntity", {
        inherits: [Codex.IRepoScopeEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.ISourceSearchModelBase", {
        inherits: [Codex.ISearchEntity],
        $kind: "interface"
    });

    /**
     * Defines a classified span of text
     *
     * @abstract
     * @public
     * @class Codex.IClassificationSpan
     * @implements  Codex.ISpan
     */
    Bridge.define("Codex.IClassificationSpan", {
        inherits: [Codex.ISpan],
        $kind: "interface"
    });

    Bridge.define("Codex.ICommitScopeEntity", {
        inherits: [Codex.IRepoScopeEntity],
        $kind: "interface"
    });

    /**
     * Represents a changed file in a commit
     *
     * @abstract
     * @public
     * @class Codex.ICommitChangedFile
     * @implements  Codex.ICommitFileLink
     */
    Bridge.define("Codex.ICommitChangedFile", {
        inherits: [Codex.ICommitFileLink],
        $kind: "interface"
    });

    Bridge.define("Codex.ICommitSearchModel", {
        inherits: [Codex.ISearchEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.IDefinitionSearchModel", {
        inherits: [Codex.ISearchEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.IDefinitionSpan", {
        inherits: [Codex.ISpan],
        $kind: "interface"
    });

    Bridge.define("Codex.IReferenceSymbol", {
        inherits: [Codex.ICodeSymbol],
        $kind: "interface"
    });

    Bridge.define("Codex.ILanguageSearchModel", {
        inherits: [Codex.ISearchEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.ILineSpan", {
        inherits: [Codex.ISpan],
        $kind: "interface"
    });

    Bridge.define("Codex.IProjectSearchModel", {
        inherits: [Codex.ISearchEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.IPropertySearchModel", {
        inherits: [Codex.ISearchEntity],
        $kind: "interface"
    });

    /**
     * In order to compute a stable integral id for each entity. This type is used to store into a 'follow' index which
     stores entities of this type using the {@link } of the corresponding search entity. Then the
     sequence number assigned by ElasticSearch is used as the shard stable id ({@link })
     for the entity. This approach is used in order to ensure that the stable id appears as an explicit field in the document rather
     which allows configuration of how the field is indexed (not true for sequence number field without code changes to ES).
     *
     * @abstract
     * @public
     * @class Codex.IRegisteredEntity
     * @implements  Codex.ISearchEntity
     */
    Bridge.define("Codex.IRegisteredEntity", {
        inherits: [Codex.ISearchEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.IRepositorySearchModel", {
        inherits: [Codex.ISearchEntity],
        $kind: "interface"
    });

    /**
     * Defines a stored filter which matches entities in a particular index shard in a stable manner
     *
     * @abstract
     * @public
     * @class Codex.IStoredFilter
     * @implements  Codex.ISearchEntity
     */
    Bridge.define("Codex.IStoredFilter", {
        inherits: [Codex.ISearchEntity],
        $kind: "interface"
    });

    /**
     * Documentation for typed parameter
     *
     * @abstract
     * @public
     * @class Codex.ITypedParameterDocumentation
     * @implements  Codex.IParameterDocumentation
     */
    Bridge.define("Codex.ITypedParameterDocumentation", {
        inherits: [Codex.IParameterDocumentation],
        $kind: "interface"
    });

    Bridge.define("Codex.ObjectModel.PropertyMapBase", {
        inherits: [System.Collections.Generic.Dictionary$2(System.String,System.String)]
    });

    Bridge.define("Codex.Sdk.Search.BinaryFilter$1", function (T) { return {
        inherits: [Codex.Sdk.Search.IndexFilter$1(T)],
        fields: {
            Operator: 0,
            Left: null,
            Right: null
        },
        ctors: {
            ctor: function (op, left, right) {
                this.$initialize();
                Codex.Sdk.Search.IndexFilter$1(T).ctor.call(this);
                this.Operator = op;
                this.Left = left;
                this.Right = right;
            }
        }
    }; });

    Bridge.define("Codex.Sdk.Search.ContextCodexArgumentsBase", {
        inherits: [Codex.Sdk.Search.CodexArgumentsBase],
        props: {
            /**
             * The id of the repository to which to scope search results
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.ContextCodexArgumentsBase
             * @function RepositoryScopeId
             * @type string
             */
            RepositoryScopeId: null,
            /**
             * The id of the project to which to scope search results
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.ContextCodexArgumentsBase
             * @function ProjectScopeId
             * @type string
             */
            ProjectScopeId: null,
            /**
             * The id of the repository referencing the symbol.
             NOTE: This is used to priority inter-repository matches over
             matches from outside the repository
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.ContextCodexArgumentsBase
             * @function ReferencingRepositoryId
             * @type string
             */
            ReferencingRepositoryId: null,
            /**
             * The id of the project referencing the symbol.
             NOTE: This is used to priority inter-repository matches over
             matches from outside the repository
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.ContextCodexArgumentsBase
             * @function ReferencingProjectId
             * @type string
             */
            ReferencingProjectId: null,
            /**
             * The id of the file referencing the symbol.
             NOTE: This is used to priority inter-repository matches over
             matches from outside the repository
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.ContextCodexArgumentsBase
             * @function ReferencingFileId
             * @type string
             */
            ReferencingFileId: null
        }
    });

    Bridge.define("Codex.Sdk.Search.FullTextIndexProperty$1", function (T) { return {
        inherits: [Codex.Sdk.Search.TermIndexProperty$1(T)]
    }; });

    Bridge.define("Codex.Sdk.Search.IndexQueryResponse$1", function (T) { return {
        inherits: [Codex.Sdk.Search.IndexQueryResponse],
        props: {
            /**
             * The results of the query
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.IndexQueryResponse$1
             * @function Result
             * @type T
             */
            Result: Bridge.getDefaultValue(T)
        },
        methods: {
            toString: function () {
                return System.String.format("Result: {0}, {1}", this.Result, Codex.Sdk.Search.IndexQueryResponse.prototype.toString.call(this));
            }
        }
    }; });

    Bridge.definei("Codex.Sdk.Search.IPrefixProperty$1", function (T) { return {
        inherits: [Codex.Sdk.Search.ITermProperty$1(T)],
        $kind: "interface"
    }; });

    Bridge.define("Codex.Sdk.Search.NormalizedKeywordIndexProperty$1", function (T) { return {
        inherits: [Codex.Sdk.Search.TermIndexProperty$1(T)]
    }; });

    Bridge.define("Codex.Sdk.Search.PrefixFullNameIndexProperty$1", function (T) { return {
        inherits: [Codex.Sdk.Search.TermIndexProperty$1(T)]
    }; });

    Bridge.define("Codex.Sdk.Search.PrefixIndexProperty$1", function (T) { return {
        inherits: [Codex.Sdk.Search.TermIndexProperty$1(T)]
    }; });

    Bridge.define("Codex.Sdk.Search.SortwordIndexProperty$1", function (T) { return {
        inherits: [Codex.Sdk.Search.TermIndexProperty$1(T)]
    }; });

    Bridge.define("Codex.SearchType$1", function (TSearchType) { return {
        inherits: [Codex.SearchType],
        fields: {
            CopyToFields: null,
            InheritFields: null
        },
        props: {
            Type: {
                get: function () {
                    return TSearchType;
                }
            }
        },
        ctors: {
            init: function () {
                this.CopyToFields = new (System.Collections.Generic.List$1(System.Object)).ctor();
                this.InheritFields = new (System.Collections.Generic.List$1(System.Object)).ctor();
            },
            ctor: function (name) {
                this.$initialize();
                Codex.SearchType.ctor.call(this);
                this.Name = name;
                this.IndexName = System.CompatibilityExtensions.ToLowerInvariant(this.Name);
            }
        },
        methods: {
            Inherit: function (T, providerField, searchField) {
                return this;
            },
            CopyTo: function (sourceField, targetField) {
                return this;
            },
            Exclude: function (searchField) {
                return this;
            },
            SearchAs: function (T, searchField, behavior) {
                return this;
            }
        }
    }; });

    Bridge.define("Codex.View.BindableValue$1", function (T) { return {
        inherits: [Codex.View.NotifyPropertyChangedBase],
        fields: {
            value: Bridge.getDefaultValue(T)
        },
        props: {
            Value: {
                get: function () {
                    return this.value;
                },
                set: function (value) {
                    this.value = value;
                    this.OnPropertyChanged("Value");
                }
            }
        }
    }; });

    Bridge.define("Codex.View.LeftPaneContent", {
        inherits: [Codex.View.LeftPaneChild]
    });

    Bridge.define("Codex.View.CategoryGroupSearchResultsViewModel", {
        inherits: [Codex.View.IResultsStats],
        props: {
            Counter: null,
            HeaderVisibility: {
                get: function () {
                    return System.String.isNullOrEmpty(this.Header) ? System.Windows.Visibility.Collapsed : System.Windows.Visibility.Visible;
                }
            },
            Header: null,
            ProjectResults: null
        },
        alias: ["Counter", "Codex$View$IResultsStats$Counter"],
        ctors: {
            init: function () {
                this.Counter = new Codex.View.Counter();
                this.ProjectResults = new Codex.View.ProjectResultsViewModel.ctor();
            },
            $ctor1: function (searchString, response) {
                this.$initialize();
                var result = response.Result;

                this.PopulateProjectGroups(Bridge.global.Codex.Sdk.Search.ITextLineSpanResult, System.Linq.Enumerable.from(result.Hits).select($asm.$.Codex.View.CategoryGroupSearchResultsViewModel.f1), $asm.$.Codex.View.CategoryGroupSearchResultsViewModel.f2);
                this.Header = System.String.format("{0} text search hits for '{1}'", Bridge.box(result.Hits.Count, System.Int32), searchString);
            },
            ctor: function (kind, symbolName, references) {
                this.$initialize();
                this.PopulateProjectGroups(Bridge.global.Codex.Sdk.Search.IReferenceSearchResult, references, $asm.$.Codex.View.CategoryGroupSearchResultsViewModel.f3);
                this.Header = Codex.View.ViewUtilities.GetReferencesHeader(kind, System.Linq.Enumerable.from(references).count(), symbolName);
            }
        },
        methods: {
            Render: function (view, parentElement) {
                var contentElement = Codex.View.ViewUtilities.RenderHeaderedContent(parentElement, "rH", this.Header, "rK");
                this.ProjectResults.Render(view, contentElement);
            },
            PopulateProjectGroups: function (T, items, viewModelFactory) {
                this.ProjectResults.ProjectGroups.addRange(System.Linq.Enumerable.from(items).groupBy($asm.$.Codex.View.CategoryGroupSearchResultsViewModel.f4).select(Bridge.fn.bind(this, function (projectGroup) {
                    var $t;
                    return ($t = new Codex.View.ProjectGroupResultsViewModel(), $t.ProjectName = projectGroup.key(), $t.Items = projectGroup.groupBy($asm.$.Codex.View.CategoryGroupSearchResultsViewModel.f5).select(Bridge.fn.bind(this, function (fileGroup) {
                        var $t1;
                        return Codex.View.ViewUtilities.AddTo(Bridge.global.Codex.View.FileResultsViewModel, Codex.View.ViewUtilities.Add(Bridge.global.Codex.View.FileResultsViewModel, ($t1 = new Codex.View.FileResultsViewModel(), $t1.Path = fileGroup.key(), $t1.Items = fileGroup.select(function (sr) {
                            return viewModelFactory(sr);
                        }).toList(Codex.View.TextSpanSearchResultViewModel), $t1), $asm.$.Codex.View.CategoryGroupSearchResultsViewModel.f6), this.Counter);
                    })).toList(Codex.View.FileResultsViewModel), $t);
                })));
            }
        }
    });

    Bridge.ns("Codex.View.CategoryGroupSearchResultsViewModel", $asm.$);

    Bridge.apply($asm.$.Codex.View.CategoryGroupSearchResultsViewModel, {
        f1: function (sr) {
            return sr.Codex$Sdk$Search$ISearchResult$TextLine;
        },
        f2: function (sr) {
            return new Codex.View.TextSpanSearchResultViewModel.$ctor1(sr);
        },
        f3: function (sr) {
            return new Codex.View.TextSpanSearchResultViewModel.ctor(sr);
        },
        f4: function (sr) {
            return sr.Codex$IProjectScopeEntity$ProjectId;
        },
        f5: function (sr) {
            return sr.Codex$IProjectFileScopeEntity$ProjectRelativePath;
        },
        f6: function (f) {
            return System.Array.getCount(f.Items, Codex.View.FileItemResultViewModel);
        }
    });

    Bridge.define("Codex.View.FileItemResultViewModel", {
        inherits: [Codex.View.LeftPaneChild]
    });

    Bridge.define("Codex.View.ProjectItemResultViewModel", {
        inherits: [Codex.View.LeftPaneChild]
    });

    Bridge.define("Codex.View.PaneViewModelBase", {
        inherits: [Codex.View.NotifyPropertyChangedBase],
        props: {
            DataContext: null
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.View.NotifyPropertyChangedBase.ctor.call(this);
                this.Initialize();
            }
        },
        methods: {
            Initialize: function () { }
        }
    });

    Bridge.define("Codex.View.OverviewViewModel", {
        inherits: [Codex.View.Web.IHtmlContent],
        alias: ["Render", "Codex$View$Web$IHtmlContent$Render"],
        methods: {
            Render: function (parentElement, context) {
                var $step = 0,
                    $task1, 
                    $taskResult1, 
                    $jumpFromFinally, 
                    overviewHtml, 
                    $asyncBody = Bridge.fn.bind(this, function () {
                        for (;;) {
                            $step = System.Array.min([0,1], $step);
                            switch ($step) {
                                case 0: {
                                    $task1 = Codex.View.Web.Request.GetTextAsync("overview.html");
                                    $step = 1;
                                    $task1.continueWith($asyncBody, true);
                                    return;
                                }
                                case 1: {
                                    $taskResult1 = $task1.getAwaitedResult();
                                    overviewHtml = $taskResult1;
                                    parentElement.innerHTML = overviewHtml;
                                    return;
                                }
                                default: {
                                    return;
                                }
                            }
                        }
                    }, arguments);

                $asyncBody();
            }
        }
    });

    Bridge.define("Codex.View.ProjectGroupResultsViewModel", {
        inherits: [Codex.View.IResultsStats],
        props: {
            Counter: null,
            ProjectName: null,
            Items: null
        },
        alias: ["Counter", "Codex$View$IResultsStats$Counter"],
        ctors: {
            init: function () {
                this.Counter = new Codex.View.Counter();
            }
        },
        methods: {
            Render: function (view, parentElement) {
                var $t;
                var contentElement = Codex.View.ViewUtilities.RenderHeaderedContent(parentElement, "rA", System.String.format("{0} ({1})", this.ProjectName, Bridge.box(this.Counter.Count, System.Int32)), "rG");
                $t = Bridge.getEnumerator(this.Items, Codex.View.ProjectItemResultViewModel);
                try {
                    while ($t.moveNext()) {
                        var item = $t.Current;
                        item.Render(view, contentElement);
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }}
        }
    });

    Bridge.define("Codex.View.SourceFileDetailsViewModel", {
        inherits: [Codex.View.Web.IHtmlContent],
        fields: {
            sourceFile: null
        },
        alias: ["Render", "Codex$View$Web$IHtmlContent$Render"],
        ctors: {
            ctor: function (sourceFile) {
                this.$initialize();
                this.sourceFile = sourceFile;
            }
        },
        methods: {
            Render: function (parentElement, context) {
                var $t;
                var table = ($t = document.createElement("table"), $t.id = "bottomPane", $t.className = "dH", $t);
                table.style.width = "100%";
                var row0 = table.insertRow();
                var cell00 = row0.insertCell();
                cell00.appendChild(document.createTextNode("File:" + (Codex.View.Web.HtmlBuilder.NBSP || "")));
                cell00.appendChild(($t = document.createElement("a"), $t.id = "filePathLink", $t.className = "blueLink", $t.href = System.String.format("/?leftProject={0}&file={1}", this.sourceFile.Codex$IProjectScopeEntity$ProjectId, this.sourceFile.Codex$IProjectFileScopeEntity$ProjectRelativePath), $t.target = "_blank", $t.title = "Click to open file in a new tab", $t.textContent = this.sourceFile.Codex$IProjectFileScopeEntity$ProjectRelativePath, $t));

                var cell01 = row0.insertCell();
                Granular.Host.HtmlElementExtensions.SetHtmlTextAlignment(cell01, System.Windows.TextAlignment.Right, Codex.View.Web.HtmlBuilder.Converter);
                cell01.appendChild(Codex.View.Web.HtmlNode$1(Text).op_Implicit(Codex.View.Web.HtmlBuilder.Text(this.sourceFile.Codex$IRepoFileScopeEntity$RepoRelativePath)));

                var row1 = table.insertRow();
                var cell10 = row1.insertCell();
                cell10.appendChild(Codex.View.Web.HtmlNode$1(Text).op_Implicit(Codex.View.Web.HtmlBuilder.Text("Project:" + (Codex.View.Web.HtmlBuilder.NBSP || ""))));
                cell10.appendChild(($t = document.createElement("a"), $t.id = "projectExplorerLink", $t.className = "blueLink", $t.href = System.String.format("/?leftProject={0}", this.sourceFile.Codex$IProjectScopeEntity$ProjectId), $t.title = "Click to open in project explorer", $t.textContent = this.sourceFile.Codex$IProjectScopeEntity$ProjectId, $t));
                parentElement.appendChild(table);

                //cell00.AppendChild(Text(NBSP + "("));
                //cell00.AppendChild(new HTMLAnchorElement()
                //{
                //    Id = "filePathLink",
                //    ClassName = "blueLink",
                //    Href = $"/download/",
                //    Target = "_blank",
                //    Title = "Click to open file in a new tab",
                //    TextContent = sourceFile.ProjectRelativePath
                //});
            }
        }
    });

    Bridge.define("Codex.View.ViewModelDataContext", {
        inherits: [Codex.View.NotifyPropertyChangedBase],
        fields: {
            leftPane: null,
            rightPane: null
        },
        props: {
            LeftPane: {
                get: function () {
                    return this.leftPane;
                },
                set: function (value) {
                    this.leftPane = value;
                    this.OnPropertyChanged("LeftPane");
                }
            },
            RightPane: {
                get: function () {
                    return this.rightPane;
                },
                set: function (value) {
                    this.rightPane = value;
                    this.OnPropertyChanged("RightPane");
                }
            }
        },
        ctors: {
            init: function () {
                this.rightPane = new Codex.View.RightPaneViewModel.ctor();
            }
        },
        methods: {
            Initialize: function () {
                this.LeftPane = Codex.View.LeftPaneViewModel.Initial;
            }
        }
    });

    Bridge.define("Codex.View.Web.ActionHtmlModifier$1", function (T) { return {
        inherits: [Codex.View.Web.IHtmlModifier$1(T)],
        fields: {
            m_action: null
        },
        alias: ["Apply", ["Codex$View$Web$IHtmlModifier$1$" + Bridge.getTypeAlias(T) + "$Apply", "Codex$View$Web$IHtmlModifier$1$Apply"]],
        ctors: {
            ctor: function (action) {
                this.$initialize();
                this.m_action = action;
            }
        },
        methods: {
            Apply: function (target) {
                this.m_action(target);
            }
        }
    }; });

    Bridge.define("Codex.View.Web.HtmlNode$1", function (TNode) { return {
        inherits: [Codex.View.Web.IHtmlModifier$1(Node)],
        statics: {
            methods: {
                op_Implicit$1: function (node) {
                    return new (Codex.View.Web.HtmlNode$1(TNode))(node);
                },
                op_Implicit: function (node) {
                    return node.Node;
                }
            }
        },
        fields: {
            Node: Bridge.getDefaultValue(TNode)
        },
        alias: ["Apply", ["Codex$View$Web$IHtmlModifier$1$Node$Apply", "Codex$View$Web$IHtmlModifier$1$Apply"]],
        ctors: {
            ctor: function (node) {
                this.$initialize();
                this.Node = node;
            }
        },
        methods: {
            Apply: function (target) {
                target.appendChild(this.Node);
            }
        }
    }; });

    Bridge.define("Codex.View.Web.WebApiCodex", {
        inherits: [Codex.Sdk.Search.ICodex],
        fields: {
            baseUrl: null
        },
        alias: [
            "FindAllReferencesAsync", "Codex$Sdk$Search$ICodex$FindAllReferencesAsync",
            "FindDefinitionAsync", "Codex$Sdk$Search$ICodex$FindDefinitionAsync",
            "FindDefinitionLocationAsync", "Codex$Sdk$Search$ICodex$FindDefinitionLocationAsync",
            "GetSourceAsync", "Codex$Sdk$Search$ICodex$GetSourceAsync",
            "SearchAsync", "Codex$Sdk$Search$ICodex$SearchAsync"
        ],
        ctors: {
            ctor: function (baseUrl) {
                this.$initialize();
                this.baseUrl = System.String.endsWith(baseUrl, "/") ? baseUrl : (baseUrl || "") + String.fromCharCode(47);
            }
        },
        methods: {
            FindAllReferencesAsync: function ($arguments) {
                return this.PostAsync(Codex.Sdk.Search.IndexQueryResponse$1(Codex.View.Web.SerializedReferencesResult), Codex.Sdk.Search.IndexQueryResponse$1(Codex.Sdk.Search.ReferencesResult), Codex.Sdk.Search.CodexServiceMethod.FindAllRefs, $arguments);
            },
            FindDefinitionAsync: function ($arguments) {
                return this.PostAsync(Codex.Sdk.Search.IndexQueryHitsResponse$1(Codex.ObjectModel.DefinitionSearchModel), Codex.Sdk.Search.IndexQueryHitsResponse$1(Codex.IDefinitionSearchModel), Codex.Sdk.Search.CodexServiceMethod.FindDef, $arguments);
            },
            FindDefinitionLocationAsync: function ($arguments) {
                return this.PostAsync(Codex.Sdk.Search.IndexQueryResponse$1(Codex.View.Web.SerializedReferencesResult), Codex.Sdk.Search.IndexQueryResponse$1(Codex.Sdk.Search.ReferencesResult), Codex.Sdk.Search.CodexServiceMethod.FindDefLocation, $arguments);
            },
            GetSourceAsync: function ($arguments) {
                return this.PostAsync(Codex.Sdk.Search.IndexQueryResponse$1(Codex.ObjectModel.BoundSourceFile), Codex.Sdk.Search.IndexQueryResponse$1(Codex.IBoundSourceFile), Codex.Sdk.Search.CodexServiceMethod.GetSource, $arguments);
            },
            SearchAsync: function ($arguments) {
                if (Bridge.referenceEquals($arguments.SearchString, "tdt")) {
                    return this.GetTestAsync(Codex.Sdk.Search.IndexQueryHitsResponse$1(Codex.ObjectModel.SearchResult), Codex.Sdk.Search.IndexQueryHitsResponse$1(Codex.Sdk.Search.ISearchResult), Codex.Sdk.Search.CodexServiceMethod.Search, $arguments);
                }

                return this.PostAsync(Codex.Sdk.Search.IndexQueryHitsResponse$1(Codex.ObjectModel.SearchResult), Codex.Sdk.Search.IndexQueryHitsResponse$1(Codex.Sdk.Search.ISearchResult), Codex.Sdk.Search.CodexServiceMethod.Search, $arguments);
            },
            GetTestAsync: function (TSerializedResult, TResult, searchMethod, $arguments) {
                var tcs = new System.Threading.Tasks.TaskCompletionSource();

                var url = (this.baseUrl || "") + (System.Enum.toString(Codex.Sdk.Search.CodexServiceMethod, searchMethod) || "");
                System.Console.WriteLine(url);

                var config = { url: "testsearchdata.json", type: "GET", contentType: "application/json; charset=utf-8", success: function (data, textStatus, successRequest) {
                    tcs.setResult(Newtonsoft.Json.JsonConvert.DeserializeObject(successRequest.responseText, TSerializedResult));
                    return null;
                }, error: function (errorRequest, textStatus, errorThrown) {
                    var $t;
                    tcs.setResult(($t = new TResult(), $t.Error = System.String.format("Error: {0}", errorThrown), $t));

                    return null;
                } };

                jQuery.ajax(config);

                return tcs.task;
            },
            PostAsync: function (TSerializedResult, TResult, searchMethod, $arguments) {
                var tcs = new System.Threading.Tasks.TaskCompletionSource();

                var url = (this.baseUrl || "") + (System.Enum.toString(Codex.Sdk.Search.CodexServiceMethod, searchMethod) || "");
                System.Console.WriteLine(url);

                var argumentsData = Newtonsoft.Json.JsonConvert.SerializeObject($arguments);

                var config = { url: url, type: "POST", data: argumentsData, contentType: "application/json; charset=utf-8", success: function (data, textStatus, successRequest) {
                    tcs.setResult(Newtonsoft.Json.JsonConvert.DeserializeObject(successRequest.responseText, TSerializedResult));
                    return null;
                }, error: function (errorRequest, textStatus, errorThrown) {
                    var $t;
                    tcs.setResult(($t = new TResult(), $t.Error = System.String.format("Error: {0}", errorThrown), $t));

                    return null;
                } };

                jQuery.ajax(config);

                return tcs.task;
            }
        }
    });

    Bridge.define("Codex.IProjectFileScopeEntity", {
        inherits: [Codex.IRepoFileScopeEntity,Codex.IProjectScopeEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.IBoundSourceSearchModel", {
        inherits: [Codex.ISourceSearchModelBase],
        $kind: "interface"
    });

    /**
     * Describes a commit in version control
     *
     * @abstract
     * @public
     * @class Codex.ICommit
     * @implements  Codex.ICommitScopeEntity
     */
    Bridge.define("Codex.ICommit", {
        inherits: [Codex.ICommitScopeEntity],
        $kind: "interface"
    });

    /**
     * Represents a directory in source control
     *
     * @abstract
     * @public
     * @class Codex.ICommitFilesDirectory
     * @implements  Codex.IRepoFileScopeEntity
     */
    Bridge.define("Codex.ICommitFilesDirectory", {
        inherits: [Codex.IRepoFileScopeEntity],
        $kind: "interface"
    });

    /**
     * The set of files present in the repository at a given commit.
     *
     * @abstract
     * @public
     * @class Codex.ICommitFilesSearchModel
     * @implements  Codex.ICommitScopeEntity
     * @implements  Codex.IRepoScopeEntity
     * @implements  Codex.ISearchEntity
     */
    Bridge.define("Codex.ICommitFilesSearchModel", {
        inherits: [Codex.ICommitScopeEntity,Codex.IRepoScopeEntity,Codex.ISearchEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.IDefinitionSymbol", {
        inherits: [Codex.IReferenceSymbol],
        $kind: "interface"
    });

    /**
     * Decribes a symbol related to a given documented symbol
     *
     * @abstract
     * @public
     * @class Codex.IDocumentationReferenceSymbol
     * @implements  Codex.IReferenceSymbol
     */
    Bridge.define("Codex.IDocumentationReferenceSymbol", {
        inherits: [Codex.IReferenceSymbol],
        $kind: "interface"
    });

    /**
     * A specialized definition span referring to a parameter of a method/property
     *
     * @abstract
     * @public
     * @class Codex.IParameterDefinitionSpan
     * @implements  Codex.ILineSpan
     */
    Bridge.define("Codex.IParameterDefinitionSpan", {
        inherits: [Codex.ILineSpan],
        $kind: "interface"
    });

    Bridge.define("Codex.ITextLineSpan", {
        inherits: [Codex.ILineSpan],
        $kind: "interface"
    });

    Bridge.define("Codex.IProject", {
        inherits: [Codex.IProjectScopeEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.IProjectReferenceSearchModel", {
        inherits: [Codex.IProjectScopeEntity,Codex.ISearchEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.ITextSourceSearchModel", {
        inherits: [Codex.ISourceSearchModelBase],
        $kind: "interface"
    });

    Bridge.define("Codex.ObjectModel.RepoScopeEntity", {
        inherits: [Codex.EntityBase,Codex.IRepoScopeEntity],
        fields: {
            m_RepositoryName: null
        },
        props: {
            /**
             * The name of the repository containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.RepoScopeEntity
             * @function RepositoryName
             * @type string
             */
            RepositoryName: {
                get: function () {
                    return this.m_RepositoryName;
                },
                set: function (value) {
                    this.m_RepositoryName = value;
                }
            }
        },
        alias: ["RepositoryName", "Codex$IRepoScopeEntity$RepositoryName"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.RepoScopeEntity, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_RepositoryName = value.Codex$IRepoScopeEntity$RepositoryName;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    /**
     * Marker interface for searchable entities
     TODO: Consider moving {@link } out if its not needed by all searchable entities
     *
     * @public
     * @class Codex.ObjectModel.SearchEntity
     * @augments Codex.EntityBase
     * @implements  Codex.ISearchEntity
     */
    Bridge.define("Codex.ObjectModel.SearchEntity", {
        inherits: [Codex.EntityBase,Codex.ISearchEntity],
        fields: {
            m_Uid: null,
            m_EntityContentId: null,
            m_EntityContentSize: 0,
            m_EntityVersion: null,
            m_ShardStableId: System.Int64(0)
        },
        props: {
            Uid: {
                get: function () {
                    return this.m_Uid;
                },
                set: function (value) {
                    this.m_Uid = value;
                }
            },
            /**
             * Defines the content addressable identifier for the entity. This is used
             to determine if an entity with the same {@link } should be updated
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SearchEntity
             * @function EntityContentId
             * @type string
             */
            EntityContentId: {
                get: function () {
                    return this.m_EntityContentId;
                },
                set: function (value) {
                    this.m_EntityContentId = value;
                }
            },
            /**
             * Defines the size of the raw serialized entity.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SearchEntity
             * @function EntityContentSize
             * @type number
             */
            EntityContentSize: {
                get: function () {
                    return this.m_EntityContentSize;
                },
                set: function (value) {
                    this.m_EntityContentSize = value;
                }
            },
            /**
             * The version number used when storing the entity (for use by ElasticSearch concurrency control
             to prevent races when storing values)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SearchEntity
             * @function EntityVersion
             * @type ?number
             */
            EntityVersion: {
                get: function () {
                    return this.m_EntityVersion;
                },
                set: function (value) {
                    this.m_EntityVersion = value;
                }
            },
            /**
             * The per-shard stable identity (derived from ElasticSearch sequence number)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SearchEntity
             * @function ShardStableId
             * @type number
             */
            ShardStableId: {
                get: function () {
                    return this.m_ShardStableId;
                },
                set: function (value) {
                    this.m_ShardStableId = value;
                }
            }
        },
        alias: [
            "Uid", "Codex$ISearchEntity$Uid",
            "EntityContentId", "Codex$ISearchEntity$EntityContentId",
            "EntityContentSize", "Codex$ISearchEntity$EntityContentSize",
            "EntityVersion", "Codex$ISearchEntity$EntityVersion",
            "ShardStableId", "Codex$ISearchEntity$ShardStableId"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.SearchEntity, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Uid = value.Codex$ISearchEntity$Uid;
                this.m_EntityContentId = value.Codex$ISearchEntity$EntityContentId;
                this.m_EntityContentSize = value.Codex$ISearchEntity$EntityContentSize;
                this.m_EntityVersion = value.Codex$ISearchEntity$EntityVersion;
                this.m_ShardStableId = value.Codex$ISearchEntity$ShardStableId;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    /**
     * Describes a branch in a repository
     *
     * @public
     * @class Codex.ObjectModel.Branch
     * @augments Codex.EntityBase
     * @implements  Codex.IBranch
     */
    Bridge.define("Codex.ObjectModel.Branch", {
        inherits: [Codex.EntityBase,Codex.IBranch],
        fields: {
            m_Name: null,
            m_Description: null,
            m_HeadCommitId: null
        },
        props: {
            /**
             * The name of the branch
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Branch
             * @function Name
             * @type string
             */
            Name: {
                get: function () {
                    return this.m_Name;
                },
                set: function (value) {
                    this.m_Name = value;
                }
            },
            /**
             * The branch description
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Branch
             * @function Description
             * @type string
             */
            Description: {
                get: function () {
                    return this.m_Description;
                },
                set: function (value) {
                    this.m_Description = value;
                }
            },
            /**
             * The head commit of the branch
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Branch
             * @function HeadCommitId
             * @type string
             */
            HeadCommitId: {
                get: function () {
                    return this.m_HeadCommitId;
                },
                set: function (value) {
                    this.m_HeadCommitId = value;
                }
            }
        },
        alias: [
            "Name", "Codex$IBranch$Name",
            "Description", "Codex$IBranch$Description",
            "HeadCommitId", "Codex$IBranch$HeadCommitId"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.Branch, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Name = value.Codex$IBranch$Name;
                this.m_Description = value.Codex$IBranch$Description;
                this.m_HeadCommitId = value.Codex$IBranch$HeadCommitId;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.Span", {
        inherits: [Codex.EntityBase,Codex.ISpan],
        fields: {
            m_Start: 0,
            m_Length: 0
        },
        props: {
            /**
             * The absolute character offset of the span within the document
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Span
             * @function Start
             * @type number
             */
            Start: {
                get: function () {
                    return this.m_Start;
                },
                set: function (value) {
                    this.m_Start = value;
                }
            },
            /**
             * The length of the span
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Span
             * @function Length
             * @type number
             */
            Length: {
                get: function () {
                    return this.m_Length;
                },
                set: function (value) {
                    this.m_Length = value;
                }
            },
            /**
             * The absolute character offset of the end (exclusive) of the span within the document
             *
             * @instance
             * @public
             * @readonly
             * @memberof Codex.ObjectModel.Span
             * @function End
             * @type number
             */
            End: {
                get: function () {
                    return ((this.Start + this.Length) | 0);
                }
            }
        },
        alias: [
            "Start", "Codex$ISpan$Start",
            "Length", "Codex$ISpan$Length"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.Span, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Start = value.Codex$ISpan$Start;
                this.m_Length = value.Codex$ISpan$Length;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    /**
     * Describes styling for a given classification
     *
     * @public
     * @class Codex.ObjectModel.ClassificationStyle
     * @augments Codex.EntityBase
     * @implements  Codex.IClassificationStyle
     */
    Bridge.define("Codex.ObjectModel.ClassificationStyle", {
        inherits: [Codex.EntityBase,Codex.IClassificationStyle],
        fields: {
            m_Color: 0,
            m_Italic: false,
            m_Name: null
        },
        props: {
            /**
             * The default classification color for the classification. This is used for
             contexts where a mapping from classification id to color is not
             available.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ClassificationStyle
             * @function Color
             * @type number
             */
            Color: {
                get: function () {
                    return this.m_Color;
                },
                set: function (value) {
                    this.m_Color = value;
                }
            },
            /**
             * Indicates whether the spans classified with this classification should have italic font by default
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ClassificationStyle
             * @function Italic
             * @type boolean
             */
            Italic: {
                get: function () {
                    return this.m_Italic;
                },
                set: function (value) {
                    this.m_Italic = value;
                }
            },
            /**
             * The name of the classification
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ClassificationStyle
             * @function Name
             * @type string
             */
            Name: {
                get: function () {
                    return this.m_Name;
                },
                set: function (value) {
                    this.m_Name = value;
                }
            }
        },
        alias: [
            "Color", "Codex$IClassificationStyle$Color",
            "Italic", "Codex$IClassificationStyle$Italic",
            "Name", "Codex$IClassificationStyle$Name"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.ClassificationStyle, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Color = value.Codex$IClassificationStyle$Color;
                this.m_Italic = value.Codex$IClassificationStyle$Italic;
                this.m_Name = value.Codex$IClassificationStyle$Name;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.CodeReview", {
        inherits: [Codex.EntityBase,Codex.ICodeReview],
        fields: {
            m_Id: null,
            m_Description: null,
            m_Url: null,
            m_Status: 0
        },
        props: {
            Id: {
                get: function () {
                    return this.m_Id;
                },
                set: function (value) {
                    this.m_Id = value;
                }
            },
            Description: {
                get: function () {
                    return this.m_Description;
                },
                set: function (value) {
                    this.m_Description = value;
                }
            },
            /**
             * Url for accessing code review in source control management (i.e. GitHub or VSO)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReview
             * @function Url
             * @type string
             */
            Url: {
                get: function () {
                    return this.m_Url;
                },
                set: function (value) {
                    this.m_Url = value;
                }
            },
            Status: {
                get: function () {
                    return this.m_Status;
                },
                set: function (value) {
                    this.m_Status = value;
                }
            }
        },
        alias: [
            "Id", "Codex$ICodeReview$Id",
            "Description", "Codex$ICodeReview$Description",
            "Url", "Codex$ICodeReview$Url",
            "Status", "Codex$ICodeReview$Status"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.CodeReview, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Id = value.Codex$ICodeReview$Id;
                this.m_Description = value.Codex$ICodeReview$Description;
                this.m_Url = value.Codex$ICodeReview$Url;
                this.m_Status = value.Codex$ICodeReview$Status;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.CodeReviewComment", {
        inherits: [Codex.EntityBase,Codex.ICodeReviewComment],
        fields: {
            m_Text: null,
            m_Reviewer: null,
            m_Importance: 0,
            m_CommentTime: null
        },
        props: {
            Text: {
                get: function () {
                    return this.m_Text;
                },
                set: function (value) {
                    this.m_Text = value;
                }
            },
            /**
             * The name of the reviewer which made the comment
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewComment
             * @function Reviewer
             * @type string
             */
            Reviewer: {
                get: function () {
                    return this.m_Reviewer;
                },
                set: function (value) {
                    this.m_Reviewer = value;
                }
            },
            /**
             * The importance of the comment
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewComment
             * @function Importance
             * @type Codex.CommentImportance
             */
            Importance: {
                get: function () {
                    return this.m_Importance;
                },
                set: function (value) {
                    this.m_Importance = value;
                }
            },
            /**
             * The time when the comment was submitted
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewComment
             * @function CommentTime
             * @type System.DateTime
             */
            CommentTime: {
                get: function () {
                    return this.m_CommentTime;
                },
                set: function (value) {
                    this.m_CommentTime = value;
                }
            }
        },
        alias: [
            "Text", "Codex$ICodeReviewComment$Text",
            "Reviewer", "Codex$ICodeReviewComment$Reviewer",
            "Importance", "Codex$ICodeReviewComment$Importance",
            "CommentTime", "Codex$ICodeReviewComment$CommentTime"
        ],
        ctors: {
            init: function () {
                this.m_CommentTime = System.DateTime.getDefaultValue();
            },
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.CodeReviewComment, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Text = value.Codex$ICodeReviewComment$Text;
                this.m_Reviewer = value.Codex$ICodeReviewComment$Reviewer;
                this.m_Importance = value.Codex$ICodeReviewComment$Importance;
                this.m_CommentTime = value.Codex$ICodeReviewComment$CommentTime;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.CodeReviewCommentThread", {
        inherits: [Codex.EntityBase,Codex.ICodeReviewCommentThread],
        fields: {
            m_OriginalSpan: null,
            m_StartIteration: 0,
            m_LastUpdated: null,
            m_FileRepoRelativePath: null,
            m_Comments: null
        },
        props: {
            /**
             * The original location for the comment in the originating iteration
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.CodeReviewCommentThread
             * @function Codex$ICodeReviewCommentThread$OriginalSpan
             * @type Codex.ILineSpan
             */
            Codex$ICodeReviewCommentThread$OriginalSpan: {
                get: function () {
                    return this.OriginalSpan;
                }
            },
            /**
             * The original location for the comment in the originating iteration
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewCommentThread
             * @function OriginalSpan
             * @type Codex.ObjectModel.LineSpan
             */
            OriginalSpan: {
                get: function () {
                    return this.m_OriginalSpan;
                },
                set: function (value) {
                    this.m_OriginalSpan = value;
                }
            },
            /**
             * The iteration where the comment originated
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewCommentThread
             * @function StartIteration
             * @type number
             */
            StartIteration: {
                get: function () {
                    return this.m_StartIteration;
                },
                set: function (value) {
                    this.m_StartIteration = value;
                }
            },
            /**
             * The last tie
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewCommentThread
             * @function LastUpdated
             * @type System.DateTime
             */
            LastUpdated: {
                get: function () {
                    return this.m_LastUpdated;
                },
                set: function (value) {
                    this.m_LastUpdated = value;
                }
            },
            FileRepoRelativePath: {
                get: function () {
                    return this.m_FileRepoRelativePath;
                },
                set: function (value) {
                    this.m_FileRepoRelativePath = value;
                }
            },
            Codex$ICodeReviewCommentThread$Comments: {
                get: function () {
                    return this.Comments;
                }
            },
            Comments: {
                get: function () {
                    return this.m_Comments;
                },
                set: function (value) {
                    this.m_Comments = value;
                }
            }
        },
        alias: [
            "StartIteration", "Codex$ICodeReviewCommentThread$StartIteration",
            "LastUpdated", "Codex$ICodeReviewCommentThread$LastUpdated",
            "FileRepoRelativePath", "Codex$ICodeReviewCommentThread$FileRepoRelativePath"
        ],
        ctors: {
            init: function () {
                this.m_LastUpdated = System.DateTime.getDefaultValue();
                this.m_Comments = new (System.Collections.Generic.List$1(Codex.ObjectModel.CodeReviewComment)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.CodeReviewCommentThread, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_OriginalSpan = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.LineSpan, Bridge.global.Codex.ObjectModel.LineSpan, this.OriginalSpan, $asm.$.Codex.ObjectModel.CodeReviewCommentThread.f1);
                ;
                this.m_StartIteration = value.Codex$ICodeReviewCommentThread$StartIteration;
                this.m_LastUpdated = value.Codex$ICodeReviewCommentThread$LastUpdated;
                this.m_FileRepoRelativePath = value.Codex$ICodeReviewCommentThread$FileRepoRelativePath;
                this.m_Comments = new (System.Collections.Generic.List$1(Codex.ObjectModel.CodeReviewComment)).$ctor1(System.Linq.Enumerable.from(value.Codex$ICodeReviewCommentThread$Comments).select($asm.$.Codex.ObjectModel.CodeReviewCommentThread.f3));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.CodeReviewCommentThread", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.CodeReviewCommentThread, {
        f1: function (v) {
            return new Codex.ObjectModel.LineSpan.ctor().CopyFrom$1(Codex.ObjectModel.LineSpan, v);
        },
        f2: function (_v) {
            return new Codex.ObjectModel.CodeReviewComment.ctor().CopyFrom(Codex.ObjectModel.CodeReviewComment, _v);
        },
        f3: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ICodeReviewComment, Bridge.global.Codex.ObjectModel.CodeReviewComment, v, $asm.$.Codex.ObjectModel.CodeReviewCommentThread.f2);
        }
    });

    Bridge.define("Codex.ObjectModel.CodeReviewerInfo", {
        inherits: [Codex.EntityBase,Codex.ICodeReviewerInfo],
        fields: {
            m_Name: null
        },
        props: {
            Name: {
                get: function () {
                    return this.m_Name;
                },
                set: function (value) {
                    this.m_Name = value;
                }
            }
        },
        alias: ["Name", "Codex$ICodeReviewerInfo$Name"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.CodeReviewerInfo, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Name = value.Codex$ICodeReviewerInfo$Name;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.CodeReviewFile", {
        inherits: [Codex.EntityBase,Codex.ICodeReviewFile],
        fields: {
            m_StartIteration: 0,
            m_RepoRelativePath: null,
            m_FileId: null,
            m_BaselineFileId: null,
            m_ChangeKind: 0
        },
        props: {
            /**
             * The first iteration in which this file appears
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewFile
             * @function StartIteration
             * @type number
             */
            StartIteration: {
                get: function () {
                    return this.m_StartIteration;
                },
                set: function (value) {
                    this.m_StartIteration = value;
                }
            },
            /**
             * The relative path in the repository
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewFile
             * @function RepoRelativePath
             * @type string
             */
            RepoRelativePath: {
                get: function () {
                    return this.m_RepoRelativePath;
                },
                set: function (value) {
                    this.m_RepoRelativePath = value;
                }
            },
            /**
             * The file id of the new version of the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewFile
             * @function FileId
             * @type string
             */
            FileId: {
                get: function () {
                    return this.m_FileId;
                },
                set: function (value) {
                    this.m_FileId = value;
                }
            },
            /**
             * The file id of the baseline version of the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewFile
             * @function BaselineFileId
             * @type string
             */
            BaselineFileId: {
                get: function () {
                    return this.m_BaselineFileId;
                },
                set: function (value) {
                    this.m_BaselineFileId = value;
                }
            },
            /**
             * The type of change applied to the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CodeReviewFile
             * @function ChangeKind
             * @type Codex.FileChangeKind
             */
            ChangeKind: {
                get: function () {
                    return this.m_ChangeKind;
                },
                set: function (value) {
                    this.m_ChangeKind = value;
                }
            }
        },
        alias: [
            "StartIteration", "Codex$ICodeReviewFile$StartIteration",
            "RepoRelativePath", "Codex$ICodeReviewFile$RepoRelativePath",
            "FileId", "Codex$ICodeReviewFile$FileId",
            "BaselineFileId", "Codex$ICodeReviewFile$BaselineFileId",
            "ChangeKind", "Codex$ICodeReviewFile$ChangeKind"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.CodeReviewFile, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_StartIteration = value.Codex$ICodeReviewFile$StartIteration;
                this.m_RepoRelativePath = value.Codex$ICodeReviewFile$RepoRelativePath;
                this.m_FileId = value.Codex$ICodeReviewFile$FileId;
                this.m_BaselineFileId = value.Codex$ICodeReviewFile$BaselineFileId;
                this.m_ChangeKind = value.Codex$ICodeReviewFile$ChangeKind;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.CodeReviewIteration", {
        inherits: [Codex.EntityBase,Codex.ICodeReviewIteration],
        fields: {
            m_IterationNumber: 0,
            m_ReviewId: null,
            m_Description: null,
            m_Files: null
        },
        props: {
            IterationNumber: {
                get: function () {
                    return this.m_IterationNumber;
                },
                set: function (value) {
                    this.m_IterationNumber = value;
                }
            },
            ReviewId: {
                get: function () {
                    return this.m_ReviewId;
                },
                set: function (value) {
                    this.m_ReviewId = value;
                }
            },
            Description: {
                get: function () {
                    return this.m_Description;
                },
                set: function (value) {
                    this.m_Description = value;
                }
            },
            Codex$ICodeReviewIteration$Files: {
                get: function () {
                    return this.Files;
                }
            },
            Files: {
                get: function () {
                    return this.m_Files;
                },
                set: function (value) {
                    this.m_Files = value;
                }
            }
        },
        alias: [
            "IterationNumber", "Codex$ICodeReviewIteration$IterationNumber",
            "ReviewId", "Codex$ICodeReviewIteration$ReviewId",
            "Description", "Codex$ICodeReviewIteration$Description"
        ],
        ctors: {
            init: function () {
                this.m_Files = new (System.Collections.Generic.List$1(Codex.ObjectModel.CodeReviewFile)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.CodeReviewIteration, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_IterationNumber = value.Codex$ICodeReviewIteration$IterationNumber;
                this.m_ReviewId = value.Codex$ICodeReviewIteration$ReviewId;
                this.m_Description = value.Codex$ICodeReviewIteration$Description;
                this.m_Files = new (System.Collections.Generic.List$1(Codex.ObjectModel.CodeReviewFile)).$ctor1(System.Linq.Enumerable.from(value.Codex$ICodeReviewIteration$Files).select($asm.$.Codex.ObjectModel.CodeReviewIteration.f2));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.CodeReviewIteration", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.CodeReviewIteration, {
        f1: function (_v) {
            return new Codex.ObjectModel.CodeReviewFile.ctor().CopyFrom(Codex.ObjectModel.CodeReviewFile, _v);
        },
        f2: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ICodeReviewFile, Bridge.global.Codex.ObjectModel.CodeReviewFile, v, $asm.$.Codex.ObjectModel.CodeReviewIteration.f1);
        }
    });

    /**
     * Represents a version of a repository file for a commit
     *
     * @public
     * @class Codex.ObjectModel.CommitFileLink
     * @augments Codex.EntityBase
     * @implements  Codex.ICommitFileLink
     */
    Bridge.define("Codex.ObjectModel.CommitFileLink", {
        inherits: [Codex.EntityBase,Codex.ICommitFileLink],
        fields: {
            m_RepoRelativePath: null,
            m_FileId: null,
            m_VersionControlFileId: null
        },
        props: {
            /**
             * The relative path in the repository to the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CommitFileLink
             * @function RepoRelativePath
             * @type string
             */
            RepoRelativePath: {
                get: function () {
                    return this.m_RepoRelativePath;
                },
                set: function (value) {
                    this.m_RepoRelativePath = value;
                }
            },
            /**
             * Unique identifer for file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CommitFileLink
             * @function FileId
             * @type string
             */
            FileId: {
                get: function () {
                    return this.m_FileId;
                },
                set: function (value) {
                    this.m_FileId = value;
                }
            },
            /**
             * Unique identifer for file content as determined by version control
             (i.e. the blob hash)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CommitFileLink
             * @function VersionControlFileId
             * @type string
             */
            VersionControlFileId: {
                get: function () {
                    return this.m_VersionControlFileId;
                },
                set: function (value) {
                    this.m_VersionControlFileId = value;
                }
            }
        },
        alias: [
            "RepoRelativePath", "Codex$ICommitFileLink$RepoRelativePath",
            "FileId", "Codex$ICommitFileLink$FileId",
            "VersionControlFileId", "Codex$ICommitFileLink$VersionControlFileId"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.CommitFileLink, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_RepoRelativePath = value.Codex$ICommitFileLink$RepoRelativePath;
                this.m_FileId = value.Codex$ICommitFileLink$FileId;
                this.m_VersionControlFileId = value.Codex$ICommitFileLink$VersionControlFileId;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.Symbol", {
        inherits: [Codex.EntityBase,Codex.ICodeSymbol],
        fields: {
            m_ProjectId: null,
            m_Id: null,
            m_Kind: null
        },
        props: {
            /**
             * The identifier of the project in which the symbol appears
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Symbol
             * @function ProjectId
             * @type string
             */
            ProjectId: {
                get: function () {
                    return this.m_ProjectId;
                },
                set: function (value) {
                    this.m_ProjectId = value;
                }
            },
            /**
             * The identifier for the symbol
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Symbol
             * @function Id
             * @type Codex.ObjectModel.SymbolId
             */
            Id: {
                get: function () {
                    return this.m_Id;
                },
                set: function (value) {
                    this.m_Id = value;
                }
            },
            /**
             * The symbol kind. (i.e. interface, method, field)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Symbol
             * @function Kind
             * @type string
             */
            Kind: {
                get: function () {
                    return this.m_Kind;
                },
                set: function (value) {
                    this.m_Kind = value;
                }
            },
            /**
             * Extension data used during analysis/search
             TODO: Why is this needed?
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Symbol
             * @function ExtData
             * @type Codex.ObjectModel.ExtensionData
             */
            ExtData: null
        },
        alias: [
            "ProjectId", "Codex$ICodeSymbol$ProjectId",
            "Id", "Codex$ICodeSymbol$Id",
            "Kind", "Codex$ICodeSymbol$Kind"
        ],
        ctors: {
            init: function () {
                this.m_Id = new Codex.ObjectModel.SymbolId();
            },
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.Symbol, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_ProjectId = value.Codex$ICodeSymbol$ProjectId;
                this.m_Id = value.Codex$ICodeSymbol$Id;
                this.m_Kind = value.Codex$ICodeSymbol$Kind;
                return Bridge.cast((this), TTarget);
            },
            Equals: function (other) {
                return System.String.equals(this.ProjectId, other.ProjectId, 4) && System.String.equals(this.Id.Value, other.Id.Value, 4);
            },
            equals: function (obj) {
                if (Bridge.referenceEquals(null, obj)) {
                    return false;
                }
                if (Bridge.referenceEquals(this, obj)) {
                    return true;
                }
                if (!Bridge.referenceEquals(Bridge.getType(obj), Bridge.getType(this))) {
                    return false;
                }
                return this.Equals(Bridge.cast(obj, Codex.ObjectModel.Symbol));
            },
            getHashCode: function () {
                var $t, $t1, $t2, $t3;
                return (Bridge.Int.mul((($t = (($t1 = this.ProjectId) != null ? Bridge.getHashCode($t1) : null), $t != null ? $t : 0)), 397)) ^ (($t2 = (($t3 = this.Id.Value) != null ? Bridge.getHashCode($t3) : null), $t2 != null ? $t2 : 0));
            },
            toString: function () {
                return this.Id.Value;
            }
        }
    });

    /**
     * Defines documentation about a symbol
     *
     * @public
     * @class Codex.ObjectModel.DocumentationInfo
     * @augments Codex.EntityBase
     * @implements  Codex.IDocumentationInfo
     */
    Bridge.define("Codex.ObjectModel.DocumentationInfo", {
        inherits: [Codex.EntityBase,Codex.IDocumentationInfo],
        fields: {
            m_DeclarationName: null,
            m_Comment: null,
            m_AssociatedSymbol: null,
            m_References: null,
            m_Summary: null,
            m_Remarks: null,
            m_Arguments: null,
            m_TypeParameters: null,
            m_Exceptions: null
        },
        props: {
            /**
             * The declaration name for the symbol
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function DeclarationName
             * @type string
             */
            DeclarationName: {
                get: function () {
                    return this.m_DeclarationName;
                },
                set: function (value) {
                    this.m_DeclarationName = value;
                }
            },
            /**
             * The comment applied to the definition (this is the raw doc comment text)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Comment
             * @type string
             */
            Comment: {
                get: function () {
                    return this.m_Comment;
                },
                set: function (value) {
                    this.m_Comment = value;
                }
            },
            /**
             * Identity of symbol which generated this documentation
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Codex$IDocumentationInfo$AssociatedSymbol
             * @type Codex.ICodeSymbol
             */
            Codex$IDocumentationInfo$AssociatedSymbol: {
                get: function () {
                    return this.AssociatedSymbol;
                }
            },
            /**
             * Identity of symbol which generated this documentation
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function AssociatedSymbol
             * @type Codex.ObjectModel.Symbol
             */
            AssociatedSymbol: {
                get: function () {
                    return this.m_AssociatedSymbol;
                },
                set: function (value) {
                    this.m_AssociatedSymbol = value;
                }
            },
            /**
             * The other symbols referenced by this symbol (i.e. base type, implemented interface
             or interface members, overridden members, return type of method or property type)
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Codex$IDocumentationInfo$References
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IDocumentationInfo$References: {
                get: function () {
                    return this.References;
                }
            },
            /**
             * The other symbols referenced by this symbol (i.e. base type, implemented interface
             or interface members, overridden members, return type of method or property type)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function References
             * @type System.Collections.Generic.List$1
             */
            References: {
                get: function () {
                    return this.m_References;
                },
                set: function (value) {
                    this.m_References = value;
                }
            },
            /**
             * Describes the symbol
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Summary
             * @type string
             */
            Summary: {
                get: function () {
                    return this.m_Summary;
                },
                set: function (value) {
                    this.m_Summary = value;
                }
            },
            /**
             * Supplementation information about the symbol
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Remarks
             * @type string
             */
            Remarks: {
                get: function () {
                    return this.m_Remarks;
                },
                set: function (value) {
                    this.m_Remarks = value;
                }
            },
            /**
             * Comments on arguments
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Codex$IDocumentationInfo$Arguments
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IDocumentationInfo$Arguments: {
                get: function () {
                    return this.Arguments;
                }
            },
            /**
             * Comments on arguments
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Arguments
             * @type System.Collections.Generic.List$1
             */
            Arguments: {
                get: function () {
                    return this.m_Arguments;
                },
                set: function (value) {
                    this.m_Arguments = value;
                }
            },
            /**
             * Comments on type parameters
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Codex$IDocumentationInfo$TypeParameters
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IDocumentationInfo$TypeParameters: {
                get: function () {
                    return this.TypeParameters;
                }
            },
            /**
             * Comments on type parameters
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function TypeParameters
             * @type System.Collections.Generic.List$1
             */
            TypeParameters: {
                get: function () {
                    return this.m_TypeParameters;
                },
                set: function (value) {
                    this.m_TypeParameters = value;
                }
            },
            /**
             * Information about exceptions which can be thrown
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Codex$IDocumentationInfo$Exceptions
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IDocumentationInfo$Exceptions: {
                get: function () {
                    return this.Exceptions;
                }
            },
            /**
             * Information about exceptions which can be thrown
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationInfo
             * @function Exceptions
             * @type System.Collections.Generic.List$1
             */
            Exceptions: {
                get: function () {
                    return this.m_Exceptions;
                },
                set: function (value) {
                    this.m_Exceptions = value;
                }
            }
        },
        alias: [
            "DeclarationName", "Codex$IDocumentationInfo$DeclarationName",
            "Comment", "Codex$IDocumentationInfo$Comment",
            "Summary", "Codex$IDocumentationInfo$Summary",
            "Remarks", "Codex$IDocumentationInfo$Remarks"
        ],
        ctors: {
            init: function () {
                this.m_References = new (System.Collections.Generic.List$1(Codex.ObjectModel.DocumentationReferenceSymbol)).ctor();
                this.m_Arguments = new (System.Collections.Generic.List$1(Codex.ObjectModel.TypedParameterDocumentation)).ctor();
                this.m_TypeParameters = new (System.Collections.Generic.List$1(Codex.ObjectModel.ParameterDocumentation)).ctor();
                this.m_Exceptions = new (System.Collections.Generic.List$1(Codex.ObjectModel.TypedParameterDocumentation)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.DocumentationInfo, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_DeclarationName = value.Codex$IDocumentationInfo$DeclarationName;
                this.m_Comment = value.Codex$IDocumentationInfo$Comment;
                this.m_AssociatedSymbol = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.Symbol, Bridge.global.Codex.ObjectModel.Symbol, this.AssociatedSymbol, $asm.$.Codex.ObjectModel.DocumentationInfo.f1);
                ;
                this.m_References = new (System.Collections.Generic.List$1(Codex.ObjectModel.DocumentationReferenceSymbol)).$ctor1(System.Linq.Enumerable.from(value.Codex$IDocumentationInfo$References).select($asm.$.Codex.ObjectModel.DocumentationInfo.f3));
                this.m_Summary = value.Codex$IDocumentationInfo$Summary;
                this.m_Remarks = value.Codex$IDocumentationInfo$Remarks;
                this.m_Arguments = new (System.Collections.Generic.List$1(Codex.ObjectModel.TypedParameterDocumentation)).$ctor1(System.Linq.Enumerable.from(value.Codex$IDocumentationInfo$Arguments).select($asm.$.Codex.ObjectModel.DocumentationInfo.f5));
                this.m_TypeParameters = new (System.Collections.Generic.List$1(Codex.ObjectModel.ParameterDocumentation)).$ctor1(System.Linq.Enumerable.from(value.Codex$IDocumentationInfo$TypeParameters).select($asm.$.Codex.ObjectModel.DocumentationInfo.f7));
                this.m_Exceptions = new (System.Collections.Generic.List$1(Codex.ObjectModel.TypedParameterDocumentation)).$ctor1(System.Linq.Enumerable.from(value.Codex$IDocumentationInfo$Exceptions).select($asm.$.Codex.ObjectModel.DocumentationInfo.f5));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.DocumentationInfo", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.DocumentationInfo, {
        f1: function (v) {
            return new Codex.ObjectModel.Symbol.ctor().CopyFrom(Codex.ObjectModel.Symbol, v);
        },
        f2: function (_v) {
            return new Codex.ObjectModel.DocumentationReferenceSymbol.ctor().CopyFrom$2(Codex.ObjectModel.DocumentationReferenceSymbol, _v);
        },
        f3: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IDocumentationReferenceSymbol, Bridge.global.Codex.ObjectModel.DocumentationReferenceSymbol, v, $asm.$.Codex.ObjectModel.DocumentationInfo.f2);
        },
        f4: function (_v) {
            return new Codex.ObjectModel.TypedParameterDocumentation.ctor().CopyFrom$1(Codex.ObjectModel.TypedParameterDocumentation, _v);
        },
        f5: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ITypedParameterDocumentation, Bridge.global.Codex.ObjectModel.TypedParameterDocumentation, v, $asm.$.Codex.ObjectModel.DocumentationInfo.f4);
        },
        f6: function (_v) {
            return new Codex.ObjectModel.ParameterDocumentation.ctor().CopyFrom(Codex.ObjectModel.ParameterDocumentation, _v);
        },
        f7: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IParameterDocumentation, Bridge.global.Codex.ObjectModel.ParameterDocumentation, v, $asm.$.Codex.ObjectModel.DocumentationInfo.f6);
        }
    });

    /**
     * Describes encoding so that file may be reconstituted in a byte-identical form
     *
     * @public
     * @class Codex.ObjectModel.EncodingDescription
     * @augments Codex.EntityBase
     * @implements  Codex.IEncodingDescription
     */
    Bridge.define("Codex.ObjectModel.EncodingDescription", {
        inherits: [Codex.EntityBase,Codex.IEncodingDescription],
        fields: {
            m_Name: null,
            m_Preamble: null
        },
        props: {
            /**
             * The name of the encoding
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.EncodingDescription
             * @function Name
             * @type string
             */
            Name: {
                get: function () {
                    return this.m_Name;
                },
                set: function (value) {
                    this.m_Name = value;
                }
            },
            /**
             * The encoding preamble
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.EncodingDescription
             * @function Preamble
             * @type Array.<number>
             */
            Preamble: {
                get: function () {
                    return this.m_Preamble;
                },
                set: function (value) {
                    this.m_Preamble = value;
                }
            }
        },
        alias: [
            "Name", "Codex$IEncodingDescription$Name",
            "Preamble", "Codex$IEncodingDescription$Preamble"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.EncodingDescription, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Name = value.Codex$IEncodingDescription$Name;
                this.m_Preamble = value.Codex$IEncodingDescription$Preamble;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.FileStatistics", {
        inherits: [Codex.EntityBase,Codex.IFileStatistics],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.FileStatistics, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.Index", {
        inherits: [Codex.EntityBase,Codex.Sdk.Search.IIndex],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.Index, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.LanguageInfo", {
        inherits: [Codex.EntityBase,Codex.ILanguageInfo],
        fields: {
            m_Name: null,
            m_Classifications: null
        },
        props: {
            /**
             * The name of the language
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.LanguageInfo
             * @function Name
             * @type string
             */
            Name: {
                get: function () {
                    return this.m_Name;
                },
                set: function (value) {
                    this.m_Name = value;
                }
            },
            /**
             * Describes the style for classified spans. See {@link }.
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.LanguageInfo
             * @function Codex$ILanguageInfo$Classifications
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$ILanguageInfo$Classifications: {
                get: function () {
                    return this.Classifications;
                }
            },
            /**
             * Describes the style for classified spans. See {@link }.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.LanguageInfo
             * @function Classifications
             * @type System.Collections.Generic.List$1
             */
            Classifications: {
                get: function () {
                    return this.m_Classifications;
                },
                set: function (value) {
                    this.m_Classifications = value;
                }
            }
        },
        alias: ["Name", "Codex$ILanguageInfo$Name"],
        ctors: {
            init: function () {
                this.m_Classifications = new (System.Collections.Generic.List$1(Codex.ObjectModel.ClassificationStyle)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.LanguageInfo, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Name = value.Codex$ILanguageInfo$Name;
                this.m_Classifications = new (System.Collections.Generic.List$1(Codex.ObjectModel.ClassificationStyle)).$ctor1(System.Linq.Enumerable.from(value.Codex$ILanguageInfo$Classifications).select($asm.$.Codex.ObjectModel.LanguageInfo.f2));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.LanguageInfo", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.LanguageInfo, {
        f1: function (_v) {
            return new Codex.ObjectModel.ClassificationStyle.ctor().CopyFrom(Codex.ObjectModel.ClassificationStyle, _v);
        },
        f2: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IClassificationStyle, Bridge.global.Codex.ObjectModel.ClassificationStyle, v, $asm.$.Codex.ObjectModel.LanguageInfo.f1);
        }
    });

    Bridge.define("Codex.ObjectModel.OutliningRegion", {
        inherits: [Codex.EntityBase,Codex.IOutliningRegion],
        fields: {
            m_Kind: null,
            m_Header: null,
            m_Content: null
        },
        props: {
            Kind: {
                get: function () {
                    return this.m_Kind;
                },
                set: function (value) {
                    this.m_Kind = value;
                }
            },
            /**
             * Defines the region containing the header text of the outlining region
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.OutliningRegion
             * @function Codex$IOutliningRegion$Header
             * @type Codex.ILineSpan
             */
            Codex$IOutliningRegion$Header: {
                get: function () {
                    return this.Header;
                }
            },
            /**
             * Defines the region containing the header text of the outlining region
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.OutliningRegion
             * @function Header
             * @type Codex.ObjectModel.LineSpan
             */
            Header: {
                get: function () {
                    return this.m_Header;
                },
                set: function (value) {
                    this.m_Header = value;
                }
            },
            /**
             * Defines the region containing the collapsible content region of the outlining region
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.OutliningRegion
             * @function Codex$IOutliningRegion$Content
             * @type Codex.ILineSpan
             */
            Codex$IOutliningRegion$Content: {
                get: function () {
                    return this.Content;
                }
            },
            /**
             * Defines the region containing the collapsible content region of the outlining region
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.OutliningRegion
             * @function Content
             * @type Codex.ObjectModel.LineSpan
             */
            Content: {
                get: function () {
                    return this.m_Content;
                },
                set: function (value) {
                    this.m_Content = value;
                }
            }
        },
        alias: ["Kind", "Codex$IOutliningRegion$Kind"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.OutliningRegion, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Kind = value.Codex$IOutliningRegion$Kind;
                this.m_Header = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.LineSpan, Bridge.global.Codex.ObjectModel.LineSpan, this.Header, $asm.$.Codex.ObjectModel.OutliningRegion.f1);
                ;
                this.m_Content = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.LineSpan, Bridge.global.Codex.ObjectModel.LineSpan, this.Content, $asm.$.Codex.ObjectModel.OutliningRegion.f1);
                ;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.OutliningRegion", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.OutliningRegion, {
        f1: function (v) {
            return new Codex.ObjectModel.LineSpan.ctor().CopyFrom$1(Codex.ObjectModel.LineSpan, v);
        }
    });

    /**
     * Documentation for a method parameter
     *
     * @public
     * @class Codex.ObjectModel.ParameterDocumentation
     * @augments Codex.EntityBase
     * @implements  Codex.IParameterDocumentation
     */
    Bridge.define("Codex.ObjectModel.ParameterDocumentation", {
        inherits: [Codex.EntityBase,Codex.IParameterDocumentation],
        fields: {
            m_Name: null,
            m_Comment: null
        },
        props: {
            /**
             * The name of the parameter
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ParameterDocumentation
             * @function Name
             * @type string
             */
            Name: {
                get: function () {
                    return this.m_Name;
                },
                set: function (value) {
                    this.m_Name = value;
                }
            },
            /**
             * The comment associated with the symbol
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ParameterDocumentation
             * @function Comment
             * @type string
             */
            Comment: {
                get: function () {
                    return this.m_Comment;
                },
                set: function (value) {
                    this.m_Comment = value;
                }
            }
        },
        alias: [
            "Name", "Codex$IParameterDocumentation$Name",
            "Comment", "Codex$IParameterDocumentation$Comment"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.ParameterDocumentation, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Name = value.Codex$IParameterDocumentation$Name;
                this.m_Comment = value.Codex$IParameterDocumentation$Comment;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.PropertyMap", {
        inherits: [Codex.ObjectModel.PropertyMapBase,Codex.IPropertyMap],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.PropertyMapBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.PropertyMapBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.PropertyMap, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                return Bridge.cast((this), TTarget);
            },
            Initialize: function () { }
        }
    });

    Bridge.define("Codex.ObjectModel.ReferencedProject", {
        inherits: [Codex.EntityBase,Codex.IReferencedProject],
        fields: {
            m_ProjectId: null,
            m_Definitions: null,
            m_DisplayName: null,
            m_Properties: null
        },
        props: {
            /**
             * The identifier of the referenced project
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferencedProject
             * @function ProjectId
             * @type string
             */
            ProjectId: {
                get: function () {
                    return this.m_ProjectId;
                },
                set: function (value) {
                    this.m_ProjectId = value;
                }
            },
            /**
             * Used definitions for the project. Sorted.
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.ReferencedProject
             * @function Codex$IReferencedProject$Definitions
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IReferencedProject$Definitions: {
                get: function () {
                    return this.Definitions;
                }
            },
            /**
             * Used definitions for the project. Sorted.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferencedProject
             * @function Definitions
             * @type System.Collections.Generic.List$1
             */
            Definitions: {
                get: function () {
                    return this.m_Definitions;
                },
                set: function (value) {
                    this.m_Definitions = value;
                }
            },
            /**
             * The display name of the project
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferencedProject
             * @function DisplayName
             * @type string
             */
            DisplayName: {
                get: function () {
                    return this.m_DisplayName;
                },
                set: function (value) {
                    this.m_DisplayName = value;
                }
            },
            /**
             * The properties of the project. Such as Version, PublicKey, etc.
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.ReferencedProject
             * @function Codex$IReferencedProject$Properties
             * @type Codex.IPropertyMap
             */
            Codex$IReferencedProject$Properties: {
                get: function () {
                    return this.Properties;
                }
            },
            /**
             * The properties of the project. Such as Version, PublicKey, etc.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferencedProject
             * @function Properties
             * @type Codex.ObjectModel.PropertyMap
             */
            Properties: {
                get: function () {
                    return this.m_Properties;
                },
                set: function (value) {
                    this.m_Properties = value;
                }
            }
        },
        alias: [
            "ProjectId", "Codex$IReferencedProject$ProjectId",
            "DisplayName", "Codex$IReferencedProject$DisplayName"
        ],
        ctors: {
            init: function () {
                this.m_Definitions = new (System.Collections.Generic.List$1(Codex.ObjectModel.DefinitionSymbol)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.ReferencedProject, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_ProjectId = value.Codex$IReferencedProject$ProjectId;
                this.m_Definitions = new (System.Collections.Generic.List$1(Codex.ObjectModel.DefinitionSymbol)).$ctor1(System.Linq.Enumerable.from(value.Codex$IReferencedProject$Definitions).select($asm.$.Codex.ObjectModel.ReferencedProject.f2));
                this.m_DisplayName = value.Codex$IReferencedProject$DisplayName;
                this.m_Properties = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.PropertyMap, Bridge.global.Codex.ObjectModel.PropertyMap, this.Properties, $asm.$.Codex.ObjectModel.ReferencedProject.f3);
                ;
                return Bridge.cast((this), TTarget);
            },
            toString: function () {
                var $t;
                return ($t = this.DisplayName, $t != null ? $t : this.ProjectId);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.ReferencedProject", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.ReferencedProject, {
        f1: function (_v) {
            return new Codex.ObjectModel.DefinitionSymbol.ctor().CopyFrom$2(Codex.ObjectModel.DefinitionSymbol, _v);
        },
        f2: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IDefinitionSymbol, Bridge.global.Codex.ObjectModel.DefinitionSymbol, v, $asm.$.Codex.ObjectModel.ReferencedProject.f1);
        },
        f3: function (v) {
            return new Codex.ObjectModel.PropertyMap.ctor().CopyFrom(Codex.ObjectModel.PropertyMap, v);
        }
    });

    Bridge.define("Codex.ObjectModel.Repository", {
        inherits: [Codex.EntityBase,Codex.IRepository],
        fields: {
            m_Name: null,
            m_Description: null,
            m_Id: null,
            m_WebAddress: null,
            m_SourceControlWebAddress: null,
            m_FileWebAddressTransformInputRegex: null,
            m_PrimaryBranch: null,
            m_RepositoryReferences: null
        },
        props: {
            /**
             * The name fo the repository
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Repository
             * @function Name
             * @type string
             */
            Name: {
                get: function () {
                    return this.m_Name;
                },
                set: function (value) {
                    this.m_Name = value;
                }
            },
            /**
             * Describes the repository
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Repository
             * @function Description
             * @type string
             */
            Description: {
                get: function () {
                    return this.m_Description;
                },
                set: function (value) {
                    this.m_Description = value;
                }
            },
            Id: {
                get: function () {
                    return this.m_Id;
                },
                set: function (value) {
                    this.m_Id = value;
                }
            },
            WebAddress: {
                get: function () {
                    return this.m_WebAddress;
                },
                set: function (value) {
                    this.m_WebAddress = value;
                }
            },
            /**
             * The web address for source control of the repository
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Repository
             * @function SourceControlWebAddress
             * @type string
             */
            SourceControlWebAddress: {
                get: function () {
                    return this.m_SourceControlWebAddress;
                },
                set: function (value) {
                    this.m_SourceControlWebAddress = value;
                }
            },
            /**
             * The regex for extracting
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Repository
             * @function FileWebAddressTransformInputRegex
             * @type string
             */
            FileWebAddressTransformInputRegex: {
                get: function () {
                    return this.m_FileWebAddressTransformInputRegex;
                },
                set: function (value) {
                    this.m_FileWebAddressTransformInputRegex = value;
                }
            },
            /**
             * The name of the primary branch for the repository
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Repository
             * @function PrimaryBranch
             * @type string
             */
            PrimaryBranch: {
                get: function () {
                    return this.m_PrimaryBranch;
                },
                set: function (value) {
                    this.m_PrimaryBranch = value;
                }
            },
            Codex$IRepository$RepositoryReferences: {
                get: function () {
                    return this.RepositoryReferences;
                }
            },
            RepositoryReferences: {
                get: function () {
                    return this.m_RepositoryReferences;
                },
                set: function (value) {
                    this.m_RepositoryReferences = value;
                }
            }
        },
        alias: [
            "Name", "Codex$IRepository$Name",
            "Description", "Codex$IRepository$Description",
            "Id", "Codex$IRepository$Id",
            "WebAddress", "Codex$IRepository$WebAddress",
            "SourceControlWebAddress", "Codex$IRepository$SourceControlWebAddress",
            "FileWebAddressTransformInputRegex", "Codex$IRepository$FileWebAddressTransformInputRegex",
            "PrimaryBranch", "Codex$IRepository$PrimaryBranch"
        ],
        ctors: {
            init: function () {
                this.m_RepositoryReferences = new (System.Collections.Generic.List$1(Codex.ObjectModel.RepositoryReference)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.Repository, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Name = value.Codex$IRepository$Name;
                this.m_Description = value.Codex$IRepository$Description;
                this.m_Id = value.Codex$IRepository$Id;
                this.m_WebAddress = value.Codex$IRepository$WebAddress;
                this.m_SourceControlWebAddress = value.Codex$IRepository$SourceControlWebAddress;
                this.m_FileWebAddressTransformInputRegex = value.Codex$IRepository$FileWebAddressTransformInputRegex;
                this.m_PrimaryBranch = value.Codex$IRepository$PrimaryBranch;
                this.m_RepositoryReferences = new (System.Collections.Generic.List$1(Codex.ObjectModel.RepositoryReference)).$ctor1(System.Linq.Enumerable.from(value.Codex$IRepository$RepositoryReferences).select($asm.$.Codex.ObjectModel.Repository.f2));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.Repository", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.Repository, {
        f1: function (_v) {
            return new Codex.ObjectModel.RepositoryReference.ctor().CopyFrom(Codex.ObjectModel.RepositoryReference, _v);
        },
        f2: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IRepositoryReference, Bridge.global.Codex.ObjectModel.RepositoryReference, v, $asm.$.Codex.ObjectModel.Repository.f1);
        }
    });

    Bridge.define("Codex.ObjectModel.RepositoryReference", {
        inherits: [Codex.EntityBase,Codex.IRepositoryReference],
        fields: {
            m_Name: null,
            m_Id: null
        },
        props: {
            /**
             * The name of the reference repository
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.RepositoryReference
             * @function Name
             * @type string
             */
            Name: {
                get: function () {
                    return this.m_Name;
                },
                set: function (value) {
                    this.m_Name = value;
                }
            },
            /**
             * Optional. Id of repository
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.RepositoryReference
             * @function Id
             * @type string
             */
            Id: {
                get: function () {
                    return this.m_Id;
                },
                set: function (value) {
                    this.m_Id = value;
                }
            }
        },
        alias: [
            "Name", "Codex$IRepositoryReference$Name",
            "Id", "Codex$IRepositoryReference$Id"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.RepositoryReference, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Name = value.Codex$IRepositoryReference$Name;
                this.m_Id = value.Codex$IRepositoryReference$Id;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    /**
     * Information for creating an ICodexRepositoryStore
     *
     * @public
     * @class Codex.ObjectModel.RepositoryStoreInfo
     * @augments Codex.EntityBase
     * @implements  Codex.IRepositoryStoreInfo
     */
    Bridge.define("Codex.ObjectModel.RepositoryStoreInfo", {
        inherits: [Codex.EntityBase,Codex.IRepositoryStoreInfo],
        fields: {
            m_Repository: null,
            m_Branch: null,
            m_Commit: null
        },
        props: {
            /**
             * The repository being stored
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.RepositoryStoreInfo
             * @function Codex$IRepositoryStoreInfo$Repository
             * @type Codex.IRepository
             */
            Codex$IRepositoryStoreInfo$Repository: {
                get: function () {
                    return this.Repository;
                }
            },
            /**
             * The repository being stored
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.RepositoryStoreInfo
             * @function Repository
             * @type Codex.ObjectModel.Repository
             */
            Repository: {
                get: function () {
                    return this.m_Repository;
                },
                set: function (value) {
                    this.m_Repository = value;
                }
            },
            /**
             * The branch being stored
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.RepositoryStoreInfo
             * @function Codex$IRepositoryStoreInfo$Branch
             * @type Codex.IBranch
             */
            Codex$IRepositoryStoreInfo$Branch: {
                get: function () {
                    return this.Branch;
                }
            },
            /**
             * The branch being stored
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.RepositoryStoreInfo
             * @function Branch
             * @type Codex.ObjectModel.Branch
             */
            Branch: {
                get: function () {
                    return this.m_Branch;
                },
                set: function (value) {
                    this.m_Branch = value;
                }
            },
            /**
             * The commit being stored
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.RepositoryStoreInfo
             * @function Codex$IRepositoryStoreInfo$Commit
             * @type Codex.ICommit
             */
            Codex$IRepositoryStoreInfo$Commit: {
                get: function () {
                    return this.Commit;
                }
            },
            /**
             * The commit being stored
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.RepositoryStoreInfo
             * @function Commit
             * @type Codex.ObjectModel.Commit
             */
            Commit: {
                get: function () {
                    return this.m_Commit;
                },
                set: function (value) {
                    this.m_Commit = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.RepositoryStoreInfo, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Repository = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.Repository, Bridge.global.Codex.ObjectModel.Repository, this.Repository, $asm.$.Codex.ObjectModel.RepositoryStoreInfo.f1);
                ;
                this.m_Branch = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.Branch, Bridge.global.Codex.ObjectModel.Branch, this.Branch, $asm.$.Codex.ObjectModel.RepositoryStoreInfo.f2);
                ;
                this.m_Commit = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.Commit, Bridge.global.Codex.ObjectModel.Commit, this.Commit, $asm.$.Codex.ObjectModel.RepositoryStoreInfo.f3);
                ;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.RepositoryStoreInfo", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.RepositoryStoreInfo, {
        f1: function (v) {
            return new Codex.ObjectModel.Repository.ctor().CopyFrom(Codex.ObjectModel.Repository, v);
        },
        f2: function (v) {
            return new Codex.ObjectModel.Branch.ctor().CopyFrom(Codex.ObjectModel.Branch, v);
        },
        f3: function (v) {
            return new Codex.ObjectModel.Commit.ctor().CopyFrom$2(Codex.ObjectModel.Commit, v);
        }
    });

    Bridge.define("Codex.ObjectModel.SearchResult", {
        inherits: [Codex.EntityBase,Codex.Sdk.Search.ISearchResult],
        fields: {
            m_TextLine: null,
            m_Definition: null
        },
        props: {
            /**
             * The text span for a text result
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.SearchResult
             * @function Codex$Sdk$Search$ISearchResult$TextLine
             * @type Codex.Sdk.Search.ITextLineSpanResult
             */
            Codex$Sdk$Search$ISearchResult$TextLine: {
                get: function () {
                    return this.TextLine;
                }
            },
            /**
             * The text span for a text result
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SearchResult
             * @function TextLine
             * @type Codex.ObjectModel.TextLineSpanResult
             */
            TextLine: {
                get: function () {
                    return this.m_TextLine;
                },
                set: function (value) {
                    this.m_TextLine = value;
                }
            },
            /**
             * The definition of the search result
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.SearchResult
             * @function Codex$Sdk$Search$ISearchResult$Definition
             * @type Codex.IDefinitionSymbol
             */
            Codex$Sdk$Search$ISearchResult$Definition: {
                get: function () {
                    return this.Definition;
                }
            },
            /**
             * The definition of the search result
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SearchResult
             * @function Definition
             * @type Codex.ObjectModel.DefinitionSymbol
             */
            Definition: {
                get: function () {
                    return this.m_Definition;
                },
                set: function (value) {
                    this.m_Definition = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.SearchResult, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_TextLine = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.TextLineSpanResult, Bridge.global.Codex.ObjectModel.TextLineSpanResult, this.TextLine, $asm.$.Codex.ObjectModel.SearchResult.f1);
                ;
                this.m_Definition = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.DefinitionSymbol, Bridge.global.Codex.ObjectModel.DefinitionSymbol, this.Definition, $asm.$.Codex.ObjectModel.SearchResult.f2);
                ;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.SearchResult", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.SearchResult, {
        f1: function (v) {
            return new Codex.ObjectModel.TextLineSpanResult.ctor().CopyFrom$4(Codex.ObjectModel.TextLineSpanResult, v);
        },
        f2: function (v) {
            return new Codex.ObjectModel.DefinitionSymbol.ctor().CopyFrom$2(Codex.ObjectModel.DefinitionSymbol, v);
        }
    });

    /**
     * Information about a source file as defined by the source control provider
     *
     * @public
     * @class Codex.ObjectModel.SourceControlFileInfo
     * @augments Codex.EntityBase
     * @implements  Codex.ISourceControlFileInfo
     */
    Bridge.define("Codex.ObjectModel.SourceControlFileInfo", {
        inherits: [Codex.EntityBase,Codex.ISourceControlFileInfo],
        fields: {
            m_SourceControlContentId: null
        },
        props: {
            /**
             * Unique id for the source file content as defined by the source control provider (i.e. git SHA)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceControlFileInfo
             * @function SourceControlContentId
             * @type string
             */
            SourceControlContentId: {
                get: function () {
                    return this.m_SourceControlContentId;
                },
                set: function (value) {
                    this.m_SourceControlContentId = value;
                }
            }
        },
        alias: ["SourceControlContentId", "Codex$ISourceControlFileInfo$SourceControlContentId"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.SourceControlFileInfo, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_SourceControlContentId = value.Codex$ISourceControlFileInfo$SourceControlContentId;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    /**
     * Defines text contents of a file and associated data
     *
     * @public
     * @class Codex.ObjectModel.SourceFile
     * @augments Codex.EntityBase
     * @implements  Codex.ISourceFile
     */
    Bridge.define("Codex.ObjectModel.SourceFile", {
        inherits: [Codex.EntityBase,Codex.ISourceFile],
        fields: {
            m_Info: null,
            m_Content: null,
            m_ExcludeFromSearch: false
        },
        props: {
            /**
             * The information about the source file
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.SourceFile
             * @function Codex$ISourceFile$Info
             * @type Codex.ISourceFileInfo
             */
            Codex$ISourceFile$Info: {
                get: function () {
                    return this.Info;
                }
            },
            /**
             * The information about the source file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFile
             * @function Info
             * @type Codex.ObjectModel.SourceFileInfo
             */
            Info: {
                get: function () {
                    return this.m_Info;
                },
                set: function (value) {
                    this.m_Info = value;
                }
            },
            /**
             * The content of the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFile
             * @function Content
             * @type string
             */
            Content: {
                get: function () {
                    return this.m_Content;
                },
                set: function (value) {
                    this.m_Content = value;
                }
            },
            /**
             * Indicates that the file should be excluded from text search
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFile
             * @function ExcludeFromSearch
             * @type boolean
             */
            ExcludeFromSearch: {
                get: function () {
                    return this.m_ExcludeFromSearch;
                },
                set: function (value) {
                    this.m_ExcludeFromSearch = value;
                }
            }
        },
        alias: [
            "Content", "Codex$ISourceFile$Content",
            "ExcludeFromSearch", "Codex$ISourceFile$ExcludeFromSearch"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.SourceFile, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_Info = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.SourceFileInfo, Bridge.global.Codex.ObjectModel.SourceFileInfo, this.Info, $asm.$.Codex.ObjectModel.SourceFile.f1);
                ;
                this.m_Content = value.Codex$ISourceFile$Content;
                this.m_ExcludeFromSearch = value.Codex$ISourceFile$ExcludeFromSearch;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.SourceFile", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.SourceFile, {
        f1: function (v) {
            return new Codex.ObjectModel.SourceFileInfo.ctor().CopyFrom$5(Codex.ObjectModel.SourceFileInfo, v);
        }
    });

    Bridge.define("Codex.ObjectModel.StoredBoundSourceFile", {
        inherits: [Codex.EntityBase,Codex.IStoredBoundSourceFile],
        fields: {
            m_BoundSourceFile: null,
            m_CompressedClassifications: null,
            m_CompressedReferences: null
        },
        props: {
            Codex$IStoredBoundSourceFile$BoundSourceFile: {
                get: function () {
                    return this.BoundSourceFile;
                }
            },
            BoundSourceFile: {
                get: function () {
                    return this.m_BoundSourceFile;
                },
                set: function (value) {
                    this.m_BoundSourceFile = value;
                }
            },
            /**
             * Compressed list of classification spans
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredBoundSourceFile
             * @function CompressedClassifications
             * @type Codex.IClassificationList
             */
            CompressedClassifications: {
                get: function () {
                    return this.m_CompressedClassifications;
                },
                set: function (value) {
                    this.m_CompressedClassifications = value;
                }
            },
            /**
             * Compressed list of reference spans
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredBoundSourceFile
             * @function CompressedReferences
             * @type Codex.IReferenceList
             */
            CompressedReferences: {
                get: function () {
                    return this.m_CompressedReferences;
                },
                set: function (value) {
                    this.m_CompressedReferences = value;
                }
            }
        },
        alias: [
            "CompressedClassifications", "Codex$IStoredBoundSourceFile$CompressedClassifications",
            "CompressedReferences", "Codex$IStoredBoundSourceFile$CompressedReferences"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.StoredBoundSourceFile, value);
            }
        },
        methods: {
            CopyFrom: function (TTarget, value) {
                this.m_BoundSourceFile = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.BoundSourceFile, Bridge.global.Codex.ObjectModel.BoundSourceFile, this.BoundSourceFile, $asm.$.Codex.ObjectModel.StoredBoundSourceFile.f1);
                ;
                this.m_CompressedClassifications = value.Codex$IStoredBoundSourceFile$CompressedClassifications;
                this.m_CompressedReferences = value.Codex$IStoredBoundSourceFile$CompressedReferences;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.StoredBoundSourceFile", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.StoredBoundSourceFile, {
        f1: function (v) {
            return new Codex.ObjectModel.BoundSourceFile.ctor().CopyFrom$5(Codex.ObjectModel.BoundSourceFile, v);
        }
    });

    Bridge.define("Codex.Sdk.Search.FindSymbolArgumentsBase", {
        inherits: [Codex.Sdk.Search.ContextCodexArgumentsBase],
        props: {
            /**
             * The symbol id of the symbol
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.FindSymbolArgumentsBase
             * @function SymbolId
             * @type string
             */
            SymbolId: null,
            /**
             * The project id of the symbol
             *
             * @instance
             * @public
             * @memberof Codex.Sdk.Search.FindSymbolArgumentsBase
             * @function ProjectId
             * @type string
             */
            ProjectId: null
        }
    });

    Bridge.define("Codex.Sdk.Search.GetSourceArguments", {
        inherits: [Codex.Sdk.Search.ContextCodexArgumentsBase],
        props: {
            ProjectId: null,
            ProjectRelativePath: null
        }
    });

    Bridge.define("Codex.Sdk.Search.IndexQueryHitsResponse$1", function (T) { return {
        inherits: [Codex.Sdk.Search.IndexQueryResponse$1(Codex.Sdk.Search.IndexQueryHits$1(T))]
    }; });

    Bridge.define("Codex.Sdk.Search.SearchArguments", {
        inherits: [Codex.Sdk.Search.ContextCodexArgumentsBase],
        props: {
            SearchString: null
        }
    });

    Bridge.define("Codex.View.CategorizedSearchResultsViewModel", {
        inherits: [Codex.View.LeftPaneContent,Codex.View.IResultsStats],
        props: {
            Categories: null,
            Counter: null
        },
        alias: ["Counter", "Codex$View$IResultsStats$Counter"],
        ctors: {
            init: function () {
                this.Counter = new Codex.View.Counter();
            },
            ctor: function (searchString, response) {
                this.$initialize();
                Codex.View.LeftPaneContent.ctor.call(this);
                this.Categories = Bridge.fn.bind(this, function (_o1) {
                        _o1.add(Codex.View.ViewUtilities.AddTo(Bridge.global.Codex.View.CategoryGroupSearchResultsViewModel, new Codex.View.CategoryGroupSearchResultsViewModel.$ctor1(searchString, response), this.Counter));
                        return _o1;
                    })(new (System.Collections.Generic.List$1(Codex.View.CategoryGroupSearchResultsViewModel)).ctor());
            },
            $ctor1: function (symbolName, references) {
                this.$initialize();
                Codex.View.LeftPaneContent.ctor.call(this);
                this.Categories = System.Linq.Enumerable.from(references).groupBy($asm.$.Codex.View.CategorizedSearchResultsViewModel.f1).select(Bridge.fn.bind(this, function (referenceGroup) {
                    var referenceKind = { v : new Codex.ObjectModel.ReferenceKind() };
                    System.Enum.tryParse(Bridge.global.Codex.ObjectModel.ReferenceKind, referenceGroup.key(), referenceKind, true);
                    return Codex.View.ViewUtilities.AddTo(Bridge.global.Codex.View.CategoryGroupSearchResultsViewModel, new Codex.View.CategoryGroupSearchResultsViewModel.ctor(referenceKind.v, symbolName, referenceGroup), this.Counter);
                })).toList(Codex.View.CategoryGroupSearchResultsViewModel);
            }
        },
        methods: {
            Render: function (view, parentElement) {
                var $t;
                $t = Bridge.getEnumerator(this.Categories);
                try {
                    while ($t.moveNext()) {
                        var category = $t.Current;
                        category.Render(view, parentElement);
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }}
        }
    });

    Bridge.ns("Codex.View.CategorizedSearchResultsViewModel", $asm.$);

    Bridge.apply($asm.$.Codex.View.CategorizedSearchResultsViewModel, {
        f1: function (r) {
            return r.Codex$Sdk$Search$IReferenceSearchResult$ReferenceSpan.Codex$IReferenceSpan$Reference.Codex$IReferenceSymbol$ReferenceKind.toLowerCase();
        }
    });

    Bridge.define("Codex.View.FileResultsViewModel", {
        inherits: [Codex.View.ProjectItemResultViewModel,Codex.View.IResultsStats],
        props: {
            Counter: null,
            Path: null,
            Items: null
        },
        alias: ["Counter", "Codex$View$IResultsStats$Counter"],
        ctors: {
            init: function () {
                this.Counter = new Codex.View.Counter();
            }
        },
        methods: {
            Render: function (view, parentElement) {
                var $t;
                var fileGroupElement = ($t = document.createElement("div"), $t.className = "rF", $t);
                parentElement.appendChild(fileGroupElement);

                fileGroupElement.appendChild(Codex.View.ViewUtilities.SetBackgroundIcon(($t = document.createElement("div"), $t.className = "rN", $t.textContent = System.String.format("{0} ({1})", this.Path, Bridge.box(this.Counter.Count, System.Int32)), $t), Codex.View.ViewUtilities.GetFileNameGlyph(this.Path)));

                $t = Bridge.getEnumerator(this.Items, Codex.View.FileItemResultViewModel);
                try {
                    while ($t.moveNext()) {
                        var item = $t.Current;
                        item.Render(view, fileGroupElement);
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }}
        }
    });

    Bridge.define("Codex.View.GoToDefinitionCommandBinding", {
        inherits: [Codex.View.TypedCommandBinding$1(Codex.IReferenceSymbol)],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.View.TypedCommandBinding$1(Codex.IReferenceSymbol).ctor.call(this, Codex.View.Commands.GoToDefinition);
            }
        }
    });

    Bridge.define("Codex.View.LeftPaneViewModel", {
        inherits: [Codex.View.PaneViewModelBase],
        statics: {
            fields: {
                Initial: null
            },
            ctors: {
                init: function () {
                    var $t;
                    this.Initial = ($t = new Codex.View.LeftPaneViewModel(), $t.SearchInfo = "Enter a search string. Start with ` for full text search results only.", $t);
                }
            },
            methods: {
                FromReferencesResponse: function (response) {
                    var $t, $t1, $t2;
                    if (response.Error != null) {
                        return ($t = new Codex.View.LeftPaneViewModel(), $t.SearchInfo = response.Error, $t);
                    } else if ((($t = response.Result) != null ? $t.Hits : null) == null || response.Result.Hits.Count === 0) {
                        return ($t1 = new Codex.View.LeftPaneViewModel(), $t1.SearchInfo = System.String.format("No references found.", null), $t1);
                    }

                    var result = response.Result;
                    return ($t1 = new Codex.View.LeftPaneViewModel(), $t1.Content = new Codex.View.CategorizedSearchResultsViewModel.$ctor1(($t2 = response.Result.SymbolDisplayName, $t2 != null ? $t2 : response.Result.Hits.getItem(0).Codex$Sdk$Search$IReferenceSearchResult$ReferenceSpan.Codex$IReferenceSpan$Reference.Codex$ICodeSymbol$Id.Value), response.Result.Hits), $t1.SearchInfo = null, $t1);
                },
                FromSearchResponse: function (searchString, response) {
                    var $t, $t1;
                    if (response.Error != null) {
                        return ($t = new Codex.View.LeftPaneViewModel(), $t.SearchInfo = response.Error, $t);
                    } else if ((($t = response.Result) != null ? $t.Hits : null) == null || response.Result.Hits.Count === 0) {
                        return ($t1 = new Codex.View.LeftPaneViewModel(), $t1.SearchInfo = System.String.format("No results found.", null), $t1);
                    }

                    var result = response.Result;
                    var isDefinitionsResult = result.Hits.getItem(0).Codex$Sdk$Search$ISearchResult$Definition != null;
                    return ($t1 = new Codex.View.LeftPaneViewModel(), $t1.Content = isDefinitionsResult ? Bridge.cast(new Codex.View.ProjectResultsViewModel.$ctor1(searchString, response), Codex.View.LeftPaneContent) : new Codex.View.CategorizedSearchResultsViewModel.ctor(searchString, response), $t1.SearchInfo = isDefinitionsResult ? (System.Int64(result.Hits.Count).lt(result.Total) ? System.String.format("Displaying top {0} results out of {1}:", Bridge.box(result.Hits.Count, System.Int32), result.Total) : System.String.format("{0} results found:", Bridge.box(result.Hits.Count, System.Int32))) : "", $t1);
                }
            }
        },
        props: {
            SearchInfoVisibility: {
                get: function () {
                    return !System.String.isNullOrEmpty(this.SearchInfo) ? System.Windows.Visibility.Visible : System.Windows.Visibility.Collapsed;
                }
            },
            SearchInfo: null,
            ContentVisibility: {
                get: function () {
                    return this.Content != null ? System.Windows.Visibility.Visible : System.Windows.Visibility.Collapsed;
                }
            },
            Content: null
        },
        methods: {
            Render: function (view, parentElement) {
                var $t;
                ($t = this.Content) != null ? $t.Render(view, parentElement) : null;
            }
        }
    });

    Bridge.define("Codex.View.ProjectResultsViewModel", {
        inherits: [Codex.View.LeftPaneContent,Codex.View.IResultsStats],
        props: {
            Counter: null,
            ProjectGroups: null
        },
        alias: ["Counter", "Codex$View$IResultsStats$Counter"],
        ctors: {
            init: function () {
                this.Counter = new Codex.View.Counter();
            },
            ctor: function () {
                this.$initialize();
                Codex.View.LeftPaneContent.ctor.call(this);
                this.ProjectGroups = new (System.Collections.Generic.List$1(Codex.View.ProjectGroupResultsViewModel)).ctor();
            },
            $ctor1: function (searchString, response) {
                this.$initialize();
                Codex.View.LeftPaneContent.ctor.call(this);
                this.ProjectGroups = System.Linq.Enumerable.from(response.Result.Hits).select($asm.$.Codex.View.ProjectResultsViewModel.f1).groupBy($asm.$.Codex.View.ProjectResultsViewModel.f2).select(Bridge.fn.bind(this, $asm.$.Codex.View.ProjectResultsViewModel.f3)).toList(Codex.View.ProjectGroupResultsViewModel);
            }
        },
        methods: {
            Render: function (view, parentElement) {
                var $t;
                $t = Bridge.getEnumerator(this.ProjectGroups);
                try {
                    while ($t.moveNext()) {
                        var projectGroup = $t.Current;
                        projectGroup.Render(view, parentElement);
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$dispose();
                    }
                }}
        }
    });

    Bridge.ns("Codex.View.ProjectResultsViewModel", $asm.$);

    Bridge.apply($asm.$.Codex.View.ProjectResultsViewModel, {
        f1: function (sr) {
            return sr.Codex$Sdk$Search$ISearchResult$Definition;
        },
        f2: function (sr) {
            return sr.Codex$ICodeSymbol$ProjectId;
        },
        f3: function (projectGroup) {
            var $t;
            var projectCounter = new Codex.View.Counter();
            return Codex.View.ViewUtilities.AddTo(Bridge.global.Codex.View.ProjectGroupResultsViewModel, Codex.View.ViewUtilities.AddFrom(Bridge.global.Codex.View.ProjectGroupResultsViewModel, ($t = new Codex.View.ProjectGroupResultsViewModel(), $t.ProjectName = projectGroup.key(), $t.Items = projectGroup.select(function (symbol) {
                return Codex.View.ViewUtilities.Increment(Bridge.global.Codex.View.SymbolResultViewModel, new Codex.View.SymbolResultViewModel(symbol), projectCounter);
            }).toList(Codex.View.SymbolResultViewModel), $t), projectCounter), this.Counter);
        }
    });

    Bridge.define("Codex.View.RightPaneViewModel", {
        inherits: [Codex.View.PaneViewModelBase],
        props: {
            SourceFileDetails: null,
            Overview: null,
            OverviewVisibility: {
                get: function () {
                    return Codex.View.ViewUtilities.BoolVisibility(this.Overview.Value != null);
                }
            },
            ErrorVisibility: {
                get: function () {
                    return !System.String.isNullOrEmpty(this.Error) ? System.Windows.Visibility.Visible : System.Windows.Visibility.Collapsed;
                }
            },
            Error: null,
            EditorVisibility: {
                get: function () {
                    return this.SourceFile != null ? System.Windows.Visibility.Visible : System.Windows.Visibility.Hidden;
                }
            },
            SourceFile: null,
            TargetSpan: null
        },
        ctors: {
            init: function () {
                this.TargetSpan = new (Codex.View.BindableValue$1(Codex.ILineSpan))();
            },
            ctor: function () {
                this.$initialize();
                Codex.View.PaneViewModelBase.ctor.call(this);
            },
            $ctor3: function (sourceFileResponse) {
                this.$initialize();
                Codex.View.PaneViewModelBase.ctor.call(this);
                this.Error = sourceFileResponse.Error;
                this.SourceFile = sourceFileResponse.Result;
            },
            $ctor2: function (response) {
                this.$initialize();
                Codex.View.PaneViewModelBase.ctor.call(this);
                this.Error = response.Error;
            },
            $ctor1: function (sourceFile) {
                this.$initialize();
                Codex.View.PaneViewModelBase.ctor.call(this);
                this.SourceFile = sourceFile;
            }
        },
        methods: {
            Initialize: function () {
                this.SourceFileDetails = new (Codex.View.Lazy$1(Codex.View.SourceFileDetailsViewModel))(Bridge.fn.bind(this, $asm.$.Codex.View.RightPaneViewModel.f1));

                this.Overview = new (Codex.View.Lazy$1(Codex.View.OverviewViewModel))(Bridge.fn.bind(this, $asm.$.Codex.View.RightPaneViewModel.f2));
            }
        }
    });

    Bridge.ns("Codex.View.RightPaneViewModel", $asm.$);

    Bridge.apply($asm.$.Codex.View.RightPaneViewModel, {
        f1: function () {
            if (this.SourceFile == null) {
                return null;
            }

            return new Codex.View.SourceFileDetailsViewModel(this.SourceFile);
        },
        f2: function () {
            if (this.SourceFile == null && this.Error == null) {
                return new Codex.View.OverviewViewModel();
            }

            return null;
        }
    });

    Bridge.define("Codex.View.SymbolResultViewModel", {
        inherits: [Codex.View.ProjectItemResultViewModel],
        props: {
            Symbol: null,
            ShortName: null,
            DisplayName: null,
            SymbolKind: null,
            ProjectId: null,
            ImageMoniker: null,
            SortOrder: 0,
            IdentifierLength: {
                get: function () {
                    return this.ShortName.length;
                }
            }
        },
        ctors: {
            ctor: function (symbol) {
                var $t;
                this.$initialize();
                Codex.View.ProjectItemResultViewModel.ctor.call(this);
                this.Symbol = symbol;
                this.ShortName = symbol.Codex$IDefinitionSymbol$ShortName;
                this.DisplayName = symbol.Codex$IDefinitionSymbol$DisplayName;
                this.ProjectId = symbol.Codex$ICodeSymbol$ProjectId;
                this.SymbolKind = ($t = symbol.Codex$ICodeSymbol$Kind) != null ? System.CompatibilityExtensions.ToLowerInvariant($t) : null;
            }
        },
        methods: {
            Render: function (view, parentElement) {
                var $t;
                parentElement.appendChild(Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLAnchorElement, Codex.View.ViewUtilities.WithOnClick(Bridge.global.HTMLAnchorElement, document.createElement("a"), Bridge.fn.bind(this, function () {
                    Codex.View.Commands.GoToDefinition.RaiseExecuted(view, this.Symbol);
                })), Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLDivElement, Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLDivElement, Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLDivElement, Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLDivElement, ($t = document.createElement("div"), $t.className = "resultItem", $t), ($t = new Image(), $t.height = 16, $t.width = 16, $t.src = Codex.View.ViewUtilities.GetIconPath(Codex.View.ViewUtilities.GetGlyph(this.Symbol)), $t)), ($t = document.createElement("div"), $t.className = "resultKind", $t.textContent = this.Symbol.Codex$ICodeSymbol$Kind.toLowerCase(), $t)), ($t = document.createElement("div"), $t.className = "resultName", $t.textContent = this.Symbol.Codex$IDefinitionSymbol$ShortName, $t)), ($t = document.createElement("div"), $t.className = "resultDescription", $t.textContent = this.Symbol.Codex$IDefinitionSymbol$DisplayName, $t))));
            }
        }
    });

    Bridge.define("Codex.View.TextSpanSearchResultViewModel", {
        inherits: [Codex.View.FileItemResultViewModel],
        fields: {
            TextResult: null,
            ReferenceResult: null
        },
        props: {
            Command: null,
            SearchResult: null,
            LineNumber: 0,
            PrefixText: null,
            ContentText: null,
            SuffixText: null
        },
        ctors: {
            $ctor1: function (result) {
                this.$initialize();
                Codex.View.FileItemResultViewModel.ctor.call(this);
                this.Command = Codex.View.Commands.GoToSpan;
                this.TextResult = result;
                this.SearchResult = result;
                var referringSpan = result.Codex$Sdk$Search$ITextLineSpanResult$TextSpan;
                this.LineNumber = referringSpan.Codex$ILineSpan$LineNumber;
                var lineSpanText = referringSpan.Codex$ITextLineSpan$LineSpanText;
                if (lineSpanText != null) {
                    this.PrefixText = lineSpanText.substr(0, referringSpan.Codex$ILineSpan$LineSpanStart);
                    this.ContentText = lineSpanText.substr(referringSpan.Codex$ILineSpan$LineSpanStart, referringSpan.Codex$ISpan$Length);
                    this.SuffixText = lineSpanText.substr(((referringSpan.Codex$ILineSpan$LineSpanStart + referringSpan.Codex$ISpan$Length) | 0));
                }
            },
            ctor: function (result) {
                this.$initialize();
                Codex.View.FileItemResultViewModel.ctor.call(this);
                this.Command = Codex.View.Commands.GoToReference;
                this.ReferenceResult = result;
                this.SearchResult = result;
                var referringSpan = result.Codex$Sdk$Search$IReferenceSearchResult$ReferenceSpan;
                this.LineNumber = referringSpan.Codex$ILineSpan$LineNumber;
                var lineSpanText = referringSpan.Codex$ITextLineSpan$LineSpanText;
                if (lineSpanText != null) {
                    this.PrefixText = lineSpanText.substr(0, referringSpan.Codex$ILineSpan$LineSpanStart);
                    this.ContentText = lineSpanText.substr(referringSpan.Codex$ILineSpan$LineSpanStart, referringSpan.Codex$ISpan$Length);
                    this.SuffixText = lineSpanText.substr(((referringSpan.Codex$ILineSpan$LineSpanStart + referringSpan.Codex$ISpan$Length) | 0));
                }
            }
        },
        methods: {
            Render: function (view, parentElement) {
                var $t;
                Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLElement, parentElement, Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLAnchorElement, Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLAnchorElement, Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLAnchorElement, Codex.View.ViewUtilities.WithChild(Bridge.global.HTMLAnchorElement, Codex.View.ViewUtilities.WithOnClick(Bridge.global.HTMLAnchorElement, ($t = document.createElement("a"), $t.className = "rL", $t), Bridge.fn.bind(this, function () {
                    this.RaiseExecuted(view);
                })), Codex.View.ViewUtilities.WithText(Bridge.global.HTMLElement, document.createElement("b"), this.LineNumber.toString())), document.createTextNode(this.PrefixText)), Codex.View.ViewUtilities.WithText(Bridge.global.HTMLElement, document.createElement("i"), this.ContentText)), document.createTextNode(this.SuffixText)));
            },
            RaiseExecuted: function (view) {
                if (this.TextResult != null) {
                    Codex.View.Commands.GoToSpan.RaiseExecuted(view, this.TextResult);
                } else {
                    Codex.View.Commands.GoToReference.RaiseExecuted(view, this.ReferenceResult);
                }
            }
        }
    });

    Bridge.define("Codex.IBoundSourceInfo", {
        inherits: [Codex.IProjectFileScopeEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.ISymbolSpan", {
        inherits: [Codex.ITextLineSpan],
        $kind: "interface"
    });

    /**
     * NOTE: Do not set {@link }
     *
     * @abstract
     * @public
     * @class Codex.IProjectFileLink
     * @implements  Codex.IProjectFileScopeEntity
     */
    Bridge.define("Codex.IProjectFileLink", {
        inherits: [Codex.IProjectFileScopeEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.IReferenceSearchModel", {
        inherits: [Codex.IProjectFileScopeEntity,Codex.ISearchEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.ISourceFileInfo", {
        inherits: [Codex.IRepoFileScopeEntity,Codex.ISourceControlFileInfo,Codex.IProjectFileScopeEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.ObjectModel.ProjectScopeEntity", {
        inherits: [Codex.ObjectModel.RepoScopeEntity,Codex.IProjectScopeEntity],
        fields: {
            m_ProjectId: null
        },
        props: {
            /**
             * The identifier of the project containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ProjectScopeEntity
             * @function ProjectId
             * @type string
             */
            ProjectId: {
                get: function () {
                    return this.m_ProjectId;
                },
                set: function (value) {
                    this.m_ProjectId = value;
                }
            }
        },
        alias: ["ProjectId", "Codex$IProjectScopeEntity$ProjectId"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.RepoScopeEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.RepoScopeEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.ProjectScopeEntity, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.RepoScopeEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_ProjectId = value.Codex$IProjectScopeEntity$ProjectId;
                Codex.ObjectModel.RepoScopeEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.RepoScopeEntity, Bridge.cast((value), Codex.IRepoScopeEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.ProjectFileScopeEntity", {
        inherits: [Codex.EntityBase,Codex.IProjectFileScopeEntity],
        fields: {
            m_ProjectRelativePath: null,
            m_RepoRelativePath: null,
            m_RepositoryName: null,
            m_ProjectId: null
        },
        props: {
            /**
             * The project relative path of the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ProjectFileScopeEntity
             * @function ProjectRelativePath
             * @type string
             */
            ProjectRelativePath: {
                get: function () {
                    return this.m_ProjectRelativePath;
                },
                set: function (value) {
                    this.m_ProjectRelativePath = value;
                }
            },
            /**
             * The repo relative path to the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ProjectFileScopeEntity
             * @function RepoRelativePath
             * @type string
             */
            RepoRelativePath: {
                get: function () {
                    return this.m_RepoRelativePath;
                },
                set: function (value) {
                    this.m_RepoRelativePath = value;
                }
            },
            /**
             * The name of the repository containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ProjectFileScopeEntity
             * @function RepositoryName
             * @type string
             */
            RepositoryName: {
                get: function () {
                    return this.m_RepositoryName;
                },
                set: function (value) {
                    this.m_RepositoryName = value;
                }
            },
            /**
             * The identifier of the project containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ProjectFileScopeEntity
             * @function ProjectId
             * @type string
             */
            ProjectId: {
                get: function () {
                    return this.m_ProjectId;
                },
                set: function (value) {
                    this.m_ProjectId = value;
                }
            }
        },
        alias: [
            "ProjectRelativePath", "Codex$IProjectFileScopeEntity$ProjectRelativePath",
            "RepoRelativePath", "Codex$IRepoFileScopeEntity$RepoRelativePath",
            "RepositoryName", "Codex$IRepoScopeEntity$RepositoryName",
            "ProjectId", "Codex$IProjectScopeEntity$ProjectId"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.ProjectFileScopeEntity, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom$2(Codex.ObjectModel.ProjectFileScopeEntity, value);
            },
            $ctor4: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom$3(Codex.ObjectModel.ProjectFileScopeEntity, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom$1(Codex.ObjectModel.ProjectFileScopeEntity, value);
            }
        },
        methods: {
            CopyFrom$3: function (TTarget, value) {
                this.m_RepositoryName = value.Codex$IRepoScopeEntity$RepositoryName;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$2: function (TTarget, value) {
                this.m_RepoRelativePath = value.Codex$IRepoFileScopeEntity$RepoRelativePath;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$1: function (TTarget, value) {
                this.m_ProjectId = value.Codex$IProjectScopeEntity$ProjectId;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom: function (TTarget, value) {
                this.m_ProjectRelativePath = value.Codex$IProjectFileScopeEntity$ProjectRelativePath;
                this.m_RepoRelativePath = Bridge.cast((value), Codex.IRepoFileScopeEntity).Codex$IRepoFileScopeEntity$RepoRelativePath;
                this.m_RepositoryName = Bridge.cast((value), Codex.IRepoScopeEntity).Codex$IRepoScopeEntity$RepositoryName;
                this.m_ProjectId = Bridge.cast((value), Codex.IProjectScopeEntity).Codex$IProjectScopeEntity$ProjectId;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.BoundSourceSearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.IBoundSourceSearchModel],
        fields: {
            m_TextUid: null,
            m_SourceInfo: null,
            m_BindingInfo: null,
            m_CompressedClassifications: null,
            m_CompressedReferences: null,
            m_SourceControlInfo: null
        },
        props: {
            /**
             * The unique identifier of the associated {@link }
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceSearchModel
             * @function TextUid
             * @type string
             */
            TextUid: {
                get: function () {
                    return this.m_TextUid;
                },
                set: function (value) {
                    this.m_TextUid = value;
                }
            },
            /**
             * Information about the source file
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.BoundSourceSearchModel
             * @function Codex$IBoundSourceSearchModel$SourceInfo
             * @type Codex.ISourceFileInfo
             */
            Codex$IBoundSourceSearchModel$SourceInfo: {
                get: function () {
                    return this.SourceInfo;
                }
            },
            /**
             * Information about the source file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceSearchModel
             * @function SourceInfo
             * @type Codex.ObjectModel.SourceFileInfo
             */
            SourceInfo: {
                get: function () {
                    return this.m_SourceInfo;
                },
                set: function (value) {
                    this.m_SourceInfo = value;
                }
            },
            /**
             * The binding info
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.BoundSourceSearchModel
             * @function Codex$IBoundSourceSearchModel$BindingInfo
             * @type Codex.IBoundSourceInfo
             */
            Codex$IBoundSourceSearchModel$BindingInfo: {
                get: function () {
                    return this.BindingInfo;
                }
            },
            /**
             * The binding info
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceSearchModel
             * @function BindingInfo
             * @type Codex.ObjectModel.BoundSourceInfo
             */
            BindingInfo: {
                get: function () {
                    return this.m_BindingInfo;
                },
                set: function (value) {
                    this.m_BindingInfo = value;
                }
            },
            /**
             * Compressed list of classification spans
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceSearchModel
             * @function CompressedClassifications
             * @type Codex.IClassificationList
             */
            CompressedClassifications: {
                get: function () {
                    return this.m_CompressedClassifications;
                },
                set: function (value) {
                    this.m_CompressedClassifications = value;
                }
            },
            /**
             * Compressed list of reference spans
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceSearchModel
             * @function CompressedReferences
             * @type Codex.IReferenceList
             */
            CompressedReferences: {
                get: function () {
                    return this.m_CompressedReferences;
                },
                set: function (value) {
                    this.m_CompressedReferences = value;
                }
            },
            /**
             * Information about the source file from source control provider (may be null)
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.BoundSourceSearchModel
             * @function Codex$ISourceSearchModelBase$SourceControlInfo
             * @type Codex.ISourceControlFileInfo
             */
            Codex$ISourceSearchModelBase$SourceControlInfo: {
                get: function () {
                    return this.SourceControlInfo;
                }
            },
            /**
             * Information about the source file from source control provider (may be null)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceSearchModel
             * @function SourceControlInfo
             * @type Codex.ObjectModel.SourceControlFileInfo
             */
            SourceControlInfo: {
                get: function () {
                    return this.m_SourceControlInfo;
                },
                set: function (value) {
                    this.m_SourceControlInfo = value;
                }
            }
        },
        alias: [
            "TextUid", "Codex$IBoundSourceSearchModel$TextUid",
            "CompressedClassifications", "Codex$IBoundSourceSearchModel$CompressedClassifications",
            "CompressedReferences", "Codex$IBoundSourceSearchModel$CompressedReferences"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.BoundSourceSearchModel, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.BoundSourceSearchModel, value);
            }
        },
        methods: {
            CopyFrom$2: function (TTarget, value) {
                this.m_SourceControlInfo = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.SourceControlFileInfo, Bridge.global.Codex.ObjectModel.SourceControlFileInfo, this.SourceControlInfo, $asm.$.Codex.ObjectModel.BoundSourceSearchModel.f1);
                ;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$1: function (TTarget, value) {
                this.m_TextUid = value.Codex$IBoundSourceSearchModel$TextUid;
                this.m_SourceInfo = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.SourceFileInfo, Bridge.global.Codex.ObjectModel.SourceFileInfo, this.SourceInfo, $asm.$.Codex.ObjectModel.BoundSourceSearchModel.f2);
                ;
                this.m_BindingInfo = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.BoundSourceInfo, Bridge.global.Codex.ObjectModel.BoundSourceInfo, this.BindingInfo, $asm.$.Codex.ObjectModel.BoundSourceSearchModel.f3);
                ;
                this.m_CompressedClassifications = value.Codex$IBoundSourceSearchModel$CompressedClassifications;
                this.m_CompressedReferences = value.Codex$IBoundSourceSearchModel$CompressedReferences;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                this.m_SourceControlInfo = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.SourceControlFileInfo, Bridge.global.Codex.ObjectModel.SourceControlFileInfo, this.SourceControlInfo, $asm.$.Codex.ObjectModel.BoundSourceSearchModel.f1);
                ;
                return Bridge.cast((this), TTarget);
            },
            OnDeserializedCore: function () {
                if (this.CompressedClassifications != null) {
                    this.BindingInfo.Classifications = this.CompressedClassifications.Codex$IClassificationList$ToList();
                }

                if (this.CompressedReferences != null) {
                    this.BindingInfo.References = this.CompressedReferences.Codex$IReferenceList$ToList();
                }

                Codex.ObjectModel.SearchEntity.prototype.OnDeserializedCore.call(this);
            },
            OnSerializingCore: function () {
                Codex.ObjectModel.SearchEntity.prototype.OnSerializingCore.call(this);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.BoundSourceSearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.BoundSourceSearchModel, {
        f1: function (v) {
            return new Codex.ObjectModel.SourceControlFileInfo.ctor().CopyFrom(Codex.ObjectModel.SourceControlFileInfo, v);
        },
        f2: function (v) {
            return new Codex.ObjectModel.SourceFileInfo.ctor().CopyFrom$5(Codex.ObjectModel.SourceFileInfo, v);
        },
        f3: function (v) {
            return new Codex.ObjectModel.BoundSourceInfo.ctor().CopyFrom$4(Codex.ObjectModel.BoundSourceInfo, v);
        }
    });

    /**
     * Defines a classified span of text
     *
     * @public
     * @class Codex.ObjectModel.ClassificationSpan
     * @augments Codex.ObjectModel.Span
     * @implements  Codex.IClassificationSpan
     */
    Bridge.define("Codex.ObjectModel.ClassificationSpan", {
        inherits: [Codex.ObjectModel.Span,Codex.IClassificationSpan],
        fields: {
            m_DefaultClassificationColor: 0,
            m_Classification: null,
            m_LocalGroupId: 0
        },
        props: {
            /**
             * The default classification color for the span. This is used for
             contexts where a mapping from classification id to color is not
             available.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ClassificationSpan
             * @function DefaultClassificationColor
             * @type number
             */
            DefaultClassificationColor: {
                get: function () {
                    return this.m_DefaultClassificationColor;
                },
                set: function (value) {
                    this.m_DefaultClassificationColor = value;
                }
            },
            /**
             * The classification identifier for the span
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ClassificationSpan
             * @function Classification
             * @type string
             */
            Classification: {
                get: function () {
                    return this.m_Classification;
                },
                set: function (value) {
                    this.m_Classification = value;
                }
            },
            /**
             * The identifier to the local group of spans which refer to the same common symbol
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ClassificationSpan
             * @function LocalGroupId
             * @type number
             */
            LocalGroupId: {
                get: function () {
                    return this.m_LocalGroupId;
                },
                set: function (value) {
                    this.m_LocalGroupId = value;
                }
            }
        },
        alias: [
            "DefaultClassificationColor", "Codex$IClassificationSpan$DefaultClassificationColor",
            "Classification", "Codex$IClassificationSpan$Classification",
            "LocalGroupId", "Codex$IClassificationSpan$LocalGroupId"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.Span.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.Span.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.ClassificationSpan, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.Span.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_DefaultClassificationColor = value.Codex$IClassificationSpan$DefaultClassificationColor;
                this.m_Classification = value.Codex$IClassificationSpan$Classification;
                this.m_LocalGroupId = value.Codex$IClassificationSpan$LocalGroupId;
                Codex.ObjectModel.Span.prototype.CopyFrom.call(this, Codex.ObjectModel.Span, Bridge.cast((value), Codex.ISpan));
                return Bridge.cast((this), TTarget);
            },
            Initialize: function () {
                this.DefaultClassificationColor = -1;
                Codex.ObjectModel.Span.prototype.Initialize.call(this);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.CommitScopeEntity", {
        inherits: [Codex.ObjectModel.RepoScopeEntity,Codex.ICommitScopeEntity],
        fields: {
            m_CommitId: null
        },
        props: {
            /**
             * The unique identifier for this commit/changeset in version control
             (i.e. git commit hash or TFS changeset number)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CommitScopeEntity
             * @function CommitId
             * @type string
             */
            CommitId: {
                get: function () {
                    return this.m_CommitId;
                },
                set: function (value) {
                    this.m_CommitId = value;
                }
            }
        },
        alias: ["CommitId", "Codex$ICommitScopeEntity$CommitId"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.RepoScopeEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.RepoScopeEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.CommitScopeEntity, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.RepoScopeEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_CommitId = value.Codex$ICommitScopeEntity$CommitId;
                Codex.ObjectModel.RepoScopeEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.RepoScopeEntity, Bridge.cast((value), Codex.IRepoScopeEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    /**
     * Represents a changed file in a commit
     *
     * @public
     * @class Codex.ObjectModel.CommitChangedFile
     * @augments Codex.ObjectModel.CommitFileLink
     * @implements  Codex.ICommitChangedFile
     */
    Bridge.define("Codex.ObjectModel.CommitChangedFile", {
        inherits: [Codex.ObjectModel.CommitFileLink,Codex.ICommitChangedFile],
        fields: {
            m_ChangeKind: 0,
            m_OriginalFilePath: null
        },
        props: {
            /**
             * The type of change applied to the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CommitChangedFile
             * @function ChangeKind
             * @type Codex.FileChangeKind
             */
            ChangeKind: {
                get: function () {
                    return this.m_ChangeKind;
                },
                set: function (value) {
                    this.m_ChangeKind = value;
                }
            },
            /**
             * For a renamed file, the path to the file prior to the rename
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CommitChangedFile
             * @function OriginalFilePath
             * @type string
             */
            OriginalFilePath: {
                get: function () {
                    return this.m_OriginalFilePath;
                },
                set: function (value) {
                    this.m_OriginalFilePath = value;
                }
            }
        },
        alias: [
            "ChangeKind", "Codex$ICommitChangedFile$ChangeKind",
            "OriginalFilePath", "Codex$ICommitChangedFile$OriginalFilePath"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.CommitFileLink.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.CommitFileLink.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.CommitChangedFile, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.CommitFileLink.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_ChangeKind = value.Codex$ICommitChangedFile$ChangeKind;
                this.m_OriginalFilePath = value.Codex$ICommitChangedFile$OriginalFilePath;
                Codex.ObjectModel.CommitFileLink.prototype.CopyFrom.call(this, Codex.ObjectModel.CommitFileLink, Bridge.cast((value), Codex.ICommitFileLink));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.RepoFileScopeEntity", {
        inherits: [Codex.ObjectModel.RepoScopeEntity,Codex.IRepoFileScopeEntity],
        fields: {
            m_RepoRelativePath: null
        },
        props: {
            /**
             * The repo relative path to the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.RepoFileScopeEntity
             * @function RepoRelativePath
             * @type string
             */
            RepoRelativePath: {
                get: function () {
                    return this.m_RepoRelativePath;
                },
                set: function (value) {
                    this.m_RepoRelativePath = value;
                }
            }
        },
        alias: ["RepoRelativePath", "Codex$IRepoFileScopeEntity$RepoRelativePath"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.RepoScopeEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.RepoScopeEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.RepoFileScopeEntity, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.RepoScopeEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_RepoRelativePath = value.Codex$IRepoFileScopeEntity$RepoRelativePath;
                Codex.ObjectModel.RepoScopeEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.RepoScopeEntity, Bridge.cast((value), Codex.IRepoScopeEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    /**
     * The set of files present in the repository at a given commit.
     *
     * @public
     * @class Codex.ObjectModel.CommitFilesSearchModel
     * @augments Codex.ObjectModel.SearchEntity
     * @implements  Codex.ICommitFilesSearchModel
     */
    Bridge.define("Codex.ObjectModel.CommitFilesSearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.ICommitFilesSearchModel],
        fields: {
            m_CommitFiles: null,
            m_CommitId: null,
            m_RepositoryName: null
        },
        props: {
            Codex$ICommitFilesSearchModel$CommitFiles: {
                get: function () {
                    return this.CommitFiles;
                }
            },
            CommitFiles: {
                get: function () {
                    return this.m_CommitFiles;
                },
                set: function (value) {
                    this.m_CommitFiles = value;
                }
            },
            /**
             * The unique identifier for this commit/changeset in version control
             (i.e. git commit hash or TFS changeset number)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CommitFilesSearchModel
             * @function CommitId
             * @type string
             */
            CommitId: {
                get: function () {
                    return this.m_CommitId;
                },
                set: function (value) {
                    this.m_CommitId = value;
                }
            },
            /**
             * The name of the repository containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CommitFilesSearchModel
             * @function RepositoryName
             * @type string
             */
            RepositoryName: {
                get: function () {
                    return this.m_RepositoryName;
                },
                set: function (value) {
                    this.m_RepositoryName = value;
                }
            }
        },
        alias: [
            "CommitId", "Codex$ICommitScopeEntity$CommitId",
            "RepositoryName", "Codex$IRepoScopeEntity$RepositoryName"
        ],
        ctors: {
            init: function () {
                this.m_CommitFiles = new (System.Collections.Generic.List$1(Codex.ObjectModel.CommitFileLink)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.CommitFilesSearchModel, value);
            },
            $ctor4: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.CommitFilesSearchModel, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$3(Codex.ObjectModel.CommitFilesSearchModel, value);
            }
        },
        methods: {
            CopyFrom$3: function (TTarget, value) {
                this.m_RepositoryName = value.Codex$IRepoScopeEntity$RepositoryName;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$2: function (TTarget, value) {
                this.m_CommitId = value.Codex$ICommitScopeEntity$CommitId;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$1: function (TTarget, value) {
                this.m_CommitFiles = new (System.Collections.Generic.List$1(Codex.ObjectModel.CommitFileLink)).$ctor1(System.Linq.Enumerable.from(value.Codex$ICommitFilesSearchModel$CommitFiles).select($asm.$.Codex.ObjectModel.CommitFilesSearchModel.f2));
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                this.m_CommitId = Bridge.cast((value), Codex.ICommitScopeEntity).Codex$ICommitScopeEntity$CommitId;
                this.m_RepositoryName = Bridge.cast((value), Codex.IRepoScopeEntity).Codex$IRepoScopeEntity$RepositoryName;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.CommitFilesSearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.CommitFilesSearchModel, {
        f1: function (_v) {
            return new Codex.ObjectModel.CommitFileLink.ctor().CopyFrom(Codex.ObjectModel.CommitFileLink, _v);
        },
        f2: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ICommitFileLink, Bridge.global.Codex.ObjectModel.CommitFileLink, v, $asm.$.Codex.ObjectModel.CommitFilesSearchModel.f1);
        }
    });

    Bridge.define("Codex.ObjectModel.CommitSearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.ICommitSearchModel],
        fields: {
            m_Commit: null
        },
        props: {
            Codex$ICommitSearchModel$Commit: {
                get: function () {
                    return this.Commit;
                }
            },
            Commit: {
                get: function () {
                    return this.m_Commit;
                },
                set: function (value) {
                    this.m_Commit = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.CommitSearchModel, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_Commit = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.Commit, Bridge.global.Codex.ObjectModel.Commit, this.Commit, $asm.$.Codex.ObjectModel.CommitSearchModel.f1);
                ;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.CommitSearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.CommitSearchModel, {
        f1: function (v) {
            return new Codex.ObjectModel.Commit.ctor().CopyFrom$2(Codex.ObjectModel.Commit, v);
        }
    });

    Bridge.define("Codex.ObjectModel.DefinitionSearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.IDefinitionSearchModel],
        fields: {
            m_Definition: null,
            m_Keywords: null
        },
        props: {
            Codex$IDefinitionSearchModel$Definition: {
                get: function () {
                    return this.Definition;
                }
            },
            Definition: {
                get: function () {
                    return this.m_Definition;
                },
                set: function (value) {
                    this.m_Definition = value;
                }
            },
            /**
             * Keywords are additional terms which can be used to find a given symbol.
             NOTE: Keywords can only be used to select from symbols which have
             a primary term match
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.DefinitionSearchModel
             * @function Codex$IDefinitionSearchModel$Keywords
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IDefinitionSearchModel$Keywords: {
                get: function () {
                    return this.Keywords;
                }
            },
            /**
             * Keywords are additional terms which can be used to find a given symbol.
             NOTE: Keywords can only be used to select from symbols which have
             a primary term match
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSearchModel
             * @function Keywords
             * @type System.Collections.Generic.List$1
             */
            Keywords: {
                get: function () {
                    return this.m_Keywords;
                },
                set: function (value) {
                    this.m_Keywords = value;
                }
            }
        },
        ctors: {
            init: function () {
                this.m_Keywords = new (System.Collections.Generic.List$1(System.String)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.DefinitionSearchModel, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_Definition = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.DefinitionSymbol, Bridge.global.Codex.ObjectModel.DefinitionSymbol, this.Definition, $asm.$.Codex.ObjectModel.DefinitionSearchModel.f1);
                ;
                this.m_Keywords = new (System.Collections.Generic.List$1(System.String)).$ctor1(value.Codex$IDefinitionSearchModel$Keywords);
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.DefinitionSearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.DefinitionSearchModel, {
        f1: function (v) {
            return new Codex.ObjectModel.DefinitionSymbol.ctor().CopyFrom$2(Codex.ObjectModel.DefinitionSymbol, v);
        }
    });

    Bridge.define("Codex.ObjectModel.DefinitionSpan", {
        inherits: [Codex.ObjectModel.Span,Codex.IDefinitionSpan],
        fields: {
            m_Definition: null,
            m_Parameters: null
        },
        props: {
            /**
             * The definition symbol referred to by the span
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.DefinitionSpan
             * @function Codex$IDefinitionSpan$Definition
             * @type Codex.IDefinitionSymbol
             */
            Codex$IDefinitionSpan$Definition: {
                get: function () {
                    return this.Definition;
                }
            },
            /**
             * The definition symbol referred to by the span
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSpan
             * @function Definition
             * @type Codex.ObjectModel.DefinitionSymbol
             */
            Definition: {
                get: function () {
                    return this.m_Definition;
                },
                set: function (value) {
                    this.m_Definition = value;
                }
            },
            /**
             * Gets the definitions for parameters
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.DefinitionSpan
             * @function Codex$IDefinitionSpan$Parameters
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IDefinitionSpan$Parameters: {
                get: function () {
                    return this.Parameters;
                }
            },
            /**
             * Gets the definitions for parameters
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSpan
             * @function Parameters
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Parameters: {
                get: function () {
                    return this.m_Parameters;
                },
                set: function (value) {
                    this.m_Parameters = value;
                }
            }
        },
        ctors: {
            init: function () {
                this.m_Parameters = Codex.Utilities.CollectionUtilities.Empty$1(Codex.ObjectModel.ParameterDefinitionSpan).Array;
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.Span.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.Span.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.DefinitionSpan, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.Span.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_Definition = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.DefinitionSymbol, Bridge.global.Codex.ObjectModel.DefinitionSymbol, this.Definition, $asm.$.Codex.ObjectModel.DefinitionSpan.f1);
                ;
                this.m_Parameters = new (System.Collections.Generic.List$1(Codex.ObjectModel.ParameterDefinitionSpan)).$ctor1(System.Linq.Enumerable.from(value.Codex$IDefinitionSpan$Parameters).select($asm.$.Codex.ObjectModel.DefinitionSpan.f3));
                Codex.ObjectModel.Span.prototype.CopyFrom.call(this, Codex.ObjectModel.Span, Bridge.cast((value), Codex.ISpan));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.DefinitionSpan", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.DefinitionSpan, {
        f1: function (v) {
            return new Codex.ObjectModel.DefinitionSymbol.ctor().CopyFrom$2(Codex.ObjectModel.DefinitionSymbol, v);
        },
        f2: function (_v) {
            return new Codex.ObjectModel.ParameterDefinitionSpan.ctor().CopyFrom$2(Codex.ObjectModel.ParameterDefinitionSpan, _v);
        },
        f3: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IParameterDefinitionSpan, Bridge.global.Codex.ObjectModel.ParameterDefinitionSpan, v, $asm.$.Codex.ObjectModel.DefinitionSpan.f2);
        }
    });

    Bridge.define("Codex.ObjectModel.ReferenceSymbol", {
        inherits: [Codex.ObjectModel.Symbol,Codex.IReferenceSymbol],
        fields: {
            m_ReferenceKind: null,
            m_IsImplicitlyDeclared: false,
            m_ExcludeFromDefaultSearch: false,
            m_ExcludeFromSearch: false
        },
        props: {
            /**
             * The kind of reference. This is used to group references.
             (i.e. for C#(aka .NET) MethodOverride, InterfaceMemberImplementation, InterfaceImplementation, etc.)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSymbol
             * @function ReferenceKind
             * @type string
             */
            ReferenceKind: {
                get: function () {
                    return this.m_ReferenceKind;
                },
                set: function (value) {
                    this.m_ReferenceKind = value;
                }
            },
            /**
             * Indicates the corresponding definition is implicitly declared and therefore this should not be
             used for find all references search
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSymbol
             * @function IsImplicitlyDeclared
             * @type boolean
             */
            IsImplicitlyDeclared: {
                get: function () {
                    return this.m_IsImplicitlyDeclared;
                },
                set: function (value) {
                    this.m_IsImplicitlyDeclared = value;
                }
            },
            /**
             * Indicates if the symbol should be excluded from the definition/find all references search (by default).
             Symbol will only be included if kind is explicitly specified
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSymbol
             * @function ExcludeFromDefaultSearch
             * @type boolean
             */
            ExcludeFromDefaultSearch: {
                get: function () {
                    return this.m_ExcludeFromDefaultSearch;
                },
                set: function (value) {
                    this.m_ExcludeFromDefaultSearch = value;
                }
            },
            /**
             * Indicates if the symbol should NEVER be included in the definition/find all references search.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSymbol
             * @function ExcludeFromSearch
             * @type boolean
             */
            ExcludeFromSearch: {
                get: function () {
                    return this.m_ExcludeFromSearch;
                },
                set: function (value) {
                    this.m_ExcludeFromSearch = value;
                }
            }
        },
        alias: [
            "ReferenceKind", "Codex$IReferenceSymbol$ReferenceKind",
            "IsImplicitlyDeclared", "Codex$IReferenceSymbol$IsImplicitlyDeclared",
            "ExcludeFromDefaultSearch", "Codex$IReferenceSymbol$ExcludeFromDefaultSearch",
            "ExcludeFromSearch", "Codex$IReferenceSymbol$ExcludeFromSearch"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.Symbol.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.Symbol.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.ReferenceSymbol, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.Symbol.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_ReferenceKind = value.Codex$IReferenceSymbol$ReferenceKind;
                this.m_IsImplicitlyDeclared = value.Codex$IReferenceSymbol$IsImplicitlyDeclared;
                this.m_ExcludeFromDefaultSearch = value.Codex$IReferenceSymbol$ExcludeFromDefaultSearch;
                this.m_ExcludeFromSearch = value.Codex$IReferenceSymbol$ExcludeFromSearch;
                Codex.ObjectModel.Symbol.prototype.CopyFrom.call(this, Codex.ObjectModel.Symbol, Bridge.cast((value), Codex.ICodeSymbol));
                return Bridge.cast((this), TTarget);
            },
            toString: function () {
                return (this.ReferenceKind || "") + " " + (Codex.ObjectModel.Symbol.prototype.toString.call(this) || "");
            }
        }
    });

    Bridge.define("Codex.ObjectModel.LanguageSearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.ILanguageSearchModel],
        fields: {
            m_Language: null
        },
        props: {
            Codex$ILanguageSearchModel$Language: {
                get: function () {
                    return this.Language;
                }
            },
            Language: {
                get: function () {
                    return this.m_Language;
                },
                set: function (value) {
                    this.m_Language = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.LanguageSearchModel, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_Language = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.LanguageInfo, Bridge.global.Codex.ObjectModel.LanguageInfo, this.Language, $asm.$.Codex.ObjectModel.LanguageSearchModel.f1);
                ;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.LanguageSearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.LanguageSearchModel, {
        f1: function (v) {
            return new Codex.ObjectModel.LanguageInfo.ctor().CopyFrom(Codex.ObjectModel.LanguageInfo, v);
        }
    });

    Bridge.define("Codex.ObjectModel.LineSpan", {
        inherits: [Codex.ObjectModel.Span,Codex.ILineSpan],
        fields: {
            m_LineIndex: null,
            m_LineNumber: null,
            m_LineSpanStart: 0,
            m_LineOffset: 0
        },
        props: {
            /**
             * The 0-based index of the line containing the span
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.LineSpan
             * @function LineIndex
             * @type number
             */
            LineIndex: {
                get: function () {
                    return this.CoerceLineIndex(this.m_LineIndex);
                },
                set: function (value) {
                    this.m_LineIndex = value;
                }
            },
            /**
             * The 1-based line number of the line containing the span
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.LineSpan
             * @function LineNumber
             * @type number
             */
            LineNumber: {
                get: function () {
                    return this.CoerceLineNumber(this.m_LineNumber);
                },
                set: function (value) {
                    this.m_LineNumber = value;
                }
            },
            /**
             * The character position where the span starts in the line text
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.LineSpan
             * @function LineSpanStart
             * @type number
             */
            LineSpanStart: {
                get: function () {
                    return this.m_LineSpanStart;
                },
                set: function (value) {
                    this.m_LineSpanStart = value;
                }
            },
            /**
             * If positive, the offset of the line span from the beginning of the line
             If negative, the offset of the linespan from the end of the next line
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.LineSpan
             * @function LineOffset
             * @type number
             */
            LineOffset: {
                get: function () {
                    return this.m_LineOffset;
                },
                set: function (value) {
                    this.m_LineOffset = value;
                }
            }
        },
        alias: [
            "LineIndex", "Codex$ILineSpan$LineIndex",
            "LineNumber", "Codex$ILineSpan$LineNumber",
            "LineSpanStart", "Codex$ILineSpan$LineSpanStart",
            "LineOffset", "Codex$ILineSpan$LineOffset"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.Span.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.Span.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.LineSpan, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.Span.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_LineIndex = value.Codex$ILineSpan$LineIndex;
                this.m_LineNumber = value.Codex$ILineSpan$LineNumber;
                this.m_LineSpanStart = value.Codex$ILineSpan$LineSpanStart;
                this.m_LineOffset = value.Codex$ILineSpan$LineOffset;
                Codex.ObjectModel.Span.prototype.CopyFrom.call(this, Codex.ObjectModel.Span, Bridge.cast((value), Codex.ISpan));
                return Bridge.cast((this), TTarget);
            },
            CoerceLineIndex: function (value) {
                if (value == null || (System.Nullable.lte(value, 0) && this.m_LineNumber != null)) {
                    if (this.m_LineNumber != null) {
                        // Line number is 1-based whereas this value is 0-based
                        return ((System.Nullable.getValue(this.m_LineNumber) - 1) | 0);
                    } else {
                        return 0;
                    }
                }

                return System.Nullable.getValue(value);
            },
            CoerceLineNumber: function (value) {
                if (value == null || (System.Nullable.eq(value, 1) && this.m_LineIndex != null)) {
                    if (this.m_LineIndex != null) {
                        // Line index is 0-based whereas this value is 1-based
                        return ((System.Nullable.getValue(this.m_LineIndex) + 1) | 0);
                    } else {
                        return 1;
                    }
                }

                return System.Nullable.getValue(value);
            },
            OnDeserializedCore: function () {
                Codex.ObjectModel.Span.prototype.OnDeserializedCore.call(this);
            },
            OnSerializingCore: function () {
                Codex.ObjectModel.Span.prototype.OnSerializingCore.call(this);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.ProjectReferenceSearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.IProjectReferenceSearchModel],
        fields: {
            m_ProjectReference: null,
            m_ProjectId: null,
            m_RepositoryName: null
        },
        props: {
            Codex$IProjectReferenceSearchModel$ProjectReference: {
                get: function () {
                    return this.ProjectReference;
                }
            },
            ProjectReference: {
                get: function () {
                    return this.m_ProjectReference;
                },
                set: function (value) {
                    this.m_ProjectReference = value;
                }
            },
            /**
             * The identifier of the project containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ProjectReferenceSearchModel
             * @function ProjectId
             * @type string
             */
            ProjectId: {
                get: function () {
                    return this.m_ProjectId;
                },
                set: function (value) {
                    this.m_ProjectId = value;
                }
            },
            /**
             * The name of the repository containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ProjectReferenceSearchModel
             * @function RepositoryName
             * @type string
             */
            RepositoryName: {
                get: function () {
                    return this.m_RepositoryName;
                },
                set: function (value) {
                    this.m_RepositoryName = value;
                }
            }
        },
        alias: [
            "ProjectId", "Codex$IProjectScopeEntity$ProjectId",
            "RepositoryName", "Codex$IRepoScopeEntity$RepositoryName"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.ProjectReferenceSearchModel, value);
            },
            $ctor4: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.ProjectReferenceSearchModel, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$3(Codex.ObjectModel.ProjectReferenceSearchModel, value);
            }
        },
        methods: {
            CopyFrom$3: function (TTarget, value) {
                this.m_RepositoryName = value.Codex$IRepoScopeEntity$RepositoryName;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$2: function (TTarget, value) {
                this.m_ProjectId = value.Codex$IProjectScopeEntity$ProjectId;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$1: function (TTarget, value) {
                this.m_ProjectReference = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.ReferencedProject, Bridge.global.Codex.ObjectModel.ReferencedProject, this.ProjectReference, $asm.$.Codex.ObjectModel.ProjectReferenceSearchModel.f1);
                ;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                this.m_ProjectId = Bridge.cast((value), Codex.IProjectScopeEntity).Codex$IProjectScopeEntity$ProjectId;
                this.m_RepositoryName = Bridge.cast((value), Codex.IRepoScopeEntity).Codex$IRepoScopeEntity$RepositoryName;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.ProjectReferenceSearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.ProjectReferenceSearchModel, {
        f1: function (v) {
            return new Codex.ObjectModel.ReferencedProject.ctor().CopyFrom(Codex.ObjectModel.ReferencedProject, v);
        }
    });

    Bridge.define("Codex.ObjectModel.ProjectSearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.IProjectSearchModel],
        fields: {
            m_Project: null
        },
        props: {
            Codex$IProjectSearchModel$Project: {
                get: function () {
                    return this.Project;
                }
            },
            Project: {
                get: function () {
                    return this.m_Project;
                },
                set: function (value) {
                    this.m_Project = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.ProjectSearchModel, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_Project = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.AnalyzedProject, Bridge.global.Codex.ObjectModel.AnalyzedProject, this.Project, $asm.$.Codex.ObjectModel.ProjectSearchModel.f1);
                ;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.ProjectSearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.ProjectSearchModel, {
        f1: function (v) {
            return new Codex.ObjectModel.AnalyzedProject.ctor().CopyFrom$2(Codex.ObjectModel.AnalyzedProject, v);
        }
    });

    Bridge.define("Codex.ObjectModel.PropertySearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.IPropertySearchModel],
        fields: {
            m_Key: null,
            m_Value: null,
            m_OwnerId: null
        },
        props: {
            /**
             * The key of the property
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.PropertySearchModel
             * @function Key
             * @type string
             */
            Key: {
                get: function () {
                    return this.m_Key;
                },
                set: function (value) {
                    this.m_Key = value;
                }
            },
            /**
             * The value of the property
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.PropertySearchModel
             * @function Value
             * @type string
             */
            Value: {
                get: function () {
                    return this.m_Value;
                },
                set: function (value) {
                    this.m_Value = value;
                }
            },
            /**
             * The identifier of the object owning this property
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.PropertySearchModel
             * @function OwnerId
             * @type string
             */
            OwnerId: {
                get: function () {
                    return this.m_OwnerId;
                },
                set: function (value) {
                    this.m_OwnerId = value;
                }
            }
        },
        alias: [
            "Key", "Codex$IPropertySearchModel$Key",
            "Value", "Codex$IPropertySearchModel$Value",
            "OwnerId", "Codex$IPropertySearchModel$OwnerId"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.PropertySearchModel, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_Key = value.Codex$IPropertySearchModel$Key;
                this.m_Value = value.Codex$IPropertySearchModel$Value;
                this.m_OwnerId = value.Codex$IPropertySearchModel$OwnerId;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.Sdk.Search.IReferenceSearchResult", {
        inherits: [Codex.IProjectFileScopeEntity],
        $kind: "interface"
    });

    /**
     * In order to compute a stable integral id for each entity. This type is used to store into a 'follow' index which
     stores entities of this type using the {@link } of the corresponding search entity. Then the
     sequence number assigned by ElasticSearch is used as the shard stable id ({@link })
     for the entity. This approach is used in order to ensure that the stable id appears as an explicit field in the document rather
     which allows configuration of how the field is indexed (not true for sequence number field without code changes to ES).
     *
     * @public
     * @class Codex.ObjectModel.RegisteredEntity
     * @augments Codex.ObjectModel.SearchEntity
     * @implements  Codex.IRegisteredEntity
     */
    Bridge.define("Codex.ObjectModel.RegisteredEntity", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.IRegisteredEntity],
        fields: {
            m_DateAdded: null
        },
        props: {
            /**
             * The date in which the entity was registered (i.e. added to the store)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.RegisteredEntity
             * @function DateAdded
             * @type System.DateTime
             */
            DateAdded: {
                get: function () {
                    return this.m_DateAdded;
                },
                set: function (value) {
                    this.m_DateAdded = value;
                }
            }
        },
        alias: ["DateAdded", "Codex$IRegisteredEntity$DateAdded"],
        ctors: {
            init: function () {
                this.m_DateAdded = System.DateTime.getDefaultValue();
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.RegisteredEntity, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_DateAdded = value.Codex$IRegisteredEntity$DateAdded;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.RepositorySearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.IRepositorySearchModel],
        fields: {
            m_Repository: null
        },
        props: {
            Codex$IRepositorySearchModel$Repository: {
                get: function () {
                    return this.Repository;
                }
            },
            Repository: {
                get: function () {
                    return this.m_Repository;
                },
                set: function (value) {
                    this.m_Repository = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.RepositorySearchModel, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_Repository = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.Repository, Bridge.global.Codex.ObjectModel.Repository, this.Repository, $asm.$.Codex.ObjectModel.RepositorySearchModel.f1);
                ;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.RepositorySearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.RepositorySearchModel, {
        f1: function (v) {
            return new Codex.ObjectModel.Repository.ctor().CopyFrom(Codex.ObjectModel.Repository, v);
        }
    });

    Bridge.define("Codex.ObjectModel.SourceSearchModelBase", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.ISourceSearchModelBase],
        fields: {
            m_SourceControlInfo: null
        },
        props: {
            /**
             * Information about the source file from source control provider (may be null)
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.SourceSearchModelBase
             * @function Codex$ISourceSearchModelBase$SourceControlInfo
             * @type Codex.ISourceControlFileInfo
             */
            Codex$ISourceSearchModelBase$SourceControlInfo: {
                get: function () {
                    return this.SourceControlInfo;
                }
            },
            /**
             * Information about the source file from source control provider (may be null)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceSearchModelBase
             * @function SourceControlInfo
             * @type Codex.ObjectModel.SourceControlFileInfo
             */
            SourceControlInfo: {
                get: function () {
                    return this.m_SourceControlInfo;
                },
                set: function (value) {
                    this.m_SourceControlInfo = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.SourceSearchModelBase, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_SourceControlInfo = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.SourceControlFileInfo, Bridge.global.Codex.ObjectModel.SourceControlFileInfo, this.SourceControlInfo, $asm.$.Codex.ObjectModel.SourceSearchModelBase.f1);
                ;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.SourceSearchModelBase", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.SourceSearchModelBase, {
        f1: function (v) {
            return new Codex.ObjectModel.SourceControlFileInfo.ctor().CopyFrom(Codex.ObjectModel.SourceControlFileInfo, v);
        }
    });

    /**
     * Defines a stored filter which matches entities in a particular index shard in a stable manner
     *
     * @public
     * @class Codex.ObjectModel.StoredFilter
     * @augments Codex.ObjectModel.SearchEntity
     * @implements  Codex.IStoredFilter
     */
    Bridge.define("Codex.ObjectModel.StoredFilter", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.IStoredFilter],
        fields: {
            m_DateUpdated: null,
            m_IndexName: null,
            m_Shard: 0,
            m_StableIds: null,
            m_BaseUids: null,
            m_UnionFilters: null,
            m_Filter: null,
            m_FilterHash: null,
            m_FilterCount: 0
        },
        props: {
            /**
             * The time of the last update to the stored filter
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredFilter
             * @function DateUpdated
             * @type System.DateTime
             */
            DateUpdated: {
                get: function () {
                    return this.m_DateUpdated;
                },
                set: function (value) {
                    this.m_DateUpdated = value;
                }
            },
            /**
             * The name of the index to which the stored filter applies
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredFilter
             * @function IndexName
             * @type string
             */
            IndexName: {
                get: function () {
                    return this.m_IndexName;
                },
                set: function (value) {
                    this.m_IndexName = value;
                }
            },
            /**
             * The shard to which the stored filter applies
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredFilter
             * @function Shard
             * @type number
             */
            Shard: {
                get: function () {
                    return this.m_Shard;
                },
                set: function (value) {
                    this.m_Shard = value;
                }
            },
            /**
             * List of stable ids to include in the stored filter.
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.StoredFilter
             * @function Codex$IStoredFilter$StableIds
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IStoredFilter$StableIds: {
                get: function () {
                    return this.StableIds;
                }
            },
            /**
             * List of stable ids to include in the stored filter.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredFilter
             * @function StableIds
             * @type System.Collections.Generic.List$1
             */
            StableIds: {
                get: function () {
                    return this.m_StableIds;
                },
                set: function (value) {
                    this.m_StableIds = value;
                }
            },
            /**
             * List of uids to for stored filters which will be unioned with the given stored filter
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.StoredFilter
             * @function Codex$IStoredFilter$BaseUids
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IStoredFilter$BaseUids: {
                get: function () {
                    return this.BaseUids;
                }
            },
            /**
             * List of uids to for stored filters which will be unioned with the given stored filter
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredFilter
             * @function BaseUids
             * @type System.Collections.Generic.List$1
             */
            BaseUids: {
                get: function () {
                    return this.m_BaseUids;
                },
                set: function (value) {
                    this.m_BaseUids = value;
                }
            },
            /**
             * List of stored filters which will be unioned with the given stored filter
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.StoredFilter
             * @function Codex$IStoredFilter$UnionFilters
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IStoredFilter$UnionFilters: {
                get: function () {
                    return this.UnionFilters;
                }
            },
            /**
             * List of stored filters which will be unioned with the given stored filter
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredFilter
             * @function UnionFilters
             * @type System.Collections.Generic.List$1
             */
            UnionFilters: {
                get: function () {
                    return this.m_UnionFilters;
                },
                set: function (value) {
                    this.m_UnionFilters = value;
                }
            },
            /**
             * The stored filter bit set which matches the stored filter documents
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredFilter
             * @function Filter
             * @type Array.<number>
             */
            Filter: {
                get: function () {
                    return this.m_Filter;
                },
                set: function (value) {
                    this.m_Filter = value;
                }
            },
            /**
             * The hash of {@link }
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredFilter
             * @function FilterHash
             * @type string
             */
            FilterHash: {
                get: function () {
                    return this.m_FilterHash;
                },
                set: function (value) {
                    this.m_FilterHash = value;
                }
            },
            /**
             * The count of elements matched by {@link }
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.StoredFilter
             * @function FilterCount
             * @type number
             */
            FilterCount: {
                get: function () {
                    return this.m_FilterCount;
                },
                set: function (value) {
                    this.m_FilterCount = value;
                }
            }
        },
        alias: [
            "DateUpdated", "Codex$IStoredFilter$DateUpdated",
            "IndexName", "Codex$IStoredFilter$IndexName",
            "Shard", "Codex$IStoredFilter$Shard",
            "Filter", "Codex$IStoredFilter$Filter",
            "FilterHash", "Codex$IStoredFilter$FilterHash",
            "FilterCount", "Codex$IStoredFilter$FilterCount"
        ],
        ctors: {
            init: function () {
                this.m_DateUpdated = System.DateTime.getDefaultValue();
                this.m_StableIds = new (System.Collections.Generic.List$1(System.Int64)).ctor();
                this.m_BaseUids = new (System.Collections.Generic.List$1(System.String)).ctor();
                this.m_UnionFilters = new (System.Collections.Generic.List$1(System.Array.type(System.Byte))).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.StoredFilter, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_DateUpdated = value.Codex$IStoredFilter$DateUpdated;
                this.m_IndexName = value.Codex$IStoredFilter$IndexName;
                this.m_Shard = value.Codex$IStoredFilter$Shard;
                this.m_StableIds = new (System.Collections.Generic.List$1(System.Int64)).$ctor1(value.Codex$IStoredFilter$StableIds);
                this.m_BaseUids = new (System.Collections.Generic.List$1(System.String)).$ctor1(value.Codex$IStoredFilter$BaseUids);
                this.m_UnionFilters = new (System.Collections.Generic.List$1(System.Array.type(System.Byte))).$ctor1(value.Codex$IStoredFilter$UnionFilters);
                this.m_Filter = value.Codex$IStoredFilter$Filter;
                this.m_FilterHash = value.Codex$IStoredFilter$FilterHash;
                this.m_FilterCount = value.Codex$IStoredFilter$FilterCount;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.Sdk.Search.ITextLineSpanResult", {
        inherits: [Codex.IProjectFileScopeEntity],
        $kind: "interface"
    });

    Bridge.define("Codex.ObjectModel.TextSourceSearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.ITextSourceSearchModel],
        fields: {
            m_File: null,
            m_SourceControlInfo: null
        },
        props: {
            Codex$ITextSourceSearchModel$File: {
                get: function () {
                    return this.File;
                }
            },
            File: {
                get: function () {
                    return this.m_File;
                },
                set: function (value) {
                    this.m_File = value;
                }
            },
            /**
             * Information about the source file from source control provider (may be null)
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.TextSourceSearchModel
             * @function Codex$ISourceSearchModelBase$SourceControlInfo
             * @type Codex.ISourceControlFileInfo
             */
            Codex$ISourceSearchModelBase$SourceControlInfo: {
                get: function () {
                    return this.SourceControlInfo;
                }
            },
            /**
             * Information about the source file from source control provider (may be null)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.TextSourceSearchModel
             * @function SourceControlInfo
             * @type Codex.ObjectModel.SourceControlFileInfo
             */
            SourceControlInfo: {
                get: function () {
                    return this.m_SourceControlInfo;
                },
                set: function (value) {
                    this.m_SourceControlInfo = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.TextSourceSearchModel, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.TextSourceSearchModel, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_SourceControlInfo = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.SourceControlFileInfo, Bridge.global.Codex.ObjectModel.SourceControlFileInfo, this.SourceControlInfo, $asm.$.Codex.ObjectModel.TextSourceSearchModel.f1);
                ;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$2: function (TTarget, value) {
                this.m_File = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.SourceFile, Bridge.global.Codex.ObjectModel.SourceFile, this.File, $asm.$.Codex.ObjectModel.TextSourceSearchModel.f2);
                ;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                this.m_SourceControlInfo = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.SourceControlFileInfo, Bridge.global.Codex.ObjectModel.SourceControlFileInfo, this.SourceControlInfo, $asm.$.Codex.ObjectModel.TextSourceSearchModel.f1);
                ;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.TextSourceSearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.TextSourceSearchModel, {
        f1: function (v) {
            return new Codex.ObjectModel.SourceControlFileInfo.ctor().CopyFrom(Codex.ObjectModel.SourceControlFileInfo, v);
        },
        f2: function (v) {
            return new Codex.ObjectModel.SourceFile.ctor().CopyFrom(Codex.ObjectModel.SourceFile, v);
        }
    });

    /**
     * Documentation for typed parameter
     *
     * @public
     * @class Codex.ObjectModel.TypedParameterDocumentation
     * @augments Codex.ObjectModel.ParameterDocumentation
     * @implements  Codex.ITypedParameterDocumentation
     */
    Bridge.define("Codex.ObjectModel.TypedParameterDocumentation", {
        inherits: [Codex.ObjectModel.ParameterDocumentation,Codex.ITypedParameterDocumentation],
        fields: {
            m_Type: null
        },
        props: {
            /**
             * The type of the parameter
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.TypedParameterDocumentation
             * @function Codex$ITypedParameterDocumentation$Type
             * @type Codex.IDocumentationReferenceSymbol
             */
            Codex$ITypedParameterDocumentation$Type: {
                get: function () {
                    return this.Type;
                }
            },
            /**
             * The type of the parameter
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.TypedParameterDocumentation
             * @function Type
             * @type Codex.ObjectModel.DocumentationReferenceSymbol
             */
            Type: {
                get: function () {
                    return this.m_Type;
                },
                set: function (value) {
                    this.m_Type = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.ParameterDocumentation.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.ParameterDocumentation.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.TypedParameterDocumentation, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.ParameterDocumentation.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$1: function (TTarget, value) {
                this.m_Type = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.DocumentationReferenceSymbol, Bridge.global.Codex.ObjectModel.DocumentationReferenceSymbol, this.Type, $asm.$.Codex.ObjectModel.TypedParameterDocumentation.f1);
                ;
                Codex.ObjectModel.ParameterDocumentation.prototype.CopyFrom.call(this, Codex.ObjectModel.ParameterDocumentation, Bridge.cast((value), Codex.IParameterDocumentation));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.TypedParameterDocumentation", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.TypedParameterDocumentation, {
        f1: function (v) {
            return new Codex.ObjectModel.DocumentationReferenceSymbol.ctor().CopyFrom$2(Codex.ObjectModel.DocumentationReferenceSymbol, v);
        }
    });

    Bridge.define("Codex.Sdk.Search.FindAllReferencesArguments", {
        inherits: [Codex.Sdk.Search.FindSymbolArgumentsBase]
    });

    Bridge.define("Codex.Sdk.Search.FindDefinitionArguments", {
        inherits: [Codex.Sdk.Search.FindSymbolArgumentsBase]
    });

    Bridge.define("Codex.Sdk.Search.FindDefinitionLocationArguments", {
        inherits: [Codex.Sdk.Search.FindSymbolArgumentsBase]
    });

    /**
     * Represents a source file with associated semantic bindings
     *
     * @abstract
     * @public
     * @class Codex.IBoundSourceFile
     * @implements  Codex.IBoundSourceInfo
     */
    Bridge.define("Codex.IBoundSourceFile", {
        inherits: [Codex.IBoundSourceInfo],
        $kind: "interface"
    });

    /**
     * A specialized reference span referring to a parameter to a method/property
     *
     * @abstract
     * @public
     * @class Codex.IParameterReferenceSpan
     * @implements  Codex.ISymbolSpan
     */
    Bridge.define("Codex.IParameterReferenceSpan", {
        inherits: [Codex.ISymbolSpan],
        $kind: "interface"
    });

    Bridge.define("Codex.IReferenceSpan", {
        inherits: [Codex.ISymbolSpan],
        $kind: "interface"
    });

    Bridge.define("Codex.ObjectModel.AnalyzedProject", {
        inherits: [Codex.ObjectModel.ProjectScopeEntity,Codex.IProject],
        fields: {
            m_ProjectKind: null,
            m_Files: null,
            m_ProjectReferences: null
        },
        props: {
            /**
             * The project kind (see {@link })
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.AnalyzedProject
             * @function ProjectKind
             * @type string
             */
            ProjectKind: {
                get: function () {
                    return this.m_ProjectKind;
                },
                set: function (value) {
                    this.m_ProjectKind = value;
                }
            },
            /**
             * References to files in the project
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.AnalyzedProject
             * @function Codex$IProject$Files
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IProject$Files: {
                get: function () {
                    return this.Files;
                }
            },
            /**
             * References to files in the project
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.AnalyzedProject
             * @function Files
             * @type System.Collections.Generic.List$1
             */
            Files: {
                get: function () {
                    return this.m_Files;
                },
                set: function (value) {
                    this.m_Files = value;
                }
            },
            /**
             * Descriptions of referenced projects and used definitions from the projects
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.AnalyzedProject
             * @function Codex$IProject$ProjectReferences
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IProject$ProjectReferences: {
                get: function () {
                    return this.ProjectReferences;
                }
            },
            /**
             * Descriptions of referenced projects and used definitions from the projects
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.AnalyzedProject
             * @function ProjectReferences
             * @type System.Collections.Generic.List$1
             */
            ProjectReferences: {
                get: function () {
                    return this.m_ProjectReferences;
                },
                set: function (value) {
                    this.m_ProjectReferences = value;
                }
            }
        },
        alias: ["ProjectKind", "Codex$IProject$ProjectKind"],
        ctors: {
            init: function () {
                this.m_Files = new (System.Collections.Generic.List$1(Codex.ObjectModel.ProjectFileLink)).ctor();
                this.m_ProjectReferences = new (System.Collections.Generic.List$1(Codex.ObjectModel.ReferencedProject)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.ProjectScopeEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectScopeEntity.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.AnalyzedProject, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectScopeEntity.$ctor1.call(this, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectScopeEntity.$ctor2.call(this, value);
            }
        },
        methods: {
            CopyFrom$2: function (TTarget, value) {
                this.m_ProjectKind = value.Codex$IProject$ProjectKind;
                this.m_Files = new (System.Collections.Generic.List$1(Codex.ObjectModel.ProjectFileLink)).$ctor1(System.Linq.Enumerable.from(value.Codex$IProject$Files).select($asm.$.Codex.ObjectModel.AnalyzedProject.f2));
                this.m_ProjectReferences = new (System.Collections.Generic.List$1(Codex.ObjectModel.ReferencedProject)).$ctor1(System.Linq.Enumerable.from(value.Codex$IProject$ProjectReferences).select($asm.$.Codex.ObjectModel.AnalyzedProject.f4));
                Codex.ObjectModel.ProjectScopeEntity.prototype.CopyFrom$1.call(this, Codex.ObjectModel.ProjectScopeEntity, Bridge.cast((value), Codex.IProjectScopeEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.AnalyzedProject", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.AnalyzedProject, {
        f1: function (_v) {
            return new Codex.ObjectModel.ProjectFileLink.ctor().CopyFrom$4(Codex.ObjectModel.ProjectFileLink, _v);
        },
        f2: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IProjectFileLink, Bridge.global.Codex.ObjectModel.ProjectFileLink, v, $asm.$.Codex.ObjectModel.AnalyzedProject.f1);
        },
        f3: function (_v) {
            return new Codex.ObjectModel.ReferencedProject.ctor().CopyFrom(Codex.ObjectModel.ReferencedProject, _v);
        },
        f4: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IReferencedProject, Bridge.global.Codex.ObjectModel.ReferencedProject, v, $asm.$.Codex.ObjectModel.AnalyzedProject.f3);
        }
    });

    Bridge.define("Codex.ObjectModel.BoundSourceInfo", {
        inherits: [Codex.ObjectModel.ProjectFileScopeEntity,Codex.IBoundSourceInfo],
        fields: {
            m_ReferenceCount: null,
            m_DefinitionCount: null,
            m_Language: null,
            m_References: null,
            m_Definitions: null,
            m_Classifications: null,
            m_OutliningRegions: null,
            m_ExcludeFromSearch: false
        },
        props: {
            /**
             * The number of references in the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function ReferenceCount
             * @type number
             */
            ReferenceCount: {
                get: function () {
                    return this.CoerceReferenceCount(this.m_ReferenceCount);
                },
                set: function (value) {
                    this.m_ReferenceCount = value;
                }
            },
            /**
             * The number of definitions in the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function DefinitionCount
             * @type number
             */
            DefinitionCount: {
                get: function () {
                    return this.CoerceDefinitionCount(this.m_DefinitionCount);
                },
                set: function (value) {
                    this.m_DefinitionCount = value;
                }
            },
            /**
             * The language of the file
             TODO: Remove
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function Language
             * @type string
             */
            Language: {
                get: function () {
                    return this.m_Language;
                },
                set: function (value) {
                    this.m_Language = value;
                }
            },
            /**
             * References for the document. Sorted. May overlap.
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function Codex$IBoundSourceInfo$References
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IBoundSourceInfo$References: {
                get: function () {
                    return this.References;
                }
            },
            /**
             * References for the document. Sorted. May overlap.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function References
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            References: {
                get: function () {
                    return this.m_References;
                },
                set: function (value) {
                    this.m_References = value;
                }
            },
            /**
             * Definitions for the document. Sorted. No overlap?
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function Codex$IBoundSourceInfo$Definitions
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IBoundSourceInfo$Definitions: {
                get: function () {
                    return this.Definitions;
                }
            },
            /**
             * Definitions for the document. Sorted. No overlap?
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function Definitions
             * @type System.Collections.Generic.List$1
             */
            Definitions: {
                get: function () {
                    return this.m_Definitions;
                },
                set: function (value) {
                    this.m_Definitions = value;
                }
            },
            /**
             * Classifications for the document. Sorted by start index. No overlap.
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function Codex$IBoundSourceInfo$Classifications
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IBoundSourceInfo$Classifications: {
                get: function () {
                    return this.Classifications;
                }
            },
            /**
             * Classifications for the document. Sorted by start index. No overlap.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function Classifications
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Classifications: {
                get: function () {
                    return this.m_Classifications;
                },
                set: function (value) {
                    this.m_Classifications = value;
                }
            },
            /**
             * Outlining regions for the document. May overlap.
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function Codex$IBoundSourceInfo$OutliningRegions
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IBoundSourceInfo$OutliningRegions: {
                get: function () {
                    return this.OutliningRegions;
                }
            },
            /**
             * Outlining regions for the document. May overlap.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function OutliningRegions
             * @type System.Collections.Generic.List$1
             */
            OutliningRegions: {
                get: function () {
                    return this.m_OutliningRegions;
                },
                set: function (value) {
                    this.m_OutliningRegions = value;
                }
            },
            /**
             * Indicates that the file should be excluded from text search
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceInfo
             * @function ExcludeFromSearch
             * @type boolean
             */
            ExcludeFromSearch: {
                get: function () {
                    return this.m_ExcludeFromSearch;
                },
                set: function (value) {
                    this.m_ExcludeFromSearch = value;
                }
            }
        },
        alias: [
            "ReferenceCount", "Codex$IBoundSourceInfo$ReferenceCount",
            "DefinitionCount", "Codex$IBoundSourceInfo$DefinitionCount",
            "Language", "Codex$IBoundSourceInfo$Language",
            "ExcludeFromSearch", "Codex$IBoundSourceInfo$ExcludeFromSearch"
        ],
        ctors: {
            init: function () {
                this.m_References = Codex.Utilities.CollectionUtilities.Empty$1(Codex.ObjectModel.ReferenceSpan).Array;
                this.m_Definitions = new (System.Collections.Generic.List$1(Codex.ObjectModel.DefinitionSpan)).ctor();
                this.m_Classifications = Codex.Utilities.CollectionUtilities.Empty$1(Codex.ObjectModel.ClassificationSpan).Array;
                this.m_OutliningRegions = new (System.Collections.Generic.List$1(Codex.ObjectModel.OutliningRegion)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.ctor.call(this);
                this.CopyFrom$4(Codex.ObjectModel.BoundSourceInfo, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$4: function (TTarget, value) {
                this.m_ReferenceCount = value.Codex$IBoundSourceInfo$ReferenceCount;
                this.m_DefinitionCount = value.Codex$IBoundSourceInfo$DefinitionCount;
                this.m_Language = value.Codex$IBoundSourceInfo$Language;
                this.m_References = new (System.Collections.Generic.List$1(Codex.ObjectModel.ReferenceSpan)).$ctor1(System.Linq.Enumerable.from(value.Codex$IBoundSourceInfo$References).select($asm.$.Codex.ObjectModel.BoundSourceInfo.f2));
                this.m_Definitions = new (System.Collections.Generic.List$1(Codex.ObjectModel.DefinitionSpan)).$ctor1(System.Linq.Enumerable.from(value.Codex$IBoundSourceInfo$Definitions).select($asm.$.Codex.ObjectModel.BoundSourceInfo.f4));
                this.m_Classifications = new (System.Collections.Generic.List$1(Codex.ObjectModel.ClassificationSpan)).$ctor1(System.Linq.Enumerable.from(value.Codex$IBoundSourceInfo$Classifications).select($asm.$.Codex.ObjectModel.BoundSourceInfo.f6));
                this.m_OutliningRegions = new (System.Collections.Generic.List$1(Codex.ObjectModel.OutliningRegion)).$ctor1(System.Linq.Enumerable.from(value.Codex$IBoundSourceInfo$OutliningRegions).select($asm.$.Codex.ObjectModel.BoundSourceInfo.f8));
                this.m_ExcludeFromSearch = value.Codex$IBoundSourceInfo$ExcludeFromSearch;
                Codex.ObjectModel.ProjectFileScopeEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.ProjectFileScopeEntity, Bridge.cast((value), Codex.IProjectFileScopeEntity));
                return Bridge.cast((this), TTarget);
            },
            CoerceReferenceCount: function (value) {
                var $t;
                return ($t = value, $t != null ? $t : System.Array.getCount(this.References, Codex.ObjectModel.ReferenceSpan));
            },
            CoerceDefinitionCount: function (value) {
                var $t;
                return ($t = value, $t != null ? $t : this.Definitions.Count);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.BoundSourceInfo", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.BoundSourceInfo, {
        f1: function (_v) {
            return new Codex.ObjectModel.ReferenceSpan.ctor().CopyFrom$4(Codex.ObjectModel.ReferenceSpan, _v);
        },
        f2: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IReferenceSpan, Bridge.global.Codex.ObjectModel.ReferenceSpan, v, $asm.$.Codex.ObjectModel.BoundSourceInfo.f1);
        },
        f3: function (_v) {
            return new Codex.ObjectModel.DefinitionSpan.ctor().CopyFrom$1(Codex.ObjectModel.DefinitionSpan, _v);
        },
        f4: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IDefinitionSpan, Bridge.global.Codex.ObjectModel.DefinitionSpan, v, $asm.$.Codex.ObjectModel.BoundSourceInfo.f3);
        },
        f5: function (_v) {
            return new Codex.ObjectModel.ClassificationSpan.ctor().CopyFrom$1(Codex.ObjectModel.ClassificationSpan, _v);
        },
        f6: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IClassificationSpan, Bridge.global.Codex.ObjectModel.ClassificationSpan, v, $asm.$.Codex.ObjectModel.BoundSourceInfo.f5);
        },
        f7: function (_v) {
            return new Codex.ObjectModel.OutliningRegion.ctor().CopyFrom(Codex.ObjectModel.OutliningRegion, _v);
        },
        f8: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IOutliningRegion, Bridge.global.Codex.ObjectModel.OutliningRegion, v, $asm.$.Codex.ObjectModel.BoundSourceInfo.f7);
        }
    });

    /**
     * Describes a commit in version control
     *
     * @public
     * @class Codex.ObjectModel.Commit
     * @augments Codex.ObjectModel.CommitScopeEntity
     * @implements  Codex.ICommit
     */
    Bridge.define("Codex.ObjectModel.Commit", {
        inherits: [Codex.ObjectModel.CommitScopeEntity,Codex.ICommit],
        fields: {
            m_Description: null,
            m_DateUploaded: null,
            m_DateCommitted: null,
            m_ParentCommitIds: null,
            m_ChangedFiles: null
        },
        props: {
            /**
             * The commit description describing the changes
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Commit
             * @function Description
             * @type string
             */
            Description: {
                get: function () {
                    return this.m_Description;
                },
                set: function (value) {
                    this.m_Description = value;
                }
            },
            /**
             * The date the commit was stored to the index
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Commit
             * @function DateUploaded
             * @type System.DateTime
             */
            DateUploaded: {
                get: function () {
                    return this.m_DateUploaded;
                },
                set: function (value) {
                    this.m_DateUploaded = value;
                }
            },
            /**
             * The date of the commit
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Commit
             * @function DateCommitted
             * @type System.DateTime
             */
            DateCommitted: {
                get: function () {
                    return this.m_DateCommitted;
                },
                set: function (value) {
                    this.m_DateCommitted = value;
                }
            },
            /**
             * The {@link } of the parent commits
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.Commit
             * @function Codex$ICommit$ParentCommitIds
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$ICommit$ParentCommitIds: {
                get: function () {
                    return this.ParentCommitIds;
                }
            },
            /**
             * The {@link } of the parent commits
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Commit
             * @function ParentCommitIds
             * @type System.Collections.Generic.List$1
             */
            ParentCommitIds: {
                get: function () {
                    return this.m_ParentCommitIds;
                },
                set: function (value) {
                    this.m_ParentCommitIds = value;
                }
            },
            /**
             * The files changed in the commit
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.Commit
             * @function Codex$ICommit$ChangedFiles
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$ICommit$ChangedFiles: {
                get: function () {
                    return this.ChangedFiles;
                }
            },
            /**
             * The files changed in the commit
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.Commit
             * @function ChangedFiles
             * @type System.Collections.Generic.List$1
             */
            ChangedFiles: {
                get: function () {
                    return this.m_ChangedFiles;
                },
                set: function (value) {
                    this.m_ChangedFiles = value;
                }
            }
        },
        alias: [
            "Description", "Codex$ICommit$Description",
            "DateUploaded", "Codex$ICommit$DateUploaded",
            "DateCommitted", "Codex$ICommit$DateCommitted"
        ],
        ctors: {
            init: function () {
                this.m_DateUploaded = System.DateTime.getDefaultValue();
                this.m_DateCommitted = System.DateTime.getDefaultValue();
                this.m_ParentCommitIds = new (System.Collections.Generic.List$1(System.String)).ctor();
                this.m_ChangedFiles = new (System.Collections.Generic.List$1(Codex.ObjectModel.CommitChangedFile)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.CommitScopeEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.CommitScopeEntity.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.Commit, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.CommitScopeEntity.$ctor1.call(this, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.CommitScopeEntity.$ctor2.call(this, value);
            }
        },
        methods: {
            CopyFrom$2: function (TTarget, value) {
                this.m_Description = value.Codex$ICommit$Description;
                this.m_DateUploaded = value.Codex$ICommit$DateUploaded;
                this.m_DateCommitted = value.Codex$ICommit$DateCommitted;
                this.m_ParentCommitIds = new (System.Collections.Generic.List$1(System.String)).$ctor1(value.Codex$ICommit$ParentCommitIds);
                this.m_ChangedFiles = new (System.Collections.Generic.List$1(Codex.ObjectModel.CommitChangedFile)).$ctor1(System.Linq.Enumerable.from(value.Codex$ICommit$ChangedFiles).select($asm.$.Codex.ObjectModel.Commit.f2));
                Codex.ObjectModel.CommitScopeEntity.prototype.CopyFrom$1.call(this, Codex.ObjectModel.CommitScopeEntity, Bridge.cast((value), Codex.ICommitScopeEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.Commit", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.Commit, {
        f1: function (_v) {
            return new Codex.ObjectModel.CommitChangedFile.ctor().CopyFrom$1(Codex.ObjectModel.CommitChangedFile, _v);
        },
        f2: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ICommitChangedFile, Bridge.global.Codex.ObjectModel.CommitChangedFile, v, $asm.$.Codex.ObjectModel.Commit.f1);
        }
    });

    /**
     * Represents a directory in source control
     *
     * @public
     * @class Codex.ObjectModel.CommitFilesDirectory
     * @augments Codex.ObjectModel.RepoFileScopeEntity
     * @implements  Codex.ICommitFilesDirectory
     */
    Bridge.define("Codex.ObjectModel.CommitFilesDirectory", {
        inherits: [Codex.ObjectModel.RepoFileScopeEntity,Codex.ICommitFilesDirectory],
        fields: {
            m_Files: null
        },
        props: {
            /**
             * The files in the directory
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.CommitFilesDirectory
             * @function Codex$ICommitFilesDirectory$Files
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$ICommitFilesDirectory$Files: {
                get: function () {
                    return this.Files;
                }
            },
            /**
             * The files in the directory
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.CommitFilesDirectory
             * @function Files
             * @type System.Collections.Generic.List$1
             */
            Files: {
                get: function () {
                    return this.m_Files;
                },
                set: function (value) {
                    this.m_Files = value;
                }
            }
        },
        ctors: {
            init: function () {
                this.m_Files = new (System.Collections.Generic.List$1(Codex.ObjectModel.CommitFileLink)).ctor();
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.RepoFileScopeEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.RepoFileScopeEntity.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.CommitFilesDirectory, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.RepoFileScopeEntity.$ctor1.call(this, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.RepoFileScopeEntity.$ctor2.call(this, value);
            }
        },
        methods: {
            CopyFrom$2: function (TTarget, value) {
                this.m_Files = new (System.Collections.Generic.List$1(Codex.ObjectModel.CommitFileLink)).$ctor1(System.Linq.Enumerable.from(value.Codex$ICommitFilesDirectory$Files).select($asm.$.Codex.ObjectModel.CommitFilesDirectory.f2));
                Codex.ObjectModel.RepoFileScopeEntity.prototype.CopyFrom$1.call(this, Codex.ObjectModel.RepoFileScopeEntity, Bridge.cast((value), Codex.IRepoFileScopeEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.CommitFilesDirectory", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.CommitFilesDirectory, {
        f1: function (_v) {
            return new Codex.ObjectModel.CommitFileLink.ctor().CopyFrom(Codex.ObjectModel.CommitFileLink, _v);
        },
        f2: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ICommitFileLink, Bridge.global.Codex.ObjectModel.CommitFileLink, v, $asm.$.Codex.ObjectModel.CommitFilesDirectory.f1);
        }
    });

    Bridge.define("Codex.ObjectModel.DefinitionSymbol", {
        inherits: [Codex.ObjectModel.ReferenceSymbol,Codex.IDefinitionSymbol],
        fields: {
            m_Uid: null,
            m_DisplayName: null,
            m_ShortName: null,
            m_ContainerQualifiedName: null,
            m_Modifiers: null,
            m_Glyph: 0,
            m_SymbolDepth: 0,
            m_DocumentationInfo: null,
            m_TypeName: null,
            m_DeclarationName: null,
            m_Comment: null
        },
        props: {
            /**
             * The unique identifier for the symbol
             NOTE: This is not applicable to most symbols. Only set for symbols
             which are added in a shared context and need this for deduplication)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function Uid
             * @type string
             */
            Uid: {
                get: function () {
                    return this.m_Uid;
                },
                set: function (value) {
                    this.m_Uid = value;
                }
            },
            /**
             * The display name of the symbol
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function DisplayName
             * @type string
             */
            DisplayName: {
                get: function () {
                    return this.m_DisplayName;
                },
                set: function (value) {
                    this.m_DisplayName = value;
                }
            },
            /**
             * The short name of the symbol (i.e. Task).
             This is used to find the symbol when search term does not contain '.'
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function ShortName
             * @type string
             */
            ShortName: {
                get: function () {
                    return this.CoerceShortName(this.m_ShortName);
                },
                set: function (value) {
                    this.m_ShortName = value;
                }
            },
            /**
             * The qualified name of the symbol (i.e. System.Threading.Tasks.Task).
             This is used to find the symbol when the search term contains '.'
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function ContainerQualifiedName
             * @type string
             */
            ContainerQualifiedName: {
                get: function () {
                    return this.m_ContainerQualifiedName;
                },
                set: function (value) {
                    this.m_ContainerQualifiedName = value;
                }
            },
            /**
             * Modifiers for the symbol such as public
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function Modifiers
             * @type Array.<string>
             */
            Modifiers: {
                get: function () {
                    return this.m_Modifiers;
                },
                set: function (value) {
                    this.m_Modifiers = value;
                }
            },
            /**
             * The glyph
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function Glyph
             * @type Codex.ObjectModel.Glyph
             */
            Glyph: {
                get: function () {
                    return this.m_Glyph;
                },
                set: function (value) {
                    this.m_Glyph = value;
                }
            },
            /**
             * The depth of the symbol in its symbolic tree
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function SymbolDepth
             * @type number
             */
            SymbolDepth: {
                get: function () {
                    return this.m_SymbolDepth;
                },
                set: function (value) {
                    this.m_SymbolDepth = value;
                }
            },
            /**
             * Documentation for the symbol (if any)
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function Codex$IDefinitionSymbol$DocumentationInfo
             * @type Codex.IDocumentationInfo
             */
            Codex$IDefinitionSymbol$DocumentationInfo: {
                get: function () {
                    return this.DocumentationInfo;
                }
            },
            /**
             * Documentation for the symbol (if any)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function DocumentationInfo
             * @type Codex.ObjectModel.DocumentationInfo
             */
            DocumentationInfo: {
                get: function () {
                    return this.m_DocumentationInfo;
                },
                set: function (value) {
                    this.m_DocumentationInfo = value;
                }
            },
            /**
             * The name of the type for the symbol
             (i.e. return type of method)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function TypeName
             * @type string
             */
            TypeName: {
                get: function () {
                    return this.m_TypeName;
                },
                set: function (value) {
                    this.m_TypeName = value;
                }
            },
            /**
             * The declaration name for the symbol
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function DeclarationName
             * @type string
             */
            DeclarationName: {
                get: function () {
                    return this.m_DeclarationName;
                },
                set: function (value) {
                    this.m_DeclarationName = value;
                }
            },
            /**
             * The comment applied to the definition
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DefinitionSymbol
             * @function Comment
             * @type string
             */
            Comment: {
                get: function () {
                    return this.m_Comment;
                },
                set: function (value) {
                    this.m_Comment = value;
                }
            }
        },
        alias: [
            "Uid", "Codex$IDefinitionSymbol$Uid",
            "DisplayName", "Codex$IDefinitionSymbol$DisplayName",
            "ShortName", "Codex$IDefinitionSymbol$ShortName",
            "ContainerQualifiedName", "Codex$IDefinitionSymbol$ContainerQualifiedName",
            "Modifiers", "Codex$IDefinitionSymbol$Modifiers",
            "Glyph", "Codex$IDefinitionSymbol$Glyph",
            "SymbolDepth", "Codex$IDefinitionSymbol$SymbolDepth",
            "TypeName", "Codex$IDefinitionSymbol$TypeName",
            "DeclarationName", "Codex$IDefinitionSymbol$DeclarationName",
            "Comment", "Codex$IDefinitionSymbol$Comment"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.ReferenceSymbol.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.ReferenceSymbol.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.DefinitionSymbol, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.ReferenceSymbol.$ctor2.call(this, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.ReferenceSymbol.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$2: function (TTarget, value) {
                this.m_Uid = value.Codex$IDefinitionSymbol$Uid;
                this.m_DisplayName = value.Codex$IDefinitionSymbol$DisplayName;
                this.m_ShortName = value.Codex$IDefinitionSymbol$ShortName;
                this.m_ContainerQualifiedName = value.Codex$IDefinitionSymbol$ContainerQualifiedName;
                this.m_Modifiers = value.Codex$IDefinitionSymbol$Modifiers;
                this.m_Glyph = value.Codex$IDefinitionSymbol$Glyph;
                this.m_SymbolDepth = value.Codex$IDefinitionSymbol$SymbolDepth;
                this.m_DocumentationInfo = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.DocumentationInfo, Bridge.global.Codex.ObjectModel.DocumentationInfo, this.DocumentationInfo, $asm.$.Codex.ObjectModel.DefinitionSymbol.f1);
                ;
                this.m_TypeName = value.Codex$IDefinitionSymbol$TypeName;
                this.m_DeclarationName = value.Codex$IDefinitionSymbol$DeclarationName;
                this.m_Comment = value.Codex$IDefinitionSymbol$Comment;
                Codex.ObjectModel.ReferenceSymbol.prototype.CopyFrom$1.call(this, Codex.ObjectModel.ReferenceSymbol, Bridge.cast((value), Codex.IReferenceSymbol));
                return Bridge.cast((this), TTarget);
            },
            Initialize: function () {
                this.ReferenceKind = "Definition";
                Codex.ObjectModel.ReferenceSymbol.prototype.Initialize.call(this);
            },
            CoerceShortName: function (value) {
                var $t;
                return ($t = value, $t != null ? $t : "");
            },
            toString: function () {
                return this.DisplayName;
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.DefinitionSymbol", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.DefinitionSymbol, {
        f1: function (v) {
            return new Codex.ObjectModel.DocumentationInfo.ctor().CopyFrom(Codex.ObjectModel.DocumentationInfo, v);
        }
    });

    /**
     * Decribes a symbol related to a given documented symbol
     *
     * @public
     * @class Codex.ObjectModel.DocumentationReferenceSymbol
     * @augments Codex.ObjectModel.ReferenceSymbol
     * @implements  Codex.IDocumentationReferenceSymbol
     */
    Bridge.define("Codex.ObjectModel.DocumentationReferenceSymbol", {
        inherits: [Codex.ObjectModel.ReferenceSymbol,Codex.IDocumentationReferenceSymbol],
        fields: {
            m_DisplayName: null,
            m_Comment: null
        },
        props: {
            /**
             * The display name of the symbol reference as it should appear in documentation
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationReferenceSymbol
             * @function DisplayName
             * @type string
             */
            DisplayName: {
                get: function () {
                    return this.m_DisplayName;
                },
                set: function (value) {
                    this.m_DisplayName = value;
                }
            },
            /**
             * The comment associated with the reference
             (i.e. return type description https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/xmldoc/returns)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.DocumentationReferenceSymbol
             * @function Comment
             * @type string
             */
            Comment: {
                get: function () {
                    return this.m_Comment;
                },
                set: function (value) {
                    this.m_Comment = value;
                }
            }
        },
        alias: [
            "DisplayName", "Codex$IDocumentationReferenceSymbol$DisplayName",
            "Comment", "Codex$IDocumentationReferenceSymbol$Comment"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.ReferenceSymbol.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.ReferenceSymbol.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.DocumentationReferenceSymbol, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.ReferenceSymbol.$ctor2.call(this, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.ReferenceSymbol.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$2: function (TTarget, value) {
                this.m_DisplayName = value.Codex$IDocumentationReferenceSymbol$DisplayName;
                this.m_Comment = value.Codex$IDocumentationReferenceSymbol$Comment;
                Codex.ObjectModel.ReferenceSymbol.prototype.CopyFrom$1.call(this, Codex.ObjectModel.ReferenceSymbol, Bridge.cast((value), Codex.IReferenceSymbol));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    /**
     * A specialized definition span referring to a parameter of a method/property
     *
     * @public
     * @class Codex.ObjectModel.ParameterDefinitionSpan
     * @augments Codex.ObjectModel.LineSpan
     * @implements  Codex.IParameterDefinitionSpan
     */
    Bridge.define("Codex.ObjectModel.ParameterDefinitionSpan", {
        inherits: [Codex.ObjectModel.LineSpan,Codex.IParameterDefinitionSpan],
        fields: {
            m_ParameterIndex: 0,
            m_Name: null
        },
        props: {
            /**
             * The index of the parameter in the list of parameters for the method
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ParameterDefinitionSpan
             * @function ParameterIndex
             * @type number
             */
            ParameterIndex: {
                get: function () {
                    return this.m_ParameterIndex;
                },
                set: function (value) {
                    this.m_ParameterIndex = value;
                }
            },
            /**
             * The name of the parameter
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ParameterDefinitionSpan
             * @function Name
             * @type string
             */
            Name: {
                get: function () {
                    return this.m_Name;
                },
                set: function (value) {
                    this.m_Name = value;
                }
            }
        },
        alias: [
            "ParameterIndex", "Codex$IParameterDefinitionSpan$ParameterIndex",
            "Name", "Codex$IParameterDefinitionSpan$Name"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.LineSpan.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.LineSpan.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.ParameterDefinitionSpan, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.LineSpan.$ctor1.call(this, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.LineSpan.$ctor2.call(this, value);
            }
        },
        methods: {
            CopyFrom$2: function (TTarget, value) {
                this.m_ParameterIndex = value.Codex$IParameterDefinitionSpan$ParameterIndex;
                this.m_Name = value.Codex$IParameterDefinitionSpan$Name;
                Codex.ObjectModel.LineSpan.prototype.CopyFrom$1.call(this, Codex.ObjectModel.LineSpan, Bridge.cast((value), Codex.ILineSpan));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.TextLineSpan", {
        inherits: [Codex.ObjectModel.LineSpan,Codex.ITextLineSpan],
        fields: {
            m_LineSpanText: null
        },
        props: {
            /**
             * The line text
             TODO: It would be nice to not store this here and instead apply it as a join
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.TextLineSpan
             * @function LineSpanText
             * @type string
             */
            LineSpanText: {
                get: function () {
                    return this.m_LineSpanText;
                },
                set: function (value) {
                    this.m_LineSpanText = value;
                }
            }
        },
        alias: ["LineSpanText", "Codex$ITextLineSpan$LineSpanText"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.LineSpan.ctor.call(this);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.LineSpan.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.TextLineSpan, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.LineSpan.$ctor1.call(this, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.LineSpan.$ctor2.call(this, value);
            }
        },
        methods: {
            CopyFrom$2: function (TTarget, value) {
                this.m_LineSpanText = value.Codex$ITextLineSpan$LineSpanText;
                Codex.ObjectModel.LineSpan.prototype.CopyFrom$1.call(this, Codex.ObjectModel.LineSpan, Bridge.cast((value), Codex.ILineSpan));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    /**
     * NOTE: Do not set {@link }
     *
     * @public
     * @class Codex.ObjectModel.ProjectFileLink
     * @augments Codex.ObjectModel.ProjectFileScopeEntity
     * @implements  Codex.IProjectFileLink
     */
    Bridge.define("Codex.ObjectModel.ProjectFileLink", {
        inherits: [Codex.ObjectModel.ProjectFileScopeEntity,Codex.IProjectFileLink],
        fields: {
            m_FileId: null
        },
        props: {
            /**
             * Unique identifier for file
             TODO: Make this checksum and searchable and use for discovering commit from PDB.
             TODO: What is this?
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ProjectFileLink
             * @function FileId
             * @type string
             */
            FileId: {
                get: function () {
                    return this.m_FileId;
                },
                set: function (value) {
                    this.m_FileId = value;
                }
            }
        },
        alias: ["FileId", "Codex$IProjectFileLink$FileId"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.ctor.call(this);
                this.CopyFrom$4(Codex.ObjectModel.ProjectFileLink, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$4: function (TTarget, value) {
                this.m_FileId = value.Codex$IProjectFileLink$FileId;
                Codex.ObjectModel.ProjectFileScopeEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.ProjectFileScopeEntity, Bridge.cast((value), Codex.IProjectFileScopeEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.ReferenceSearchModel", {
        inherits: [Codex.ObjectModel.SearchEntity,Codex.IReferenceSearchModel],
        fields: {
            m_Reference: null,
            m_Spans: null,
            m_CompressedSpans: null,
            m_ProjectRelativePath: null,
            m_RepoRelativePath: null,
            m_RepositoryName: null,
            m_ProjectId: null
        },
        props: {
            /**
             * The reference symbol
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.ReferenceSearchModel
             * @function Codex$IReferenceSearchModel$Reference
             * @type Codex.IReferenceSymbol
             */
            Codex$IReferenceSearchModel$Reference: {
                get: function () {
                    return this.Reference;
                }
            },
            /**
             * The reference symbol
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSearchModel
             * @function Reference
             * @type Codex.ObjectModel.ReferenceSymbol
             */
            Reference: {
                get: function () {
                    return this.m_Reference;
                },
                set: function (value) {
                    this.m_Reference = value;
                }
            },
            Codex$IReferenceSearchModel$Spans: {
                get: function () {
                    return this.Spans;
                }
            },
            Spans: {
                get: function () {
                    return this.CoerceSpans(this.m_Spans);
                },
                set: function (value) {
                    this.m_Spans = value;
                }
            },
            /**
             * Compressed list of spans
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSearchModel
             * @function CompressedSpans
             * @type Codex.ISymbolLineSpanList
             */
            CompressedSpans: {
                get: function () {
                    return this.m_CompressedSpans;
                },
                set: function (value) {
                    this.m_CompressedSpans = value;
                }
            },
            /**
             * The project relative path of the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSearchModel
             * @function ProjectRelativePath
             * @type string
             */
            ProjectRelativePath: {
                get: function () {
                    return this.m_ProjectRelativePath;
                },
                set: function (value) {
                    this.m_ProjectRelativePath = value;
                }
            },
            /**
             * The repo relative path to the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSearchModel
             * @function RepoRelativePath
             * @type string
             */
            RepoRelativePath: {
                get: function () {
                    return this.m_RepoRelativePath;
                },
                set: function (value) {
                    this.m_RepoRelativePath = value;
                }
            },
            /**
             * The name of the repository containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSearchModel
             * @function RepositoryName
             * @type string
             */
            RepositoryName: {
                get: function () {
                    return this.m_RepositoryName;
                },
                set: function (value) {
                    this.m_RepositoryName = value;
                }
            },
            /**
             * The identifier of the project containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSearchModel
             * @function ProjectId
             * @type string
             */
            ProjectId: {
                get: function () {
                    return this.m_ProjectId;
                },
                set: function (value) {
                    this.m_ProjectId = value;
                }
            }
        },
        alias: [
            "CompressedSpans", "Codex$IReferenceSearchModel$CompressedSpans",
            "ProjectRelativePath", "Codex$IProjectFileScopeEntity$ProjectRelativePath",
            "RepoRelativePath", "Codex$IRepoFileScopeEntity$RepoRelativePath",
            "RepositoryName", "Codex$IRepoScopeEntity$RepositoryName",
            "ProjectId", "Codex$IProjectScopeEntity$ProjectId"
        ],
        ctors: {
            init: function () {
                this.m_Spans = Codex.Utilities.CollectionUtilities.Empty$1(Codex.ObjectModel.SymbolSpan).Array;
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$3(Codex.ObjectModel.ReferenceSearchModel, value);
            },
            $ctor6: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.$ctor1.call(this, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$1(Codex.ObjectModel.ReferenceSearchModel, value);
            },
            $ctor4: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$4(Codex.ObjectModel.ReferenceSearchModel, value);
            },
            $ctor5: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$5(Codex.ObjectModel.ReferenceSearchModel, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SearchEntity.ctor.call(this);
                this.CopyFrom$2(Codex.ObjectModel.ReferenceSearchModel, value);
            }
        },
        methods: {
            CopyFrom$5: function (TTarget, value) {
                this.m_RepositoryName = value.Codex$IRepoScopeEntity$RepositoryName;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$4: function (TTarget, value) {
                this.m_RepoRelativePath = value.Codex$IRepoFileScopeEntity$RepoRelativePath;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$2: function (TTarget, value) {
                this.m_ProjectId = value.Codex$IProjectScopeEntity$ProjectId;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$1: function (TTarget, value) {
                this.m_ProjectRelativePath = value.Codex$IProjectFileScopeEntity$ProjectRelativePath;
                this.m_RepoRelativePath = Bridge.cast((value), Codex.IRepoFileScopeEntity).Codex$IRepoFileScopeEntity$RepoRelativePath;
                this.m_RepositoryName = Bridge.cast((value), Codex.IRepoScopeEntity).Codex$IRepoScopeEntity$RepositoryName;
                this.m_ProjectId = Bridge.cast((value), Codex.IProjectScopeEntity).Codex$IProjectScopeEntity$ProjectId;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$3: function (TTarget, value) {
                this.m_Reference = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.ReferenceSymbol, Bridge.global.Codex.ObjectModel.ReferenceSymbol, this.Reference, $asm.$.Codex.ObjectModel.ReferenceSearchModel.f1);
                ;
                this.m_Spans = new (System.Collections.Generic.List$1(Codex.ObjectModel.SymbolSpan)).$ctor1(System.Linq.Enumerable.from(value.Codex$IReferenceSearchModel$Spans).select($asm.$.Codex.ObjectModel.ReferenceSearchModel.f3));
                this.m_CompressedSpans = value.Codex$IReferenceSearchModel$CompressedSpans;
                Codex.ObjectModel.SearchEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.SearchEntity, Bridge.cast((value), Codex.ISearchEntity));
                this.m_ProjectRelativePath = Bridge.cast((value), Codex.IProjectFileScopeEntity).Codex$IProjectFileScopeEntity$ProjectRelativePath;
                this.m_RepoRelativePath = Bridge.cast((value), Codex.IRepoFileScopeEntity).Codex$IRepoFileScopeEntity$RepoRelativePath;
                this.m_RepositoryName = Bridge.cast((value), Codex.IRepoScopeEntity).Codex$IRepoScopeEntity$RepositoryName;
                this.m_ProjectId = Bridge.cast((value), Codex.IProjectScopeEntity).Codex$IProjectScopeEntity$ProjectId;
                return Bridge.cast((this), TTarget);
            },
            CoerceSpans: function (value) {
                var $t;
                value = value || (($t = this.CompressedSpans) != null ? $t.Codex$ISymbolLineSpanList$ToList() : null);
                this.Spans = value;
                return value;
            },
            OnSerializingCore: function () {
                var $t;
                if (this.Spans != null) {
                    var lineSpanText = { v : null };
                    $t = Bridge.getEnumerator(this.Spans, Codex.ObjectModel.SymbolSpan);
                    try {
                        while ($t.moveNext()) {
                            var span = $t.Current;
                            span.LineSpanText = Codex.Utilities.SerializationUtilities.RemoveDuplicate(System.String, span.LineSpanText, lineSpanText);
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }}

                Codex.ObjectModel.SearchEntity.prototype.OnSerializingCore.call(this);
            },
            OnDeserializedCore: function () {
                var $t;
                if (this.Spans != null) {
                    var lineSpanText = { v : null };
                    $t = Bridge.getEnumerator(this.Spans, Codex.ObjectModel.SymbolSpan);
                    try {
                        while ($t.moveNext()) {
                            var span = $t.Current;
                            span.LineSpanText = Codex.Utilities.SerializationUtilities.AssignDuplicate(System.String, span.LineSpanText, lineSpanText);
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$dispose();
                        }
                    }}

                Codex.ObjectModel.SearchEntity.prototype.OnDeserializedCore.call(this);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.ReferenceSearchModel", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.ReferenceSearchModel, {
        f1: function (v) {
            return new Codex.ObjectModel.ReferenceSymbol.ctor().CopyFrom$1(Codex.ObjectModel.ReferenceSymbol, v);
        },
        f2: function (_v) {
            return new Codex.ObjectModel.SymbolSpan.ctor().CopyFrom$3(Codex.ObjectModel.SymbolSpan, _v);
        },
        f3: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ISymbolSpan, Bridge.global.Codex.ObjectModel.SymbolSpan, v, $asm.$.Codex.ObjectModel.ReferenceSearchModel.f2);
        }
    });

    Bridge.define("Codex.ObjectModel.ReferenceSearchResult", {
        inherits: [Codex.ObjectModel.ProjectFileScopeEntity,Codex.Sdk.Search.IReferenceSearchResult],
        fields: {
            m_ReferenceSpan: null
        },
        props: {
            Codex$Sdk$Search$IReferenceSearchResult$ReferenceSpan: {
                get: function () {
                    return this.ReferenceSpan;
                }
            },
            ReferenceSpan: {
                get: function () {
                    return this.m_ReferenceSpan;
                },
                set: function (value) {
                    this.m_ReferenceSpan = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.ctor.call(this);
                this.CopyFrom$4(Codex.ObjectModel.ReferenceSearchResult, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$4: function (TTarget, value) {
                this.m_ReferenceSpan = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.ReferenceSpan, Bridge.global.Codex.ObjectModel.ReferenceSpan, this.ReferenceSpan, $asm.$.Codex.ObjectModel.ReferenceSearchResult.f1);
                ;
                Codex.ObjectModel.ProjectFileScopeEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.ProjectFileScopeEntity, Bridge.cast((value), Codex.IProjectFileScopeEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.ReferenceSearchResult", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.ReferenceSearchResult, {
        f1: function (v) {
            return new Codex.ObjectModel.ReferenceSpan.ctor().CopyFrom$4(Codex.ObjectModel.ReferenceSpan, v);
        }
    });

    Bridge.define("Codex.ObjectModel.SourceFileInfo", {
        inherits: [Codex.EntityBase,Codex.ISourceFileInfo],
        fields: {
            m_Lines: 0,
            m_Size: 0,
            m_Language: null,
            m_WebAddress: null,
            m_Encoding: null,
            m_Properties: null,
            m_RepoRelativePath: null,
            m_RepositoryName: null,
            m_SourceControlContentId: null,
            m_ProjectRelativePath: null,
            m_ProjectId: null
        },
        props: {
            /**
             * The number of lines in the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function Lines
             * @type number
             */
            Lines: {
                get: function () {
                    return this.m_Lines;
                },
                set: function (value) {
                    this.m_Lines = value;
                }
            },
            /**
             * The size of the file in bytes
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function Size
             * @type number
             */
            Size: {
                get: function () {
                    return this.m_Size;
                },
                set: function (value) {
                    this.m_Size = value;
                }
            },
            /**
             * The language of the file
             TODO: Remove
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function Language
             * @type string
             */
            Language: {
                get: function () {
                    return this.m_Language;
                },
                set: function (value) {
                    this.m_Language = value;
                }
            },
            /**
             * The web address of the file. TODO: Remove? Is repo relative path enough?
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function WebAddress
             * @type string
             */
            WebAddress: {
                get: function () {
                    return this.m_WebAddress;
                },
                set: function (value) {
                    this.m_WebAddress = value;
                }
            },
            /**
             * The encoding used for the file
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function Codex$ISourceFileInfo$Encoding
             * @type Codex.IEncodingDescription
             */
            Codex$ISourceFileInfo$Encoding: {
                get: function () {
                    return this.Encoding;
                }
            },
            /**
             * The encoding used for the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function Encoding
             * @type Codex.ObjectModel.EncodingDescription
             */
            Encoding: {
                get: function () {
                    return this.m_Encoding;
                },
                set: function (value) {
                    this.m_Encoding = value;
                }
            },
            /**
             * Extensible key value properties for the document.
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function Codex$ISourceFileInfo$Properties
             * @type Codex.IPropertyMap
             */
            Codex$ISourceFileInfo$Properties: {
                get: function () {
                    return this.Properties;
                }
            },
            /**
             * Extensible key value properties for the document.
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function Properties
             * @type Codex.ObjectModel.PropertyMap
             */
            Properties: {
                get: function () {
                    return this.m_Properties;
                },
                set: function (value) {
                    this.m_Properties = value;
                }
            },
            /**
             * The repo relative path to the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function RepoRelativePath
             * @type string
             */
            RepoRelativePath: {
                get: function () {
                    return this.m_RepoRelativePath;
                },
                set: function (value) {
                    this.m_RepoRelativePath = value;
                }
            },
            /**
             * The name of the repository containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function RepositoryName
             * @type string
             */
            RepositoryName: {
                get: function () {
                    return this.m_RepositoryName;
                },
                set: function (value) {
                    this.m_RepositoryName = value;
                }
            },
            /**
             * Unique id for the source file content as defined by the source control provider (i.e. git SHA)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function SourceControlContentId
             * @type string
             */
            SourceControlContentId: {
                get: function () {
                    return this.m_SourceControlContentId;
                },
                set: function (value) {
                    this.m_SourceControlContentId = value;
                }
            },
            /**
             * The project relative path of the file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function ProjectRelativePath
             * @type string
             */
            ProjectRelativePath: {
                get: function () {
                    return this.m_ProjectRelativePath;
                },
                set: function (value) {
                    this.m_ProjectRelativePath = value;
                }
            },
            /**
             * The identifier of the project containing the entity
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.SourceFileInfo
             * @function ProjectId
             * @type string
             */
            ProjectId: {
                get: function () {
                    return this.m_ProjectId;
                },
                set: function (value) {
                    this.m_ProjectId = value;
                }
            }
        },
        alias: [
            "Lines", "Codex$ISourceFileInfo$Lines",
            "Size", "Codex$ISourceFileInfo$Size",
            "Language", "Codex$ISourceFileInfo$Language",
            "WebAddress", "Codex$ISourceFileInfo$WebAddress",
            "RepoRelativePath", "Codex$IRepoFileScopeEntity$RepoRelativePath",
            "RepositoryName", "Codex$IRepoScopeEntity$RepositoryName",
            "SourceControlContentId", "Codex$ISourceControlFileInfo$SourceControlContentId",
            "ProjectRelativePath", "Codex$IProjectFileScopeEntity$ProjectRelativePath",
            "ProjectId", "Codex$IProjectScopeEntity$ProjectId"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
            },
            $ctor6: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom$5(Codex.ObjectModel.SourceFileInfo, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom$2(Codex.ObjectModel.SourceFileInfo, value);
            },
            $ctor4: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom$3(Codex.ObjectModel.SourceFileInfo, value);
            },
            $ctor5: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom$4(Codex.ObjectModel.SourceFileInfo, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom(Codex.ObjectModel.SourceFileInfo, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.EntityBase.ctor.call(this);
                this.Initialize();
                this.CopyFrom$1(Codex.ObjectModel.SourceFileInfo, value);
            }
        },
        methods: {
            CopyFrom$3: function (TTarget, value) {
                this.m_RepositoryName = value.Codex$IRepoScopeEntity$RepositoryName;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$2: function (TTarget, value) {
                this.m_RepoRelativePath = value.Codex$IRepoFileScopeEntity$RepoRelativePath;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$4: function (TTarget, value) {
                this.m_SourceControlContentId = value.Codex$ISourceControlFileInfo$SourceControlContentId;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$1: function (TTarget, value) {
                this.m_ProjectId = value.Codex$IProjectScopeEntity$ProjectId;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom: function (TTarget, value) {
                this.m_ProjectRelativePath = value.Codex$IProjectFileScopeEntity$ProjectRelativePath;
                this.m_RepoRelativePath = Bridge.cast((value), Codex.IRepoFileScopeEntity).Codex$IRepoFileScopeEntity$RepoRelativePath;
                this.m_RepositoryName = Bridge.cast((value), Codex.IRepoScopeEntity).Codex$IRepoScopeEntity$RepositoryName;
                this.m_ProjectId = Bridge.cast((value), Codex.IProjectScopeEntity).Codex$IProjectScopeEntity$ProjectId;
                return Bridge.cast((this), TTarget);
            },
            CopyFrom$5: function (TTarget, value) {
                this.m_Lines = value.Codex$ISourceFileInfo$Lines;
                this.m_Size = value.Codex$ISourceFileInfo$Size;
                this.m_Language = value.Codex$ISourceFileInfo$Language;
                this.m_WebAddress = value.Codex$ISourceFileInfo$WebAddress;
                this.m_Encoding = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.EncodingDescription, Bridge.global.Codex.ObjectModel.EncodingDescription, this.Encoding, $asm.$.Codex.ObjectModel.SourceFileInfo.f1);
                ;
                this.m_Properties = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.PropertyMap, Bridge.global.Codex.ObjectModel.PropertyMap, this.Properties, $asm.$.Codex.ObjectModel.SourceFileInfo.f2);
                ;
                this.m_RepoRelativePath = Bridge.cast((value), Codex.IRepoFileScopeEntity).Codex$IRepoFileScopeEntity$RepoRelativePath;
                this.m_RepositoryName = Bridge.cast((value), Codex.IRepoScopeEntity).Codex$IRepoScopeEntity$RepositoryName;
                this.m_SourceControlContentId = Bridge.cast((value), Codex.ISourceControlFileInfo).Codex$ISourceControlFileInfo$SourceControlContentId;
                this.m_ProjectRelativePath = Bridge.cast((value), Codex.IProjectFileScopeEntity).Codex$IProjectFileScopeEntity$ProjectRelativePath;
                this.m_ProjectId = Bridge.cast((value), Codex.IProjectScopeEntity).Codex$IProjectScopeEntity$ProjectId;
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.SourceFileInfo", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.SourceFileInfo, {
        f1: function (v) {
            return new Codex.ObjectModel.EncodingDescription.ctor().CopyFrom(Codex.ObjectModel.EncodingDescription, v);
        },
        f2: function (v) {
            return new Codex.ObjectModel.PropertyMap.ctor().CopyFrom(Codex.ObjectModel.PropertyMap, v);
        }
    });

    Bridge.define("Codex.ObjectModel.TextLineSpanResult", {
        inherits: [Codex.ObjectModel.ProjectFileScopeEntity,Codex.Sdk.Search.ITextLineSpanResult],
        fields: {
            m_TextSpan: null
        },
        props: {
            Codex$Sdk$Search$ITextLineSpanResult$TextSpan: {
                get: function () {
                    return this.TextSpan;
                }
            },
            TextSpan: {
                get: function () {
                    return this.m_TextSpan;
                },
                set: function (value) {
                    this.m_TextSpan = value;
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.ctor.call(this);
                this.CopyFrom$4(Codex.ObjectModel.TextLineSpanResult, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.ProjectFileScopeEntity.$ctor1.call(this, value);
            }
        },
        methods: {
            CopyFrom$4: function (TTarget, value) {
                this.m_TextSpan = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.TextLineSpan, Bridge.global.Codex.ObjectModel.TextLineSpan, this.TextSpan, $asm.$.Codex.ObjectModel.TextLineSpanResult.f1);
                ;
                Codex.ObjectModel.ProjectFileScopeEntity.prototype.CopyFrom.call(this, Codex.ObjectModel.ProjectFileScopeEntity, Bridge.cast((value), Codex.IProjectFileScopeEntity));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.TextLineSpanResult", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.TextLineSpanResult, {
        f1: function (v) {
            return new Codex.ObjectModel.TextLineSpan.ctor().CopyFrom$2(Codex.ObjectModel.TextLineSpan, v);
        }
    });

    Bridge.define("Codex.Sdk.Search.ReferencesResult", {
        inherits: [Codex.Sdk.Search.IndexQueryHits$1(Codex.Sdk.Search.IReferenceSearchResult)],
        props: {
            SymbolDisplayName: null,
            SymbolId: null,
            ProjectId: null,
            RelatedDefinitions: null
        },
        ctors: {
            init: function () {
                this.RelatedDefinitions = new (System.Collections.Generic.List$1(Codex.IDefinitionSymbol)).ctor();
            }
        }
    });

    Bridge.define("Codex.View.GoToReferenceCommandBinding", {
        inherits: [Codex.View.TypedCommandBinding$1(Codex.Sdk.Search.IReferenceSearchResult)],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.View.TypedCommandBinding$1(Codex.Sdk.Search.IReferenceSearchResult).ctor.call(this, Codex.View.Commands.GoToReference);
            }
        }
    });

    Bridge.define("Codex.View.GoToSpanCommandBinding", {
        inherits: [Codex.View.TypedCommandBinding$1(Codex.Sdk.Search.ITextLineSpanResult)],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.View.TypedCommandBinding$1(Codex.Sdk.Search.ITextLineSpanResult).ctor.call(this, Codex.View.Commands.GoToSpan);
            }
        }
    });

    /**
     * Represents a source file with associated semantic bindings
     *
     * @public
     * @class Codex.ObjectModel.BoundSourceFile
     * @augments Codex.ObjectModel.BoundSourceInfo
     * @implements  Codex.IBoundSourceFile
     */
    Bridge.define("Codex.ObjectModel.BoundSourceFile", {
        inherits: [Codex.ObjectModel.BoundSourceInfo,Codex.IBoundSourceFile],
        fields: {
            m_SourceFile: null
        },
        props: {
            /**
             * The source file
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.BoundSourceFile
             * @function Codex$IBoundSourceFile$SourceFile
             * @type Codex.ISourceFile
             */
            Codex$IBoundSourceFile$SourceFile: {
                get: function () {
                    return this.SourceFile;
                }
            },
            /**
             * The source file
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.BoundSourceFile
             * @function SourceFile
             * @type Codex.ObjectModel.SourceFile
             */
            SourceFile: {
                get: function () {
                    return this.m_SourceFile;
                },
                set: function (value) {
                    this.m_SourceFile = value;
                }
            }
        },
        alias: [
            "References", "Codex$IBoundSourceInfo$References",
            "Definitions", "Codex$IBoundSourceInfo$Definitions",
            "Classifications", "Codex$IBoundSourceInfo$Classifications",
            "OutliningRegions", "Codex$IBoundSourceInfo$OutliningRegions"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.BoundSourceInfo.ctor.call(this);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.BoundSourceInfo.ctor.call(this);
                this.CopyFrom$5(Codex.ObjectModel.BoundSourceFile, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.BoundSourceInfo.$ctor1.call(this, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.BoundSourceInfo.$ctor2.call(this, value);
            }
        },
        methods: {
            CopyFrom$5: function (TTarget, value) {
                this.m_SourceFile = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.SourceFile, Bridge.global.Codex.ObjectModel.SourceFile, this.SourceFile, $asm.$.Codex.ObjectModel.BoundSourceFile.f1);
                ;
                Codex.ObjectModel.BoundSourceInfo.prototype.CopyFrom$4.call(this, Codex.ObjectModel.BoundSourceInfo, Bridge.cast((value), Codex.IBoundSourceInfo));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.BoundSourceFile", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.BoundSourceFile, {
        f1: function (v) {
            return new Codex.ObjectModel.SourceFile.ctor().CopyFrom(Codex.ObjectModel.SourceFile, v);
        }
    });

    Bridge.define("Codex.ObjectModel.SymbolSpan", {
        inherits: [Codex.ObjectModel.TextLineSpan,Codex.ISymbolSpan],
        props: {
            LineSpanEnd: {
                get: function () {
                    return ((this.LineSpanStart + this.Length) | 0);
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.TextLineSpan.ctor.call(this);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.TextLineSpan.ctor.call(this);
                this.CopyFrom$3(Codex.ObjectModel.SymbolSpan, value);
            },
            $ctor4: function (value) {
                this.$initialize();
                Codex.ObjectModel.TextLineSpan.$ctor3.call(this, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.TextLineSpan.$ctor1.call(this, value);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.TextLineSpan.$ctor2.call(this, value);
            }
        },
        methods: {
            CopyFrom$3: function (TTarget, value) {
                Codex.ObjectModel.TextLineSpan.prototype.CopyFrom$2.call(this, Codex.ObjectModel.TextLineSpan, Bridge.cast((value), Codex.ITextLineSpan));
                return Bridge.cast((this), TTarget);
            },
            Trim: function () {
                var initialLength = this.LineSpanText.length;
                this.LineSpanText = System.String.trimStart(this.LineSpanText);
                var newLength = this.LineSpanText.length;
                this.LineSpanStart = (this.LineSpanStart - (((initialLength - newLength) | 0))) | 0;
                this.LineSpanText = System.String.trimEnd(this.LineSpanText);
                this.LineSpanStart = Math.max(this.LineSpanStart, 0);
                this.Length = Math.min(this.LineSpanText.length, this.Length);
            },
            CreateReference: function (referenceSymbol, relatedDefinition) {
                var $t;
                if (relatedDefinition === void 0) { relatedDefinition = new Codex.ObjectModel.SymbolId(); }
                return ($t = new Codex.ObjectModel.ReferenceSpan.$ctor4(this), $t.RelatedDefinition = relatedDefinition, $t.Reference = referenceSymbol, $t);
            },
            CreateDefinition: function (definition) {
                var $t;
                return ($t = new Codex.ObjectModel.DefinitionSpan.$ctor2(this), $t.Definition = definition, $t);
            }
        }
    });

    Bridge.define("Codex.View.Web.SerializedReferencesResult", {
        inherits: [Codex.Sdk.Search.IndexQueryHits$1(Codex.ObjectModel.ReferenceSearchResult)],
        props: {
            SymbolDisplayName: null
        }
    });

    /**
     * A specialized reference span referring to a parameter to a method/property
     *
     * @public
     * @class Codex.ObjectModel.ParameterReferenceSpan
     * @augments Codex.ObjectModel.SymbolSpan
     * @implements  Codex.IParameterReferenceSpan
     */
    Bridge.define("Codex.ObjectModel.ParameterReferenceSpan", {
        inherits: [Codex.ObjectModel.SymbolSpan,Codex.IParameterReferenceSpan],
        fields: {
            m_ParameterIndex: 0
        },
        props: {
            /**
             * The index of the parameter in the list of parameters for the method
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ParameterReferenceSpan
             * @function ParameterIndex
             * @type number
             */
            ParameterIndex: {
                get: function () {
                    return this.m_ParameterIndex;
                },
                set: function (value) {
                    this.m_ParameterIndex = value;
                }
            }
        },
        alias: ["ParameterIndex", "Codex$IParameterReferenceSpan$ParameterIndex"],
        ctors: {
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.ctor.call(this);
                this.CopyFrom$4(Codex.ObjectModel.ParameterReferenceSpan, value);
            },
            $ctor4: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.$ctor3.call(this, value);
            },
            $ctor5: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.$ctor4.call(this, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.$ctor1.call(this, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.$ctor2.call(this, value);
            }
        },
        methods: {
            CopyFrom$4: function (TTarget, value) {
                this.m_ParameterIndex = value.Codex$IParameterReferenceSpan$ParameterIndex;
                Codex.ObjectModel.SymbolSpan.prototype.CopyFrom$3.call(this, Codex.ObjectModel.SymbolSpan, Bridge.cast((value), Codex.ISymbolSpan));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.define("Codex.ObjectModel.ReferenceSpan", {
        inherits: [Codex.ObjectModel.SymbolSpan,Codex.IReferenceSpan],
        fields: {
            m_RelatedDefinition: null,
            m_Reference: null,
            m_Parameters: null
        },
        props: {
            /**
             * Gets the symbol id of the definition which provides this reference
             (i.e. method definition for interface implementation)
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSpan
             * @function RelatedDefinition
             * @type Codex.ObjectModel.SymbolId
             */
            RelatedDefinition: {
                get: function () {
                    return this.m_RelatedDefinition;
                },
                set: function (value) {
                    this.m_RelatedDefinition = value;
                }
            },
            /**
             * The reference symbol referred to by the span
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.ReferenceSpan
             * @function Codex$IReferenceSpan$Reference
             * @type Codex.IReferenceSymbol
             */
            Codex$IReferenceSpan$Reference: {
                get: function () {
                    return this.Reference;
                }
            },
            /**
             * The reference symbol referred to by the span
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSpan
             * @function Reference
             * @type Codex.ObjectModel.ReferenceSymbol
             */
            Reference: {
                get: function () {
                    return this.m_Reference;
                },
                set: function (value) {
                    this.m_Reference = value;
                }
            },
            /**
             * Gets the references to parameters
             *
             * @instance
             * @readonly
             * @memberof Codex.ObjectModel.ReferenceSpan
             * @function Codex$IReferenceSpan$Parameters
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Codex$IReferenceSpan$Parameters: {
                get: function () {
                    return this.Parameters;
                }
            },
            /**
             * Gets the references to parameters
             *
             * @instance
             * @public
             * @memberof Codex.ObjectModel.ReferenceSpan
             * @function Parameters
             * @type System.Collections.Generic.IReadOnlyList$1
             */
            Parameters: {
                get: function () {
                    return this.m_Parameters;
                },
                set: function (value) {
                    this.m_Parameters = value;
                }
            }
        },
        alias: ["RelatedDefinition", "Codex$IReferenceSpan$RelatedDefinition"],
        ctors: {
            init: function () {
                this.m_RelatedDefinition = new Codex.ObjectModel.SymbolId();
                this.m_Parameters = Codex.Utilities.CollectionUtilities.Empty$1(Codex.ObjectModel.ParameterReferenceSpan).Array;
            },
            ctor: function () {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.ctor.call(this);
            },
            $ctor2: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.ctor.call(this);
                this.CopyFrom$4(Codex.ObjectModel.ReferenceSpan, value);
            },
            $ctor4: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.$ctor3.call(this, value);
            },
            $ctor5: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.$ctor4.call(this, value);
            },
            $ctor1: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.$ctor1.call(this, value);
            },
            $ctor3: function (value) {
                this.$initialize();
                Codex.ObjectModel.SymbolSpan.$ctor2.call(this, value);
            }
        },
        methods: {
            CopyFrom$4: function (TTarget, value) {
                this.m_RelatedDefinition = value.Codex$IReferenceSpan$RelatedDefinition;
                this.m_Reference = Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.ObjectModel.ReferenceSymbol, Bridge.global.Codex.ObjectModel.ReferenceSymbol, this.Reference, $asm.$.Codex.ObjectModel.ReferenceSpan.f1);
                ;
                this.m_Parameters = new (System.Collections.Generic.List$1(Codex.ObjectModel.ParameterReferenceSpan)).$ctor1(System.Linq.Enumerable.from(value.Codex$IReferenceSpan$Parameters).select($asm.$.Codex.ObjectModel.ReferenceSpan.f3));
                Codex.ObjectModel.SymbolSpan.prototype.CopyFrom$3.call(this, Codex.ObjectModel.SymbolSpan, Bridge.cast((value), Codex.ISymbolSpan));
                return Bridge.cast((this), TTarget);
            }
        }
    });

    Bridge.ns("Codex.ObjectModel.ReferenceSpan", $asm.$);

    Bridge.apply($asm.$.Codex.ObjectModel.ReferenceSpan, {
        f1: function (v) {
            return new Codex.ObjectModel.ReferenceSymbol.ctor().CopyFrom$1(Codex.ObjectModel.ReferenceSymbol, v);
        },
        f2: function (_v) {
            return new Codex.ObjectModel.ParameterReferenceSpan.ctor().CopyFrom$4(Codex.ObjectModel.ParameterReferenceSpan, _v);
        },
        f3: function (v) {
            return Codex.EntityUtilities.NullOrCopy(Bridge.global.Codex.IParameterReferenceSpan, Bridge.global.Codex.ObjectModel.ParameterReferenceSpan, v, $asm.$.Codex.ObjectModel.ReferenceSpan.f2);
        }
    });
});

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICJDb2RleC5WaWV3LldlYi5qcyIsCiAgInNvdXJjZVJvb3QiOiAiIiwKICAic291cmNlcyI6IFsiLi4vQ29kZXguU2RrLlR5cGVzL1N1cHBvcnQvQXR0cmlidXRlcy5jcyIsIi4uL0NvZGV4LlNkay5UeXBlcy9TdXBwb3J0L0RhdGFJbmNsdXNpb24uY3MiLCIuLi9Db2RleC5TZGsuVHlwZXMvRW50aXR5VXRpbGl0aWVzLmNzIiwiLi4vQ29kZXguU2RrLlNoYXJlZC9FbnRpdHlUeXBlcy5nLmNzIiwiLi4vQ29kZXguU2RrLlNoYXJlZC9HbHlwaC5jcyIsIkNvbXBhdGliaWxpdHkvQ29tcGF0aWJpbGl0eS5jcyIsIi4uL0NvZGV4LlNkay5UeXBlcy9BcGkvSUluZGV4LmNzIiwiLi4vQ29kZXguU2RrLlR5cGVzL0FwaS9JQ29kZXguY3MiLCIuLi9Db2RleC5TZGsuVHlwZXMvU3VwcG9ydC9TZWFyY2hUeXBlRGVzY3JpcHRvcnMuY3MiLCIuLi9Db2RleC5TZGsuVHlwZXMvU2VhcmNoVHlwZXMuY3MiLCIuLi9Db2RleC5TZGsuVHlwZXMvRmlsZS5jcyIsIi4uL0NvZGV4LlNkay5TaGFyZWQvVXRpbGl0aWVzL0NvbGxlY3Rpb25VdGlsaXRpZXMuY3MiLCIuLi9Db2RleC5TZGsuU2hhcmVkL1V0aWxpdGllcy9TZXJpYWxpemF0aW9uVXRpbGl0aWVzLmNzIiwiLi4vQ29kZXguVmlldy5TaGFyZWQvQXBwLmNzIiwiLi4vQ29kZXguVmlldy5TaGFyZWQvVmlld01vZGVscy5jcyIsIi4uL0NvZGV4LlZpZXcuU2hhcmVkL0NvbW1hbmRzLmNzIiwiRWRpdG9ySG9zdENvbnRyb2wuY3MiLCIuLi9Db2RleC5WaWV3LlNoYXJlZC9HcmFudWxhckV4dGVuc2lvbnMuY3MiLCJIdG1sQ29udGVudFZpZXcuY3MiLCJSaWdodFBhbmVWaWV3TW9kZWwuY3MiLCJMZWZ0UGFuZUNvbnRlbnRWaWV3LmNzIiwiTGVmdFBhbmVWaWV3LmNzIiwiLi4vQ29kZXguVmlldy5TaGFyZWQvTWFpbldpbmRvdy54YW1sLmNzIiwiLi4vQ29kZXguVmlldy5TaGFyZWQvUmlnaHRQYW5lVmlldy54YW1sLmNzIiwiLi4vQ29kZXguVmlldy5TaGFyZWQvU3R5bGVzLmNzIiwiVmlld1V0aWxpdGllcy5jcyIsIkh0bWxCdWlsZGVyLmNzIiwiUmVuZGVyQ29udGV4dC5jcyIsIlJlcXVlc3QuY3MiLCJNb25hY28vRWRpdG9yLmNzIiwiTW9uYWNvL2xpYi9Nb25hY28uZC5jcyIsIi4uL0NvZGV4LlNkay5UeXBlcy9FbnRpdHlCYXNlLmNzIiwiTGVmdFBhbmVWaWV3TW9kZWwuY3MiLCJXZWJBcGlDb2RleC5jcyJdLAogICJuYW1lcyI6IFsiIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzRCQWdGa0NBOzs7OztnQkFFdEJBLHlCQUFvQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzRCQ3JETUE7OztnQkFFMUJBLHFCQUFnQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NDckJhQSxHQUFHQSxTQUFTQSxLQUFPQTtvQkFJaERBLElBQUlBLE9BQU9BO3dCQUFNQSxPQUFPQTs7b0JBQ3hCQSxPQUFPQSxLQUFLQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7NEJGbUNtQkE7OztnQkFFL0JBLFlBQU9BOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0QkEwQ2FBOzs7Z0JBRXBCQSxxQkFBZ0JBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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Z0JBLEFBQU9BLDZCQUE4QkEsQUFBT0E7b0JBQzVEQSxnQkFBZ0JBLEFBQU9BLHdDQUF1QkEsQUFBT0E7b0JBQ3JEQSxnQkFBZ0JBLEFBQU9BLDhCQUErQkEsQUFBT0E7b0JBQzdEQSxnQkFBZ0JBLEFBQU9BLHlDQUF3QkEsQUFBT0E7b0JBQ3REQSxnQkFBZ0JBLEFBQU9BLCtCQUFnQ0EsQUFBT0E7b0JBQzlEQSxnQkFBZ0JBLEFBQU9BLDBDQUF5QkEsQUFBT0E7b0JBQ3ZEQSxnQkFBZ0JBLEFBQU9BLDhCQUErQkEsQUFBT0E7b0JBQzdEQSxnQkFBZ0JBLEFBQU9BLHlDQUF3QkEsQUFBT0E7b0JBQ3REQSxnQkFBZ0JBLEFBQU9BLDhCQUErQkEsQUFBT0E7b0JBQzdEQSxnQkFBZ0JBLEFBQU9BLHlDQUF3QkEsQUFBT0E7b0JBQ3REQSxnQkFBZ0JBLEFBQU9BLDJCQUE0QkEsQUFBT0E7b0JBQzFEQSxnQkFBZ0JBLEFBQU9BLHNDQUFxQkEsQUFBT0E7b0JBQ25EQSxnQkFBZ0JBLEFBQU9BLG9DQUFxQ0EsQUFBT0E7b0JBQ25FQSxnQkFBZ0JBLEFBQU9BLCtDQUE4QkEsQUFBT0E7b0JBQzVEQSxnQkFBZ0JBLEFBQU9BLDBCQUEyQkEsQUFBT0E7b0JBQ3pEQSxnQkFBZ0JBLEFBQU9BLHFDQUFvQkEsQUFBT0E7b0JBQ2xEQSxnQkFBZ0JBLEFBQU9BLCtCQUFnQ0EsQUFBT0E7b0JBQzlEQSxnQkFBZ0JBLEFBQU9BLDBDQUF5QkEsQUFBT0E7b0JBQ3ZEQSxnQkFBZ0JBLEFBQU9BLHVCQUF3QkEsQUFBT0E7b0JBQ3REQSxnQkFBZ0JBLEFBQU9BLGtDQUFpQkEsQUFBT0E7b0JBQy9DQSxnQkFBZ0JBLEFBQU9BLDRCQUE2QkEsQUFBT0E7b0JBQzNEQSxnQkFBZ0JBLEFBQU9BLHVDQUFzQkEsQUFBT0E7b0JBQ3BEQSxnQkFBZ0JBLEFBQU9BLDZCQUE4QkEsQUFBT0E7b0JBQzVEQSxnQkFBZ0JBLEFBQU9BLHdDQUF1QkEsQUFBT0E7b0JBQ3JEQSxnQkFBZ0JBLEFBQU9BLDhCQUErQkEsQUFBT0E7b0JBQzdEQSxnQkFBZ0JBLEFBQU9BLHlDQUF3QkEsQUFBT0E7b0JBQ3REQSxnQkFBZ0JBLEFBQU9BLHlCQUEwQkEsQUFBT0E7b0JBQ3hEQSxnQkFBZ0JBLEFBQU9BLG9DQUFtQkEsQUFBT0E7b0JBQ2pEQSxnQkFBZ0JBLEFBQU9BLHdCQUF5QkEsQUFBT0E7b0JBQ3ZEQSxnQkFBZ0JBLEFBQU9BLG1DQUFrQkEsQUFBT0E7b0JBQ2hEQSxnQkFBZ0JBLEFBQU9BLG1CQUFvQkEsQUFBT0E7b0JBQ2xEQSxnQkFBZ0JBLEFBQU9BLDBCQUFTQSxBQUFPQTtvQkFDdkNBLGdCQUFnQkEsQUFBT0EseUNBQTBDQSxBQUFPQTtvQkFDeEVBLGdCQUFnQkEsQUFBT0EseUNBQXdCQSxBQUFPQTtvQkFDdERBLGdCQUFnQkEsQUFBT0Esc0NBQXVDQSxBQUFPQTtvQkFDckVBLGdCQUFnQkEsQUFBT0Esc0NBQXFCQSxBQUFPQTtvQkFDbkRBLGdCQUFnQkEsQUFBT0EsZ0NBQWlDQSxBQUFPQTtvQkFDL0RBLGdCQUFnQkEsQUFBT0EsZ0NBQWVBLEFBQU9BO29CQUM3Q0EsZ0JBQWdCQSxBQUFPQSx5QkFBMEJBLEFBQU9BO29CQUN4REEsZ0JBQWdCQSxBQUFPQSx5QkFBUUEsQUFBT0E7b0JBQ3RDQSxPQUFPQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQ0M1Q3lCQTtvQkFFaENBLGFBQWdCQSxDQUFRQSxBQUFDQSxJQUFRQSx1REFBc0JBLG1CQUFTQSxFQUFRQSxzREFBcUJBO29CQUM3RkEsT0FBT0E7O2lEQUc2Q0E7b0JBRXBEQSxRQUFRQTt3QkFFSkEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTs0QkFDREEsT0FBT0E7d0JBRVhBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBOzRCQUNEQSxPQUFPQTt3QkFFWEE7NEJBQ0lBLE1BQU1BLElBQUlBOzs7Z0RBSWdDQTtvQkFFbERBLFFBQVFBO3dCQUVKQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7d0JBQ0xBLEtBQUtBO3dCQUNMQSxLQUFLQTt3QkFDTEEsS0FBS0E7NEJBQ0RBLE9BQU9BO3dCQUVYQTs7NEJBRUlBLE9BQU9BOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUNqQkEsaURBQTZCQTs7OEJBR1pBOzsrREFDUkE7OzhCQUdRQTs7K0RBQ1JBOzs4QkFHUUE7OytEQUNSQTs7OEJBR1FBOzsrREFDUkE7Ozs7a0NBMERtQkEsU0FBU0E7Z0JBRXJDQSwyQkFBMkJBLEFBQUNBLEFBQXNCQSxBQUFDQTtnQkFDbkRBLG1CQUFtQkEsbUlBQWdIQSxnQkFBV0EsQUFBNEdBO2dCQUEwREE7Z0JBQ3BUQSxvQkFBb0JBLEtBQUlBLG9GQUF3REEsNEJBQXNIQSxBQUFDQSxBQUFzQkEsQUFBQ0EsOENBQW9CQSxBQUErR0E7Z0JBQ2pXQSwyRkFBMEJBLEFBQUNBLFlBQW1CQSxDQUFDQTtnQkFDL0NBLE9BQU9BLEFBQUNBLFlBQVNBLENBQUNBOzs7Ozs7Ozs7bUJBSDZPQSxJQUFJQSx1RkFBNENBOzs7bUJBQ2tTQSxJQUFJQSxxR0FBMERBOzs7bUJBQXpTQSxzSUFBbUhBLEdBQUdBLEFBQStHQSIsCiAgInNvdXJjZXNDb250ZW50IjogWyJ1c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7XHJcblxyXG5uYW1lc3BhY2UgQ29kZXhcclxue1xyXG4gICAgW0F0dHJpYnV0ZVVzYWdlKEF0dHJpYnV0ZVRhcmdldHMuUHJvcGVydHksIEluaGVyaXRlZCA9IGZhbHNlLCBBbGxvd011bHRpcGxlID0gZmFsc2UpXVxyXG4gICAgcHVibGljIHNlYWxlZCBjbGFzcyBTZWFyY2hEZXNjcmlwdG9ySW5saW5lQXR0cmlidXRlIDogQXR0cmlidXRlXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGJvb2wgSW5saW5lO1xyXG5cclxuICAgICAgICBwdWJsaWMgU2VhcmNoRGVzY3JpcHRvcklubGluZUF0dHJpYnV0ZShib29sIGlubGluZSA9IGZhbHNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgSW5saW5lID0gaW5saW5lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBbQXR0cmlidXRlVXNhZ2UoQXR0cmlidXRlVGFyZ2V0cy5Qcm9wZXJ0eSwgSW5oZXJpdGVkID0gZmFsc2UsIEFsbG93TXVsdGlwbGUgPSBmYWxzZSldXHJcbiAgICBwdWJsaWMgc2VhbGVkIGNsYXNzIEVudGl0eUlkQXR0cmlidXRlIDogQXR0cmlidXRlXHJcbiAgICB7XHJcbiAgICB9XHJcblxyXG4gICAgW0F0dHJpYnV0ZVVzYWdlKEF0dHJpYnV0ZVRhcmdldHMuQ2xhc3MsIEluaGVyaXRlZCA9IGZhbHNlLCBBbGxvd011bHRpcGxlID0gZmFsc2UpXVxyXG4gICAgcHVibGljIHNlYWxlZCBjbGFzcyBQbGFjZWhvbGRlckF0dHJpYnV0ZSA6IEF0dHJpYnV0ZVxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIFtBdHRyaWJ1dGVVc2FnZShBdHRyaWJ1dGVUYXJnZXRzLkNsYXNzLCBJbmhlcml0ZWQgPSBmYWxzZSwgQWxsb3dNdWx0aXBsZSA9IGZhbHNlKV1cclxuICAgIHB1YmxpYyBzZWFsZWQgY2xhc3MgU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSA6IEF0dHJpYnV0ZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBUeXBlIFR5cGU7XHJcblxyXG4gICAgICAgIHB1YmxpYyBTZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKFR5cGUgdHlwZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFR5cGUgPSB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBbQXR0cmlidXRlVXNhZ2UoQXR0cmlidXRlVGFyZ2V0cy5JbnRlcmZhY2UsIEluaGVyaXRlZCA9IGZhbHNlLCBBbGxvd011bHRpcGxlID0gZmFsc2UpXVxyXG4gICAgcHVibGljIHNlYWxlZCBjbGFzcyBBZGFwdGVyVHlwZUF0dHJpYnV0ZSA6IEF0dHJpYnV0ZVxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIFtBdHRyaWJ1dGVVc2FnZShBdHRyaWJ1dGVUYXJnZXRzLkludGVyZmFjZSwgSW5oZXJpdGVkID0gZmFsc2UsIEFsbG93TXVsdGlwbGUgPSBmYWxzZSldXHJcbiAgICBwdWJsaWMgc2VhbGVkIGNsYXNzIEdlbmVyYXRlZENsYXNzTmFtZUF0dHJpYnV0ZSA6IEF0dHJpYnV0ZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBzdHJpbmcgTmFtZTtcclxuXHJcbiAgICAgICAgcHVibGljIEdlbmVyYXRlZENsYXNzTmFtZUF0dHJpYnV0ZShzdHJpbmcgbmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5hbWUgPSBuYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gSW5kaWNhdGVzIGFuIGF0dGFjaGVkIHByb3BlcnR5IHdoaWNoIGlzIG5vdCBpbnRyaW5zaWMgdG8gdGhlIHBhcmVudCBvYmplY3QgYW5kIHNob3VsZCBiZVxyXG4gICAgLy8vIGV4Y2x1ZGVkIHdoZW4gY29tcHV0aW5nIHRoZSA8c2VlIGNyZWY9XCJJU2VhcmNoRW50aXR5LkVudGl0eUNvbnRlbnRJZFwiLz5cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBbQXR0cmlidXRlVXNhZ2UoQXR0cmlidXRlVGFyZ2V0cy5Qcm9wZXJ0eSwgSW5oZXJpdGVkID0gZmFsc2UsIEFsbG93TXVsdGlwbGUgPSBmYWxzZSldXHJcbiAgICBwdWJsaWMgc2VhbGVkIGNsYXNzIEF0dGFjaGVkQXR0cmlidXRlIDogQXR0cmlidXRlXHJcbiAgICB7XHJcbiAgICB9XHJcblxyXG4gICAgW0F0dHJpYnV0ZVVzYWdlKEF0dHJpYnV0ZVRhcmdldHMuUHJvcGVydHksIEluaGVyaXRlZCA9IGZhbHNlLCBBbGxvd011bHRpcGxlID0gZmFsc2UpXVxyXG4gICAgcHVibGljIHNlYWxlZCBjbGFzcyBRdWVyeUF0dHJpYnV0ZSA6IEF0dHJpYnV0ZVxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIFtBdHRyaWJ1dGVVc2FnZShBdHRyaWJ1dGVUYXJnZXRzLlByb3BlcnR5LCBJbmhlcml0ZWQgPSBmYWxzZSwgQWxsb3dNdWx0aXBsZSA9IGZhbHNlKV1cclxuICAgIHB1YmxpYyBzZWFsZWQgY2xhc3MgUmVhZE9ubHlMaXN0QXR0cmlidXRlIDogQXR0cmlidXRlXHJcbiAgICB7XHJcbiAgICB9XHJcblxyXG4gICAgW0F0dHJpYnV0ZVVzYWdlKEF0dHJpYnV0ZVRhcmdldHMuUHJvcGVydHksIEluaGVyaXRlZCA9IGZhbHNlLCBBbGxvd011bHRpcGxlID0gZmFsc2UpXVxyXG4gICAgcHVibGljIHNlYWxlZCBjbGFzcyBDb2VyY2VHZXRBdHRyaWJ1dGUgOiBBdHRyaWJ1dGVcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgVHlwZSBDb2VyY2VkU291cmNlVHlwZTtcclxuXHJcbiAgICAgICAgcHVibGljIENvZXJjZUdldEF0dHJpYnV0ZShUeXBlIGNvZXJjZWRTb3VyY2VUeXBlID0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIENvZXJjZWRTb3VyY2VUeXBlID0gY29lcmNlZFNvdXJjZVR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBJbmRpY2F0ZXMgc3RhZ2VzIGZvciB3aGljaCB0aGUgZ2l2ZW4gcHJvcGVydHkgc2hvdWxkIGJlIGluY2x1ZGVkXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0F0dHJpYnV0ZVVzYWdlKEF0dHJpYnV0ZVRhcmdldHMuUHJvcGVydHksIEluaGVyaXRlZCA9IGZhbHNlLCBBbGxvd011bHRpcGxlID0gZmFsc2UpXVxyXG4gICAgcHVibGljIHNlYWxlZCBjbGFzcyBJbmNsdWRlQXR0cmlidXRlIDogQXR0cmlidXRlXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IE9iamVjdFN0YWdlIEFsbG93ZWRTdGFnZXM7XHJcblxyXG4gICAgICAgIHB1YmxpYyBJbmNsdWRlQXR0cmlidXRlKE9iamVjdFN0YWdlIHN0YWdlcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEFsbG93ZWRTdGFnZXMgPSBzdGFnZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFtBdHRyaWJ1dGVVc2FnZShBdHRyaWJ1dGVUYXJnZXRzLlByb3BlcnR5IHwgQXR0cmlidXRlVGFyZ2V0cy5JbnRlcmZhY2UgfCBBdHRyaWJ1dGVUYXJnZXRzLkNsYXNzLCBJbmhlcml0ZWQgPSBmYWxzZSwgQWxsb3dNdWx0aXBsZSA9IGZhbHNlKV1cclxuICAgIHB1YmxpYyBzZWFsZWQgY2xhc3MgUmVxdWlyZWRGb3JBdHRyaWJ1dGUgOiBBdHRyaWJ1dGVcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgT2JqZWN0U3RhZ2UgU3RhZ2VzO1xyXG5cclxuICAgICAgICBwdWJsaWMgUmVxdWlyZWRGb3JBdHRyaWJ1dGUoT2JqZWN0U3RhZ2Ugc3RhZ2VzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU3RhZ2VzID0gc3RhZ2VzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW51bSBPYmplY3RTdGFnZVxyXG4gICAge1xyXG4gICAgICAgIE5vbmUgPSAwLFxyXG4gICAgICAgIEFuYWx5c2lzID0gMSxcclxuICAgICAgICBJbmRleCA9IDEgPDwgMSxcclxuICAgICAgICBTZWFyY2ggPSAxIDw8IDIsXHJcbiAgICAgICAgQWxsID0gU2VhcmNoIHwgSW5kZXggfCBBbmFseXNpc1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbnVtIFNlYXJjaEJlaGF2aW9yXHJcbiAgICB7XHJcbiAgICAgICAgTm9uZSxcclxuICAgICAgICBUZXJtLFxyXG4gICAgICAgIE5vcm1hbGl6ZWRLZXl3b3JkLFxyXG4gICAgICAgIFNvcnR3b3JkLFxyXG4gICAgICAgIEhpZXJhcmNoaWNhbFBhdGgsXHJcbiAgICAgICAgRnVsbFRleHQsXHJcbiAgICAgICAgUHJlZml4LFxyXG4gICAgICAgIFByZWZpeEZ1bGxOYW1lXHJcbiAgICB9XHJcblxyXG4gICAgW0F0dHJpYnV0ZVVzYWdlKEF0dHJpYnV0ZVRhcmdldHMuUHJvcGVydHksIEluaGVyaXRlZCA9IGZhbHNlLCBBbGxvd011bHRpcGxlID0gZmFsc2UpXVxyXG4gICAgcHVibGljIHNlYWxlZCBjbGFzcyBTZWFyY2hCZWhhdmlvckF0dHJpYnV0ZSA6IEF0dHJpYnV0ZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBTZWFyY2hCZWhhdmlvciBCZWhhdmlvcjtcclxuXHJcbiAgICAgICAgcHVibGljIFNlYXJjaEJlaGF2aW9yQXR0cmlidXRlKFNlYXJjaEJlaGF2aW9yIGJlaGF2aW9yKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQmVoYXZpb3IgPSBiZWhhdmlvcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwidXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcblxyXG5uYW1lc3BhY2UgQ29kZXhcclxue1xyXG4gICAgcHVibGljIGVudW0gRGF0YUluY2x1c2lvbk9wdGlvbnNcbiAgICB7XG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gRGF0YSBzaG91bGQgYWx3YXlzIGJlIGluY2x1ZGVkXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgTm9uZSA9IDAsXG4gICAgICAgIERlZmluaXRpb25zID0gMSxcbiAgICAgICAgUmVmZXJlbmNlcyA9IDEgPDwgMSxcbiAgICAgICAgQ2xhc3NpZmljYXRpb25zID0gMSA8PCAyLFxuICAgICAgICBTZWFyY2hEZWZpbml0aW9ucyA9IDEgPDwgMyxcbiAgICAgICAgU2VhcmNoUmVmZXJlbmNlcyA9IDEgPDwgNCxcbiAgICAgICAgQ29udGVudCA9IDEgPDwgNSxcbiAgICAgICAgQWxsID0gRGVmaW5pdGlvbnMgfCBSZWZlcmVuY2VzIHwgQ2xhc3NpZmljYXRpb25zIHwgU2VhcmNoRGVmaW5pdGlvbnMgfCBTZWFyY2hSZWZlcmVuY2VzIHwgQ29udGVudCxcblxuICAgICAgICAvLyBEZWZhdWx0IGRvZXMgbm90IGluY2x1ZGUgZGVmaW5pdGlvbnMgc2luY2UgdGhleSBjYW4gYmUgcXVlcmllZCBsYXppbHkgcmF0aGVyIHRoYW4gZWFnZXJseSByZXRyaWV2ZWQuXG4gICAgICAgIERlZmF1bHQgPSBSZWZlcmVuY2VzIHwgQ2xhc3NpZmljYXRpb25zIHwgU2VhcmNoRGVmaW5pdGlvbnMgfCBTZWFyY2hSZWZlcmVuY2VzIHwgQ29udGVudFxuICAgIH1cclxuXHJcbiAgICBbQXR0cmlidXRlVXNhZ2UoQXR0cmlidXRlVGFyZ2V0cy5Qcm9wZXJ0eSwgSW5oZXJpdGVkID0gZmFsc2UsIEFsbG93TXVsdGlwbGUgPSBmYWxzZSldXHJcbiAgICBwdWJsaWMgc2VhbGVkIGNsYXNzIERhdGFJbmNsdXNpb25BdHRyaWJ1dGUgOiBBdHRyaWJ1dGVcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgRGF0YUluY2x1c2lvbk9wdGlvbnMgRGF0YUluY2x1c2lvbjtcclxuXHJcbiAgICAgICAgcHVibGljIERhdGFJbmNsdXNpb25BdHRyaWJ1dGUoRGF0YUluY2x1c2lvbk9wdGlvbnMgZGF0YUluY2x1c2lvbilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIERhdGFJbmNsdXNpb24gPSBkYXRhSW5jbHVzaW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJ1c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7XHJcblxyXG5uYW1lc3BhY2UgQ29kZXhcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBjbGFzcyBFbnRpdHlVdGlsaXRpZXNcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIFRUYXJnZXQgTnVsbE9yQ29weTxULCBUVGFyZ2V0PihUIG9iaiwgRnVuYzxULCBUVGFyZ2V0PiBjb3B5KVxyXG4gICAgICAgICAgICB3aGVyZSBUIDogY2xhc3NcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IGNsYXNzLCBUXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAob2JqID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gY29weShvYmopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIDxhdXRvLWdlbmVyYXRlZD5cclxuLy8gICAgIFRoaXMgY29kZSB3YXMgZ2VuZXJhdGVkIGJ5IGEgdG9vbC5cclxuLy8gICAgIFJ1bnRpbWUgVmVyc2lvbjo0LjAuMzAzMTkuNDIwMDBcclxuLy9cclxuLy8gICAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIG1heSBjYXVzZSBpbmNvcnJlY3QgYmVoYXZpb3IgYW5kIHdpbGwgYmUgbG9zdCBpZlxyXG4vLyAgICAgdGhlIGNvZGUgaXMgcmVnZW5lcmF0ZWQuXHJcbi8vIDwvYXV0by1nZW5lcmF0ZWQ+XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5uYW1lc3BhY2UgQ29kZXguT2JqZWN0TW9kZWwge1xyXG4gICAgdXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxuICAgIHVzaW5nIENvZGV4LkZyYW1ld29yay5UeXBlcztcclxuICAgIFxyXG4gICAgXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBDb2RleFR5cGVVdGlsaXRpZXMge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seURpY3Rpb25hcnk8U3lzdGVtLlR5cGUsIFN5c3RlbS5UeXBlPiBzX3R5cGVNYXBwaW5ncyA9IENyZWF0ZVR5cGVNYXBwaW5nKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuRGljdGlvbmFyeTxTeXN0ZW0uVHlwZSwgU3lzdGVtLlR5cGU+IENyZWF0ZVR5cGVNYXBwaW5nKCkge1xyXG4gICAgICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5EaWN0aW9uYXJ5PFN5c3RlbS5UeXBlLCBTeXN0ZW0uVHlwZT4gdHlwZU1hcHBpbmcgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuRGljdGlvbmFyeTxTeXN0ZW0uVHlwZSwgU3lzdGVtLlR5cGU+KCk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSUNvbW1pdCksIHR5cGVvZihDb21taXQpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb21taXQpLCB0eXBlb2YoQ29kZXguSUNvbW1pdCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklDb21taXRDaGFuZ2VkRmlsZSksIHR5cGVvZihDb21taXRDaGFuZ2VkRmlsZSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvbW1pdENoYW5nZWRGaWxlKSwgdHlwZW9mKENvZGV4LklDb21taXRDaGFuZ2VkRmlsZSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklDb21taXRGaWxlTGluayksIHR5cGVvZihDb21taXRGaWxlTGluaykpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvbW1pdEZpbGVMaW5rKSwgdHlwZW9mKENvZGV4LklDb21taXRGaWxlTGluaykpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklCcmFuY2gpLCB0eXBlb2YoQnJhbmNoKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQnJhbmNoKSwgdHlwZW9mKENvZGV4LklCcmFuY2gpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JQm91bmRTb3VyY2VGaWxlKSwgdHlwZW9mKEJvdW5kU291cmNlRmlsZSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKEJvdW5kU291cmNlRmlsZSksIHR5cGVvZihDb2RleC5JQm91bmRTb3VyY2VGaWxlKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSUJvdW5kU291cmNlSW5mbyksIHR5cGVvZihCb3VuZFNvdXJjZUluZm8pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihCb3VuZFNvdXJjZUluZm8pLCB0eXBlb2YoQ29kZXguSUJvdW5kU291cmNlSW5mbykpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklTb3VyY2VDb250cm9sRmlsZUluZm8pLCB0eXBlb2YoU291cmNlQ29udHJvbEZpbGVJbmZvKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoU291cmNlQ29udHJvbEZpbGVJbmZvKSwgdHlwZW9mKENvZGV4LklTb3VyY2VDb250cm9sRmlsZUluZm8pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JU291cmNlRmlsZUluZm8pLCB0eXBlb2YoU291cmNlRmlsZUluZm8pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihTb3VyY2VGaWxlSW5mbyksIHR5cGVvZihDb2RleC5JU291cmNlRmlsZUluZm8pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JRW5jb2RpbmdEZXNjcmlwdGlvbiksIHR5cGVvZihFbmNvZGluZ0Rlc2NyaXB0aW9uKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoRW5jb2RpbmdEZXNjcmlwdGlvbiksIHR5cGVvZihDb2RleC5JRW5jb2RpbmdEZXNjcmlwdGlvbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklTb3VyY2VGaWxlKSwgdHlwZW9mKFNvdXJjZUZpbGUpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihTb3VyY2VGaWxlKSwgdHlwZW9mKENvZGV4LklTb3VyY2VGaWxlKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSU91dGxpbmluZ1JlZ2lvbiksIHR5cGVvZihPdXRsaW5pbmdSZWdpb24pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihPdXRsaW5pbmdSZWdpb24pLCB0eXBlb2YoQ29kZXguSU91dGxpbmluZ1JlZ2lvbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklEZWZpbml0aW9uU3BhbiksIHR5cGVvZihEZWZpbml0aW9uU3BhbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKERlZmluaXRpb25TcGFuKSwgdHlwZW9mKENvZGV4LklEZWZpbml0aW9uU3BhbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklQYXJhbWV0ZXJEZWZpbml0aW9uU3BhbiksIHR5cGVvZihQYXJhbWV0ZXJEZWZpbml0aW9uU3BhbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFBhcmFtZXRlckRlZmluaXRpb25TcGFuKSwgdHlwZW9mKENvZGV4LklQYXJhbWV0ZXJEZWZpbml0aW9uU3BhbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklSZWZlcmVuY2VTcGFuKSwgdHlwZW9mKFJlZmVyZW5jZVNwYW4pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihSZWZlcmVuY2VTcGFuKSwgdHlwZW9mKENvZGV4LklSZWZlcmVuY2VTcGFuKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVBhcmFtZXRlclJlZmVyZW5jZVNwYW4pLCB0eXBlb2YoUGFyYW1ldGVyUmVmZXJlbmNlU3BhbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFBhcmFtZXRlclJlZmVyZW5jZVNwYW4pLCB0eXBlb2YoQ29kZXguSVBhcmFtZXRlclJlZmVyZW5jZVNwYW4pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JQ2xhc3NpZmljYXRpb25TcGFuKSwgdHlwZW9mKENsYXNzaWZpY2F0aW9uU3BhbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENsYXNzaWZpY2F0aW9uU3BhbiksIHR5cGVvZihDb2RleC5JQ2xhc3NpZmljYXRpb25TcGFuKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVN5bWJvbFNwYW4pLCB0eXBlb2YoU3ltYm9sU3BhbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFN5bWJvbFNwYW4pLCB0eXBlb2YoQ29kZXguSVN5bWJvbFNwYW4pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JVGV4dExpbmVTcGFuKSwgdHlwZW9mKFRleHRMaW5lU3BhbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFRleHRMaW5lU3BhbiksIHR5cGVvZihDb2RleC5JVGV4dExpbmVTcGFuKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSUxpbmVTcGFuKSwgdHlwZW9mKExpbmVTcGFuKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoTGluZVNwYW4pLCB0eXBlb2YoQ29kZXguSUxpbmVTcGFuKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVNwYW4pLCB0eXBlb2YoU3BhbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFNwYW4pLCB0eXBlb2YoQ29kZXguSVNwYW4pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JQ29kZVJldmlldyksIHR5cGVvZihDb2RlUmV2aWV3KSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZVJldmlldyksIHR5cGVvZihDb2RleC5JQ29kZVJldmlldykpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklDb2RlUmV2aWV3SXRlcmF0aW9uKSwgdHlwZW9mKENvZGVSZXZpZXdJdGVyYXRpb24pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RlUmV2aWV3SXRlcmF0aW9uKSwgdHlwZW9mKENvZGV4LklDb2RlUmV2aWV3SXRlcmF0aW9uKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSUNvZGVSZXZpZXdlckluZm8pLCB0eXBlb2YoQ29kZVJldmlld2VySW5mbykpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGVSZXZpZXdlckluZm8pLCB0eXBlb2YoQ29kZXguSUNvZGVSZXZpZXdlckluZm8pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JQ29kZVJldmlld0ZpbGUpLCB0eXBlb2YoQ29kZVJldmlld0ZpbGUpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RlUmV2aWV3RmlsZSksIHR5cGVvZihDb2RleC5JQ29kZVJldmlld0ZpbGUpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JQ29kZVJldmlld0NvbW1lbnRUaHJlYWQpLCB0eXBlb2YoQ29kZVJldmlld0NvbW1lbnRUaHJlYWQpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RlUmV2aWV3Q29tbWVudFRocmVhZCksIHR5cGVvZihDb2RleC5JQ29kZVJldmlld0NvbW1lbnRUaHJlYWQpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JQ29kZVJldmlld0NvbW1lbnQpLCB0eXBlb2YoQ29kZVJldmlld0NvbW1lbnQpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RlUmV2aWV3Q29tbWVudCksIHR5cGVvZihDb2RleC5JQ29kZVJldmlld0NvbW1lbnQpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JTGFuZ3VhZ2VJbmZvKSwgdHlwZW9mKExhbmd1YWdlSW5mbykpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKExhbmd1YWdlSW5mbyksIHR5cGVvZihDb2RleC5JTGFuZ3VhZ2VJbmZvKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSUNsYXNzaWZpY2F0aW9uU3R5bGUpLCB0eXBlb2YoQ2xhc3NpZmljYXRpb25TdHlsZSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENsYXNzaWZpY2F0aW9uU3R5bGUpLCB0eXBlb2YoQ29kZXguSUNsYXNzaWZpY2F0aW9uU3R5bGUpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JUHJvamVjdCksIHR5cGVvZihBbmFseXplZFByb2plY3QpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihBbmFseXplZFByb2plY3QpLCB0eXBlb2YoQ29kZXguSVByb2plY3QpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JUmVmZXJlbmNlZFByb2plY3QpLCB0eXBlb2YoUmVmZXJlbmNlZFByb2plY3QpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihSZWZlcmVuY2VkUHJvamVjdCksIHR5cGVvZihDb2RleC5JUmVmZXJlbmNlZFByb2plY3QpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JUHJvamVjdEZpbGVMaW5rKSwgdHlwZW9mKFByb2plY3RGaWxlTGluaykpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFByb2plY3RGaWxlTGluayksIHR5cGVvZihDb2RleC5JUHJvamVjdEZpbGVMaW5rKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSURvY3VtZW50YXRpb25JbmZvKSwgdHlwZW9mKERvY3VtZW50YXRpb25JbmZvKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoRG9jdW1lbnRhdGlvbkluZm8pLCB0eXBlb2YoQ29kZXguSURvY3VtZW50YXRpb25JbmZvKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVBhcmFtZXRlckRvY3VtZW50YXRpb24pLCB0eXBlb2YoUGFyYW1ldGVyRG9jdW1lbnRhdGlvbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFBhcmFtZXRlckRvY3VtZW50YXRpb24pLCB0eXBlb2YoQ29kZXguSVBhcmFtZXRlckRvY3VtZW50YXRpb24pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uKSwgdHlwZW9mKFR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiksIHR5cGVvZihDb2RleC5JVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSURvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wpLCB0eXBlb2YoRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKERvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wpLCB0eXBlb2YoQ29kZXguSURvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JUHJvcGVydHlTZWFyY2hNb2RlbCksIHR5cGVvZihQcm9wZXJ0eVNlYXJjaE1vZGVsKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoUHJvcGVydHlTZWFyY2hNb2RlbCksIHR5cGVvZihDb2RleC5JUHJvcGVydHlTZWFyY2hNb2RlbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklQcm9wZXJ0eU1hcCksIHR5cGVvZihQcm9wZXJ0eU1hcCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFByb3BlcnR5TWFwKSwgdHlwZW9mKENvZGV4LklQcm9wZXJ0eU1hcCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklSZXBvc2l0b3J5KSwgdHlwZW9mKFJlcG9zaXRvcnkpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihSZXBvc2l0b3J5KSwgdHlwZW9mKENvZGV4LklSZXBvc2l0b3J5KSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVJlcG9zaXRvcnlSZWZlcmVuY2UpLCB0eXBlb2YoUmVwb3NpdG9yeVJlZmVyZW5jZSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFJlcG9zaXRvcnlSZWZlcmVuY2UpLCB0eXBlb2YoQ29kZXguSVJlcG9zaXRvcnlSZWZlcmVuY2UpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JU2VhcmNoRW50aXR5KSwgdHlwZW9mKFNlYXJjaEVudGl0eSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFNlYXJjaEVudGl0eSksIHR5cGVvZihDb2RleC5JU2VhcmNoRW50aXR5KSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVJlcG9TY29wZUVudGl0eSksIHR5cGVvZihSZXBvU2NvcGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihSZXBvU2NvcGVFbnRpdHkpLCB0eXBlb2YoQ29kZXguSVJlcG9TY29wZUVudGl0eSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklDb21taXRTY29wZUVudGl0eSksIHR5cGVvZihDb21taXRTY29wZUVudGl0eSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvbW1pdFNjb3BlRW50aXR5KSwgdHlwZW9mKENvZGV4LklDb21taXRTY29wZUVudGl0eSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkpLCB0eXBlb2YoUHJvamVjdFNjb3BlRW50aXR5KSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoUHJvamVjdFNjb3BlRW50aXR5KSwgdHlwZW9mKENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JUmVwb0ZpbGVTY29wZUVudGl0eSksIHR5cGVvZihSZXBvRmlsZVNjb3BlRW50aXR5KSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoUmVwb0ZpbGVTY29wZUVudGl0eSksIHR5cGVvZihDb2RleC5JUmVwb0ZpbGVTY29wZUVudGl0eSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5KSwgdHlwZW9mKFByb2plY3RGaWxlU2NvcGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihQcm9qZWN0RmlsZVNjb3BlRW50aXR5KSwgdHlwZW9mKENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5KSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVJlZ2lzdGVyZWRFbnRpdHkpLCB0eXBlb2YoUmVnaXN0ZXJlZEVudGl0eSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFJlZ2lzdGVyZWRFbnRpdHkpLCB0eXBlb2YoQ29kZXguSVJlZ2lzdGVyZWRFbnRpdHkpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JU3RvcmVkRmlsdGVyKSwgdHlwZW9mKFN0b3JlZEZpbHRlcikpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFN0b3JlZEZpbHRlciksIHR5cGVvZihDb2RleC5JU3RvcmVkRmlsdGVyKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSURlZmluaXRpb25TZWFyY2hNb2RlbCksIHR5cGVvZihEZWZpbml0aW9uU2VhcmNoTW9kZWwpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihEZWZpbml0aW9uU2VhcmNoTW9kZWwpLCB0eXBlb2YoQ29kZXguSURlZmluaXRpb25TZWFyY2hNb2RlbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklMYW5ndWFnZVNlYXJjaE1vZGVsKSwgdHlwZW9mKExhbmd1YWdlU2VhcmNoTW9kZWwpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihMYW5ndWFnZVNlYXJjaE1vZGVsKSwgdHlwZW9mKENvZGV4LklMYW5ndWFnZVNlYXJjaE1vZGVsKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVJlZmVyZW5jZVNlYXJjaE1vZGVsKSwgdHlwZW9mKFJlZmVyZW5jZVNlYXJjaE1vZGVsKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoUmVmZXJlbmNlU2VhcmNoTW9kZWwpLCB0eXBlb2YoQ29kZXguSVJlZmVyZW5jZVNlYXJjaE1vZGVsKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVNvdXJjZVNlYXJjaE1vZGVsQmFzZSksIHR5cGVvZihTb3VyY2VTZWFyY2hNb2RlbEJhc2UpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihTb3VyY2VTZWFyY2hNb2RlbEJhc2UpLCB0eXBlb2YoQ29kZXguSVNvdXJjZVNlYXJjaE1vZGVsQmFzZSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklCb3VuZFNvdXJjZVNlYXJjaE1vZGVsKSwgdHlwZW9mKEJvdW5kU291cmNlU2VhcmNoTW9kZWwpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihCb3VuZFNvdXJjZVNlYXJjaE1vZGVsKSwgdHlwZW9mKENvZGV4LklCb3VuZFNvdXJjZVNlYXJjaE1vZGVsKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVRleHRTb3VyY2VTZWFyY2hNb2RlbCksIHR5cGVvZihUZXh0U291cmNlU2VhcmNoTW9kZWwpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihUZXh0U291cmNlU2VhcmNoTW9kZWwpLCB0eXBlb2YoQ29kZXguSVRleHRTb3VyY2VTZWFyY2hNb2RlbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklSZXBvc2l0b3J5U2VhcmNoTW9kZWwpLCB0eXBlb2YoUmVwb3NpdG9yeVNlYXJjaE1vZGVsKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoUmVwb3NpdG9yeVNlYXJjaE1vZGVsKSwgdHlwZW9mKENvZGV4LklSZXBvc2l0b3J5U2VhcmNoTW9kZWwpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JUHJvamVjdFNlYXJjaE1vZGVsKSwgdHlwZW9mKFByb2plY3RTZWFyY2hNb2RlbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFByb2plY3RTZWFyY2hNb2RlbCksIHR5cGVvZihDb2RleC5JUHJvamVjdFNlYXJjaE1vZGVsKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbCksIHR5cGVvZihQcm9qZWN0UmVmZXJlbmNlU2VhcmNoTW9kZWwpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihQcm9qZWN0UmVmZXJlbmNlU2VhcmNoTW9kZWwpLCB0eXBlb2YoQ29kZXguSVByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklDb21taXRTZWFyY2hNb2RlbCksIHR5cGVvZihDb21taXRTZWFyY2hNb2RlbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvbW1pdFNlYXJjaE1vZGVsKSwgdHlwZW9mKENvZGV4LklDb21taXRTZWFyY2hNb2RlbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LklDb21taXRGaWxlc1NlYXJjaE1vZGVsKSwgdHlwZW9mKENvbW1pdEZpbGVzU2VhcmNoTW9kZWwpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb21taXRGaWxlc1NlYXJjaE1vZGVsKSwgdHlwZW9mKENvZGV4LklDb21taXRGaWxlc1NlYXJjaE1vZGVsKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSUZpbGVTdGF0aXN0aWNzKSwgdHlwZW9mKEZpbGVTdGF0aXN0aWNzKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoRmlsZVN0YXRpc3RpY3MpLCB0eXBlb2YoQ29kZXguSUZpbGVTdGF0aXN0aWNzKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSVJlcG9zaXRvcnlTdG9yZUluZm8pLCB0eXBlb2YoUmVwb3NpdG9yeVN0b3JlSW5mbykpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFJlcG9zaXRvcnlTdG9yZUluZm8pLCB0eXBlb2YoQ29kZXguSVJlcG9zaXRvcnlTdG9yZUluZm8pKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JQ29tbWl0RmlsZXNEaXJlY3RvcnkpLCB0eXBlb2YoQ29tbWl0RmlsZXNEaXJlY3RvcnkpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb21taXRGaWxlc0RpcmVjdG9yeSksIHR5cGVvZihDb2RleC5JQ29tbWl0RmlsZXNEaXJlY3RvcnkpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JU3RvcmVkQm91bmRTb3VyY2VGaWxlKSwgdHlwZW9mKFN0b3JlZEJvdW5kU291cmNlRmlsZSkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFN0b3JlZEJvdW5kU291cmNlRmlsZSksIHR5cGVvZihDb2RleC5JU3RvcmVkQm91bmRTb3VyY2VGaWxlKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSURlZmluaXRpb25TeW1ib2wpLCB0eXBlb2YoRGVmaW5pdGlvblN5bWJvbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKERlZmluaXRpb25TeW1ib2wpLCB0eXBlb2YoQ29kZXguSURlZmluaXRpb25TeW1ib2wpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5JUmVmZXJlbmNlU3ltYm9sKSwgdHlwZW9mKFJlZmVyZW5jZVN5bWJvbCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFJlZmVyZW5jZVN5bWJvbCksIHR5cGVvZihDb2RleC5JUmVmZXJlbmNlU3ltYm9sKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguSUNvZGVTeW1ib2wpLCB0eXBlb2YoU3ltYm9sKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoU3ltYm9sKSwgdHlwZW9mKENvZGV4LklDb2RlU3ltYm9sKSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguU2RrLlNlYXJjaC5JUmVmZXJlbmNlU2VhcmNoUmVzdWx0KSwgdHlwZW9mKFJlZmVyZW5jZVNlYXJjaFJlc3VsdCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKFJlZmVyZW5jZVNlYXJjaFJlc3VsdCksIHR5cGVvZihDb2RleC5TZGsuU2VhcmNoLklSZWZlcmVuY2VTZWFyY2hSZXN1bHQpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihDb2RleC5TZGsuU2VhcmNoLklUZXh0TGluZVNwYW5SZXN1bHQpLCB0eXBlb2YoVGV4dExpbmVTcGFuUmVzdWx0KSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoVGV4dExpbmVTcGFuUmVzdWx0KSwgdHlwZW9mKENvZGV4LlNkay5TZWFyY2guSVRleHRMaW5lU3BhblJlc3VsdCkpO1xyXG4gICAgICAgICAgICB0eXBlTWFwcGluZy5BZGQodHlwZW9mKENvZGV4LlNkay5TZWFyY2guSVNlYXJjaFJlc3VsdCksIHR5cGVvZihTZWFyY2hSZXN1bHQpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihTZWFyY2hSZXN1bHQpLCB0eXBlb2YoQ29kZXguU2RrLlNlYXJjaC5JU2VhcmNoUmVzdWx0KSk7XHJcbiAgICAgICAgICAgIHR5cGVNYXBwaW5nLkFkZCh0eXBlb2YoQ29kZXguU2RrLlNlYXJjaC5JSW5kZXgpLCB0eXBlb2YoSW5kZXgpKTtcclxuICAgICAgICAgICAgdHlwZU1hcHBpbmcuQWRkKHR5cGVvZihJbmRleCksIHR5cGVvZihDb2RleC5TZGsuU2VhcmNoLklJbmRleCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZU1hcHBpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gRGVzY3JpYmVzIGEgY29tbWl0IGluIHZlcnNpb24gY29udHJvbFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JQ29tbWl0KSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBDb21taXQgOiBDb21taXRTY29wZUVudGl0eSwgQ29kZXguSUNvbW1pdCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9EZXNjcmlwdGlvbjtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5EYXRlVGltZSBtX0RhdGVVcGxvYWRlZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5EYXRlVGltZSBtX0RhdGVDb21taXR0ZWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PHN0cmluZz4gbV9QYXJlbnRDb21taXRJZHMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxzdHJpbmc+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PENvbW1pdENoYW5nZWRGaWxlPiBtX0NoYW5nZWRGaWxlcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PENvbW1pdENoYW5nZWRGaWxlPigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb21taXQoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb21taXQoQ29kZXguSUNvbW1pdCB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPENvbW1pdD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29tbWl0KENvZGV4LklDb21taXRTY29wZUVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvbW1pdChDb2RleC5JUmVwb1Njb3BlRW50aXR5IHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBjb21taXQgZGVzY3JpcHRpb24gZGVzY3JpYmluZyB0aGUgY2hhbmdlc1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIERlc2NyaXB0aW9uIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9EZXNjcmlwdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGRhdGUgdGhlIGNvbW1pdCB3YXMgc3RvcmVkIHRvIHRoZSBpbmRleFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkRhdGVUaW1lIERhdGVVcGxvYWRlZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0RhdGVVcGxvYWRlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0RhdGVVcGxvYWRlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGRhdGUgb2YgdGhlIGNvbW1pdFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkRhdGVUaW1lIERhdGVDb21taXR0ZWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9EYXRlQ29tbWl0dGVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRGF0ZUNvbW1pdHRlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIDxzZWUgY3JlZj1cIlA6Q29kZXguSUNvbW1pdFNjb3BlRW50aXR5LkNvbW1pdElkXCIgLz4gb2YgdGhlIHBhcmVudCBjb21taXRzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PHN0cmluZz4gQ29kZXguSUNvbW1pdC5QYXJlbnRDb21taXRJZHMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuUGFyZW50Q29tbWl0SWRzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIDxzZWUgY3JlZj1cIlA6Q29kZXguSUNvbW1pdFNjb3BlRW50aXR5LkNvbW1pdElkXCIgLz4gb2YgdGhlIHBhcmVudCBjb21taXRzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PHN0cmluZz4gUGFyZW50Q29tbWl0SWRzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUGFyZW50Q29tbWl0SWRzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUGFyZW50Q29tbWl0SWRzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZmlsZXMgY2hhbmdlZCBpbiB0aGUgY29tbWl0XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PENvZGV4LklDb21taXRDaGFuZ2VkRmlsZT4gQ29kZXguSUNvbW1pdC5DaGFuZ2VkRmlsZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ2hhbmdlZEZpbGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGZpbGVzIGNoYW5nZWQgaW4gdGhlIGNvbW1pdFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb21taXRDaGFuZ2VkRmlsZT4gQ2hhbmdlZEZpbGVzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQ2hhbmdlZEZpbGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ2hhbmdlZEZpbGVzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQ29tbWl0IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogQ29tbWl0IHtcclxuICAgICAgICAgICAgdGhpcy5tX0Rlc2NyaXB0aW9uID0gKChDb2RleC5JQ29tbWl0KSh2YWx1ZSkpLkRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLm1fRGF0ZVVwbG9hZGVkID0gKChDb2RleC5JQ29tbWl0KSh2YWx1ZSkpLkRhdGVVcGxvYWRlZDtcclxuICAgICAgICAgICAgdGhpcy5tX0RhdGVDb21taXR0ZWQgPSAoKENvZGV4LklDb21taXQpKHZhbHVlKSkuRGF0ZUNvbW1pdHRlZDtcclxuICAgICAgICAgICAgdGhpcy5tX1BhcmVudENvbW1pdElkcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PHN0cmluZz4oKChDb2RleC5JQ29tbWl0KSh2YWx1ZSkpLlBhcmVudENvbW1pdElkcyk7XHJcbiAgICAgICAgICAgIHRoaXMubV9DaGFuZ2VkRmlsZXMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb21taXRDaGFuZ2VkRmlsZT4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JQ29tbWl0Q2hhbmdlZEZpbGUsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Db21taXRDaGFuZ2VkRmlsZT4oKChDb2RleC5JQ29tbWl0KSh2YWx1ZSkpLkNoYW5nZWRGaWxlcywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JQ29tbWl0Q2hhbmdlZEZpbGUsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ29tbWl0Q2hhbmdlZEZpbGU+KSh2ID0+IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguSUNvbW1pdENoYW5nZWRGaWxlLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ29tbWl0Q2hhbmdlZEZpbGU+KHYsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSUNvbW1pdENoYW5nZWRGaWxlLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdENoYW5nZWRGaWxlPikoX3YgPT4gbmV3IENvbW1pdENoYW5nZWRGaWxlKCkuQ29weUZyb208Q29tbWl0Q2hhbmdlZEZpbGU+KF92KSkpKSkpO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPENvbW1pdFNjb3BlRW50aXR5PigoKENvZGV4LklDb21taXRTY29wZUVudGl0eSkodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBSZXByZXNlbnRzIGEgY2hhbmdlZCBmaWxlIGluIGEgY29tbWl0XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklDb21taXRDaGFuZ2VkRmlsZSkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgQ29tbWl0Q2hhbmdlZEZpbGUgOiBDb21taXRGaWxlTGluaywgQ29kZXguSUNvbW1pdENoYW5nZWRGaWxlIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIENvZGV4LkZpbGVDaGFuZ2VLaW5kIG1fQ2hhbmdlS2luZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX09yaWdpbmFsRmlsZVBhdGg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvbW1pdENoYW5nZWRGaWxlKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29tbWl0Q2hhbmdlZEZpbGUoQ29kZXguSUNvbW1pdENoYW5nZWRGaWxlIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208Q29tbWl0Q2hhbmdlZEZpbGU+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvbW1pdENoYW5nZWRGaWxlKENvZGV4LklDb21taXRGaWxlTGluayB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgdHlwZSBvZiBjaGFuZ2UgYXBwbGllZCB0byB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgQ29kZXguRmlsZUNoYW5nZUtpbmQgQ2hhbmdlS2luZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NoYW5nZUtpbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9DaGFuZ2VLaW5kID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBGb3IgYSByZW5hbWVkIGZpbGUsIHRoZSBwYXRoIHRvIHRoZSBmaWxlIHByaW9yIHRvIHRoZSByZW5hbWVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBPcmlnaW5hbEZpbGVQYXRoIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fT3JpZ2luYWxGaWxlUGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX09yaWdpbmFsRmlsZVBhdGggPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklDb21taXRDaGFuZ2VkRmlsZSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IENvbW1pdENoYW5nZWRGaWxlIHtcclxuICAgICAgICAgICAgdGhpcy5tX0NoYW5nZUtpbmQgPSAoKENvZGV4LklDb21taXRDaGFuZ2VkRmlsZSkodmFsdWUpKS5DaGFuZ2VLaW5kO1xyXG4gICAgICAgICAgICB0aGlzLm1fT3JpZ2luYWxGaWxlUGF0aCA9ICgoQ29kZXguSUNvbW1pdENoYW5nZWRGaWxlKSh2YWx1ZSkpLk9yaWdpbmFsRmlsZVBhdGg7XHJcbiAgICAgICAgICAgIGJhc2UuQ29weUZyb208Q29tbWl0RmlsZUxpbms+KCgoQ29kZXguSUNvbW1pdEZpbGVMaW5rKSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIFJlcHJlc2VudHMgYSB2ZXJzaW9uIG9mIGEgcmVwb3NpdG9yeSBmaWxlIGZvciBhIGNvbW1pdFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JQ29tbWl0RmlsZUxpbmspKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIENvbW1pdEZpbGVMaW5rIDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSUNvbW1pdEZpbGVMaW5rIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1JlcG9SZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9GaWxlSWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9WZXJzaW9uQ29udHJvbEZpbGVJZDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29tbWl0RmlsZUxpbmsoKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvbW1pdEZpbGVMaW5rKENvZGV4LklDb21taXRGaWxlTGluayB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208Q29tbWl0RmlsZUxpbms+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcmVsYXRpdmUgcGF0aCBpbiB0aGUgcmVwb3NpdG9yeSB0byB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFJlcG9SZWxhdGl2ZVBhdGgge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUmVwb1JlbGF0aXZlUGF0aCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVW5pcXVlIGlkZW50aWZlciBmb3IgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIEZpbGVJZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0ZpbGVJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0ZpbGVJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVW5pcXVlIGlkZW50aWZlciBmb3IgZmlsZSBjb250ZW50IGFzIGRldGVybWluZWQgYnkgdmVyc2lvbiBjb250cm9sXHJcbiAgICAgICAgLy8vIChpLmUuIHRoZSBibG9iIGhhc2gpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgVmVyc2lvbkNvbnRyb2xGaWxlSWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9WZXJzaW9uQ29udHJvbEZpbGVJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1ZlcnNpb25Db250cm9sRmlsZUlkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQ29tbWl0RmlsZUxpbmsgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDb21taXRGaWxlTGluayB7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoID0gKChDb2RleC5JQ29tbWl0RmlsZUxpbmspKHZhbHVlKSkuUmVwb1JlbGF0aXZlUGF0aDtcclxuICAgICAgICAgICAgdGhpcy5tX0ZpbGVJZCA9ICgoQ29kZXguSUNvbW1pdEZpbGVMaW5rKSh2YWx1ZSkpLkZpbGVJZDtcclxuICAgICAgICAgICAgdGhpcy5tX1ZlcnNpb25Db250cm9sRmlsZUlkID0gKChDb2RleC5JQ29tbWl0RmlsZUxpbmspKHZhbHVlKSkuVmVyc2lvbkNvbnRyb2xGaWxlSWQ7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBEZXNjcmliZXMgYSBicmFuY2ggaW4gYSByZXBvc2l0b3J5XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklCcmFuY2gpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIEJyYW5jaCA6IENvZGV4LkVudGl0eUJhc2UsIENvZGV4LklCcmFuY2gge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fTmFtZTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0Rlc2NyaXB0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fSGVhZENvbW1pdElkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBCcmFuY2goKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIEJyYW5jaChDb2RleC5JQnJhbmNoIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxCcmFuY2g+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgbmFtZSBvZiB0aGUgYnJhbmNoXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgTmFtZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX05hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9OYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgYnJhbmNoIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgRGVzY3JpcHRpb24ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9EZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0Rlc2NyaXB0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaGVhZCBjb21taXQgb2YgdGhlIGJyYW5jaFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIEhlYWRDb21taXRJZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0hlYWRDb21taXRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0hlYWRDb21taXRJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSUJyYW5jaCB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IEJyYW5jaCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9OYW1lID0gKChDb2RleC5JQnJhbmNoKSh2YWx1ZSkpLk5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMubV9EZXNjcmlwdGlvbiA9ICgoQ29kZXguSUJyYW5jaCkodmFsdWUpKS5EZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5tX0hlYWRDb21taXRJZCA9ICgoQ29kZXguSUJyYW5jaCkodmFsdWUpKS5IZWFkQ29tbWl0SWQ7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBSZXByZXNlbnRzIGEgc291cmNlIGZpbGUgd2l0aCBhc3NvY2lhdGVkIHNlbWFudGljIGJpbmRpbmdzXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklCb3VuZFNvdXJjZUZpbGUpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIEJvdW5kU291cmNlRmlsZSA6IEJvdW5kU291cmNlSW5mbywgQ29kZXguSUJvdW5kU291cmNlRmlsZSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTb3VyY2VGaWxlIG1fU291cmNlRmlsZTtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQm91bmRTb3VyY2VGaWxlKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQm91bmRTb3VyY2VGaWxlKENvZGV4LklCb3VuZFNvdXJjZUZpbGUgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxCb3VuZFNvdXJjZUZpbGU+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIEJvdW5kU291cmNlRmlsZShDb2RleC5JQm91bmRTb3VyY2VJbmZvIHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQm91bmRTb3VyY2VGaWxlKENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5IHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBzb3VyY2UgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgQ29kZXguSVNvdXJjZUZpbGUgQ29kZXguSUJvdW5kU291cmNlRmlsZS5Tb3VyY2VGaWxlIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlNvdXJjZUZpbGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgc291cmNlIGZpbGVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFNvdXJjZUZpbGUgU291cmNlRmlsZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1NvdXJjZUZpbGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Tb3VyY2VGaWxlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQm91bmRTb3VyY2VGaWxlIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogQm91bmRTb3VyY2VGaWxlIHtcclxuICAgICAgICAgICAgdGhpcy5tX1NvdXJjZUZpbGUgPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUZpbGUsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VGaWxlPihTb3VyY2VGaWxlLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUZpbGUsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlRmlsZT4pKHYgPT4gbmV3IFNvdXJjZUZpbGUoKS5Db3B5RnJvbTxTb3VyY2VGaWxlPih2KSkpOztcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxCb3VuZFNvdXJjZUluZm8+KCgoQ29kZXguSUJvdW5kU291cmNlSW5mbykodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JQm91bmRTb3VyY2VJbmZvKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBCb3VuZFNvdXJjZUluZm8gOiBQcm9qZWN0RmlsZVNjb3BlRW50aXR5LCBDb2RleC5JQm91bmRTb3VyY2VJbmZvIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5OdWxsYWJsZTxpbnQ+IG1fUmVmZXJlbmNlQ291bnQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uTnVsbGFibGU8aW50PiBtX0RlZmluaXRpb25Db3VudDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0xhbmd1YWdlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxSZWZlcmVuY2VTcGFuPiBtX1JlZmVyZW5jZXMgPSBDb2RleC5VdGlsaXRpZXMuQ29sbGVjdGlvblV0aWxpdGllcy5FbXB0eTxSZWZlcmVuY2VTcGFuPi5BcnJheTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8RGVmaW5pdGlvblNwYW4+IG1fRGVmaW5pdGlvbnMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxEZWZpbml0aW9uU3Bhbj4oKTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8Q2xhc3NpZmljYXRpb25TcGFuPiBtX0NsYXNzaWZpY2F0aW9ucyA9IENvZGV4LlV0aWxpdGllcy5Db2xsZWN0aW9uVXRpbGl0aWVzLkVtcHR5PENsYXNzaWZpY2F0aW9uU3Bhbj4uQXJyYXk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PE91dGxpbmluZ1JlZ2lvbj4gbV9PdXRsaW5pbmdSZWdpb25zID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8T3V0bGluaW5nUmVnaW9uPigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgYm9vbCBtX0V4Y2x1ZGVGcm9tU2VhcmNoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBCb3VuZFNvdXJjZUluZm8oKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBCb3VuZFNvdXJjZUluZm8oQ29kZXguSUJvdW5kU291cmNlSW5mbyB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPEJvdW5kU291cmNlSW5mbz4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQm91bmRTb3VyY2VJbmZvKENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5IHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBudW1iZXIgb2YgcmVmZXJlbmNlcyBpbiB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IFJlZmVyZW5jZUNvdW50IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkNvZXJjZVJlZmVyZW5jZUNvdW50KHRoaXMubV9SZWZlcmVuY2VDb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9SZWZlcmVuY2VDb3VudCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG51bWJlciBvZiBkZWZpbml0aW9ucyBpbiB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IERlZmluaXRpb25Db3VudCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5Db2VyY2VEZWZpbml0aW9uQ291bnQodGhpcy5tX0RlZmluaXRpb25Db3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9EZWZpbml0aW9uQ291bnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBsYW5ndWFnZSBvZiB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyBUT0RPOiBSZW1vdmVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBMYW5ndWFnZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0xhbmd1YWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fTGFuZ3VhZ2UgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFJlZmVyZW5jZXMgZm9yIHRoZSBkb2N1bWVudC4gU29ydGVkLiBNYXkgb3ZlcmxhcC5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8Q29kZXguSVJlZmVyZW5jZVNwYW4+IENvZGV4LklCb3VuZFNvdXJjZUluZm8uUmVmZXJlbmNlcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5SZWZlcmVuY2VzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gUmVmZXJlbmNlcyBmb3IgdGhlIGRvY3VtZW50LiBTb3J0ZWQuIE1heSBvdmVybGFwLlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxSZWZlcmVuY2VTcGFuPiBSZWZlcmVuY2VzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUmVmZXJlbmNlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlZmVyZW5jZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIERlZmluaXRpb25zIGZvciB0aGUgZG9jdW1lbnQuIFNvcnRlZC4gTm8gb3ZlcmxhcD9cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8Q29kZXguSURlZmluaXRpb25TcGFuPiBDb2RleC5JQm91bmRTb3VyY2VJbmZvLkRlZmluaXRpb25zIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkRlZmluaXRpb25zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gRGVmaW5pdGlvbnMgZm9yIHRoZSBkb2N1bWVudC4gU29ydGVkLiBObyBvdmVybGFwP1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxEZWZpbml0aW9uU3Bhbj4gRGVmaW5pdGlvbnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9EZWZpbml0aW9ucztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0RlZmluaXRpb25zID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBDbGFzc2lmaWNhdGlvbnMgZm9yIHRoZSBkb2N1bWVudC4gU29ydGVkIGJ5IHN0YXJ0IGluZGV4LiBObyBvdmVybGFwLlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxDb2RleC5JQ2xhc3NpZmljYXRpb25TcGFuPiBDb2RleC5JQm91bmRTb3VyY2VJbmZvLkNsYXNzaWZpY2F0aW9ucyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5DbGFzc2lmaWNhdGlvbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBDbGFzc2lmaWNhdGlvbnMgZm9yIHRoZSBkb2N1bWVudC4gU29ydGVkIGJ5IHN0YXJ0IGluZGV4LiBObyBvdmVybGFwLlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxDbGFzc2lmaWNhdGlvblNwYW4+IENsYXNzaWZpY2F0aW9ucyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NsYXNzaWZpY2F0aW9ucztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NsYXNzaWZpY2F0aW9ucyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gT3V0bGluaW5nIHJlZ2lvbnMgZm9yIHRoZSBkb2N1bWVudC4gTWF5IG92ZXJsYXAuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PENvZGV4LklPdXRsaW5pbmdSZWdpb24+IENvZGV4LklCb3VuZFNvdXJjZUluZm8uT3V0bGluaW5nUmVnaW9ucyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5PdXRsaW5pbmdSZWdpb25zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gT3V0bGluaW5nIHJlZ2lvbnMgZm9yIHRoZSBkb2N1bWVudC4gTWF5IG92ZXJsYXAuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PE91dGxpbmluZ1JlZ2lvbj4gT3V0bGluaW5nUmVnaW9ucyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX091dGxpbmluZ1JlZ2lvbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9PdXRsaW5pbmdSZWdpb25zID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJbmRpY2F0ZXMgdGhhdCB0aGUgZmlsZSBzaG91bGQgYmUgZXhjbHVkZWQgZnJvbSB0ZXh0IHNlYXJjaFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgYm9vbCBFeGNsdWRlRnJvbVNlYXJjaCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0V4Y2x1ZGVGcm9tU2VhcmNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRXhjbHVkZUZyb21TZWFyY2ggPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklCb3VuZFNvdXJjZUluZm8gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBCb3VuZFNvdXJjZUluZm8ge1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVmZXJlbmNlQ291bnQgPSAoKENvZGV4LklCb3VuZFNvdXJjZUluZm8pKHZhbHVlKSkuUmVmZXJlbmNlQ291bnQ7XHJcbiAgICAgICAgICAgIHRoaXMubV9EZWZpbml0aW9uQ291bnQgPSAoKENvZGV4LklCb3VuZFNvdXJjZUluZm8pKHZhbHVlKSkuRGVmaW5pdGlvbkNvdW50O1xyXG4gICAgICAgICAgICB0aGlzLm1fTGFuZ3VhZ2UgPSAoKENvZGV4LklCb3VuZFNvdXJjZUluZm8pKHZhbHVlKSkuTGFuZ3VhZ2U7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZWZlcmVuY2VzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UmVmZXJlbmNlU3Bhbj4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JUmVmZXJlbmNlU3BhbixnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZVNwYW4+KCgoQ29kZXguSUJvdW5kU291cmNlSW5mbykodmFsdWUpKS5SZWZlcmVuY2VzLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklSZWZlcmVuY2VTcGFuLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZVNwYW4+KSh2ID0+IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguSVJlZmVyZW5jZVNwYW4sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VTcGFuPih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklSZWZlcmVuY2VTcGFuLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZVNwYW4+KShfdiA9PiBuZXcgUmVmZXJlbmNlU3BhbigpLkNvcHlGcm9tPFJlZmVyZW5jZVNwYW4+KF92KSkpKSkpO1xyXG4gICAgICAgICAgICB0aGlzLm1fRGVmaW5pdGlvbnMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxEZWZpbml0aW9uU3Bhbj4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JRGVmaW5pdGlvblNwYW4sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3Bhbj4oKChDb2RleC5JQm91bmRTb3VyY2VJbmZvKSh2YWx1ZSkpLkRlZmluaXRpb25zLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklEZWZpbml0aW9uU3BhbiwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3Bhbj4pKHYgPT4gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5JRGVmaW5pdGlvblNwYW4sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3Bhbj4odiwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JRGVmaW5pdGlvblNwYW4sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRGVmaW5pdGlvblNwYW4+KShfdiA9PiBuZXcgRGVmaW5pdGlvblNwYW4oKS5Db3B5RnJvbTxEZWZpbml0aW9uU3Bhbj4oX3YpKSkpKSk7XHJcbiAgICAgICAgICAgIHRoaXMubV9DbGFzc2lmaWNhdGlvbnMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDbGFzc2lmaWNhdGlvblNwYW4+KFN5c3RlbS5MaW5xLkVudW1lcmFibGUuU2VsZWN0PGdsb2JhbDo6Q29kZXguSUNsYXNzaWZpY2F0aW9uU3BhbixnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNsYXNzaWZpY2F0aW9uU3Bhbj4oKChDb2RleC5JQm91bmRTb3VyY2VJbmZvKSh2YWx1ZSkpLkNsYXNzaWZpY2F0aW9ucywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JQ2xhc3NpZmljYXRpb25TcGFuLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNsYXNzaWZpY2F0aW9uU3Bhbj4pKHYgPT4gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5JQ2xhc3NpZmljYXRpb25TcGFuLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ2xhc3NpZmljYXRpb25TcGFuPih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklDbGFzc2lmaWNhdGlvblNwYW4sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ2xhc3NpZmljYXRpb25TcGFuPikoX3YgPT4gbmV3IENsYXNzaWZpY2F0aW9uU3BhbigpLkNvcHlGcm9tPENsYXNzaWZpY2F0aW9uU3Bhbj4oX3YpKSkpKSk7XHJcbiAgICAgICAgICAgIHRoaXMubV9PdXRsaW5pbmdSZWdpb25zID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8T3V0bGluaW5nUmVnaW9uPihTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlNlbGVjdDxnbG9iYWw6OkNvZGV4LklPdXRsaW5pbmdSZWdpb24sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5PdXRsaW5pbmdSZWdpb24+KCgoQ29kZXguSUJvdW5kU291cmNlSW5mbykodmFsdWUpKS5PdXRsaW5pbmdSZWdpb25zLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklPdXRsaW5pbmdSZWdpb24sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuT3V0bGluaW5nUmVnaW9uPikodiA9PiBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4LklPdXRsaW5pbmdSZWdpb24sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5PdXRsaW5pbmdSZWdpb24+KHYsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSU91dGxpbmluZ1JlZ2lvbiwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5PdXRsaW5pbmdSZWdpb24+KShfdiA9PiBuZXcgT3V0bGluaW5nUmVnaW9uKCkuQ29weUZyb208T3V0bGluaW5nUmVnaW9uPihfdikpKSkpKTtcclxuICAgICAgICAgICAgdGhpcy5tX0V4Y2x1ZGVGcm9tU2VhcmNoID0gKChDb2RleC5JQm91bmRTb3VyY2VJbmZvKSh2YWx1ZSkpLkV4Y2x1ZGVGcm9tU2VhcmNoO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFByb2plY3RGaWxlU2NvcGVFbnRpdHk+KCgoQ29kZXguSVByb2plY3RGaWxlU2NvcGVFbnRpdHkpKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gSW5mb3JtYXRpb24gYWJvdXQgYSBzb3VyY2UgZmlsZSBhcyBkZWZpbmVkIGJ5IHRoZSBzb3VyY2UgY29udHJvbCBwcm92aWRlclxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JU291cmNlQ29udHJvbEZpbGVJbmZvKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBTb3VyY2VDb250cm9sRmlsZUluZm8gOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JU291cmNlQ29udHJvbEZpbGVJbmZvIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1NvdXJjZUNvbnRyb2xDb250ZW50SWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFNvdXJjZUNvbnRyb2xGaWxlSW5mbygpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgU291cmNlQ29udHJvbEZpbGVJbmZvKENvZGV4LklTb3VyY2VDb250cm9sRmlsZUluZm8gdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFNvdXJjZUNvbnRyb2xGaWxlSW5mbz4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFVuaXF1ZSBpZCBmb3IgdGhlIHNvdXJjZSBmaWxlIGNvbnRlbnQgYXMgZGVmaW5lZCBieSB0aGUgc291cmNlIGNvbnRyb2wgcHJvdmlkZXIgKGkuZS4gZ2l0IFNIQSlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBTb3VyY2VDb250cm9sQ29udGVudElkIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fU291cmNlQ29udHJvbENvbnRlbnRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1NvdXJjZUNvbnRyb2xDb250ZW50SWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklTb3VyY2VDb250cm9sRmlsZUluZm8gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBTb3VyY2VDb250cm9sRmlsZUluZm8ge1xyXG4gICAgICAgICAgICB0aGlzLm1fU291cmNlQ29udHJvbENvbnRlbnRJZCA9ICgoQ29kZXguSVNvdXJjZUNvbnRyb2xGaWxlSW5mbykodmFsdWUpKS5Tb3VyY2VDb250cm9sQ29udGVudElkO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVNvdXJjZUZpbGVJbmZvKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBTb3VyY2VGaWxlSW5mbyA6IENvZGV4LkVudGl0eUJhc2UsIENvZGV4LklTb3VyY2VGaWxlSW5mbyB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBpbnQgbV9MaW5lcztcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIGludCBtX1NpemU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9MYW5ndWFnZTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1dlYkFkZHJlc3M7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBFbmNvZGluZ0Rlc2NyaXB0aW9uIG1fRW5jb2Rpbmc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBQcm9wZXJ0eU1hcCBtX1Byb3BlcnRpZXM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9SZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUmVwb3NpdG9yeU5hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9Tb3VyY2VDb250cm9sQ29udGVudElkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUHJvamVjdFJlbGF0aXZlUGF0aDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1Byb2plY3RJZDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgU291cmNlRmlsZUluZm8oKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFNvdXJjZUZpbGVJbmZvKENvZGV4LklTb3VyY2VGaWxlSW5mbyB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208U291cmNlRmlsZUluZm8+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFNvdXJjZUZpbGVJbmZvKENvZGV4LklSZXBvRmlsZVNjb3BlRW50aXR5IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxTb3VyY2VGaWxlSW5mbz4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgU291cmNlRmlsZUluZm8oQ29kZXguSVJlcG9TY29wZUVudGl0eSB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208U291cmNlRmlsZUluZm8+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFNvdXJjZUZpbGVJbmZvKENvZGV4LklTb3VyY2VDb250cm9sRmlsZUluZm8gdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFNvdXJjZUZpbGVJbmZvPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTb3VyY2VGaWxlSW5mbyhDb2RleC5JUHJvamVjdEZpbGVTY29wZUVudGl0eSB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208U291cmNlRmlsZUluZm8+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFNvdXJjZUZpbGVJbmZvKENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkgdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFNvdXJjZUZpbGVJbmZvPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG51bWJlciBvZiBsaW5lcyBpbiB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IExpbmVzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fTGluZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9MaW5lcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHNpemUgb2YgdGhlIGZpbGUgaW4gYnl0ZXNcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGludCBTaXplIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fU2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1NpemUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBsYW5ndWFnZSBvZiB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyBUT0RPOiBSZW1vdmVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBMYW5ndWFnZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0xhbmd1YWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fTGFuZ3VhZ2UgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSB3ZWIgYWRkcmVzcyBvZiB0aGUgZmlsZS4gVE9ETzogUmVtb3ZlPyBJcyByZXBvIHJlbGF0aXZlIHBhdGggZW5vdWdoP1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFdlYkFkZHJlc3Mge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9XZWJBZGRyZXNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fV2ViQWRkcmVzcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGVuY29kaW5nIHVzZWQgZm9yIHRoZSBmaWxlXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBDb2RleC5JRW5jb2RpbmdEZXNjcmlwdGlvbiBDb2RleC5JU291cmNlRmlsZUluZm8uRW5jb2Rpbmcge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuRW5jb2Rpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZW5jb2RpbmcgdXNlZCBmb3IgdGhlIGZpbGVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIEVuY29kaW5nRGVzY3JpcHRpb24gRW5jb2Rpbmcge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9FbmNvZGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0VuY29kaW5nID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBFeHRlbnNpYmxlIGtleSB2YWx1ZSBwcm9wZXJ0aWVzIGZvciB0aGUgZG9jdW1lbnQuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBDb2RleC5JUHJvcGVydHlNYXAgQ29kZXguSVNvdXJjZUZpbGVJbmZvLlByb3BlcnRpZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuUHJvcGVydGllcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEV4dGVuc2libGUga2V5IHZhbHVlIHByb3BlcnRpZXMgZm9yIHRoZSBkb2N1bWVudC5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFByb3BlcnR5TWFwIFByb3BlcnRpZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Qcm9wZXJ0aWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUHJvcGVydGllcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHJlcG8gcmVsYXRpdmUgcGF0aCB0byB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFJlcG9SZWxhdGl2ZVBhdGgge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUmVwb1JlbGF0aXZlUGF0aCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG5hbWUgb2YgdGhlIHJlcG9zaXRvcnkgY29udGFpbmluZyB0aGUgZW50aXR5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUmVwb3NpdG9yeU5hbWUge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZXBvc2l0b3J5TmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlOYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBVbmlxdWUgaWQgZm9yIHRoZSBzb3VyY2UgZmlsZSBjb250ZW50IGFzIGRlZmluZWQgYnkgdGhlIHNvdXJjZSBjb250cm9sIHByb3ZpZGVyIChpLmUuIGdpdCBTSEEpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgU291cmNlQ29udHJvbENvbnRlbnRJZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1NvdXJjZUNvbnRyb2xDb250ZW50SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Tb3VyY2VDb250cm9sQ29udGVudElkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcHJvamVjdCByZWxhdGl2ZSBwYXRoIG9mIHRoZSBmaWxlXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUHJvamVjdFJlbGF0aXZlUGF0aCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1Byb2plY3RSZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0UmVsYXRpdmVQYXRoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaWRlbnRpZmllciBvZiB0aGUgcHJvamVjdCBjb250YWluaW5nIHRoZSBlbnRpdHlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBQcm9qZWN0SWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Qcm9qZWN0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0SWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklSZXBvU2NvcGVFbnRpdHkgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBTb3VyY2VGaWxlSW5mbyB7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvc2l0b3J5TmFtZSA9ICgoQ29kZXguSVJlcG9TY29wZUVudGl0eSkodmFsdWUpKS5SZXBvc2l0b3J5TmFtZTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklSZXBvRmlsZVNjb3BlRW50aXR5IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogU291cmNlRmlsZUluZm8ge1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVwb1JlbGF0aXZlUGF0aCA9ICgoQ29kZXguSVJlcG9GaWxlU2NvcGVFbnRpdHkpKHZhbHVlKSkuUmVwb1JlbGF0aXZlUGF0aDtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklTb3VyY2VDb250cm9sRmlsZUluZm8gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBTb3VyY2VGaWxlSW5mbyB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Tb3VyY2VDb250cm9sQ29udGVudElkID0gKChDb2RleC5JU291cmNlQ29udHJvbEZpbGVJbmZvKSh2YWx1ZSkpLlNvdXJjZUNvbnRyb2xDb250ZW50SWQ7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUHJvamVjdFNjb3BlRW50aXR5IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogU291cmNlRmlsZUluZm8ge1xyXG4gICAgICAgICAgICB0aGlzLm1fUHJvamVjdElkID0gKChDb2RleC5JUHJvamVjdFNjb3BlRW50aXR5KSh2YWx1ZSkpLlByb2plY3RJZDtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogU291cmNlRmlsZUluZm8ge1xyXG4gICAgICAgICAgICB0aGlzLm1fUHJvamVjdFJlbGF0aXZlUGF0aCA9ICgoQ29kZXguSVByb2plY3RGaWxlU2NvcGVFbnRpdHkpKHZhbHVlKSkuUHJvamVjdFJlbGF0aXZlUGF0aDtcclxuICAgICAgICAgICAgdGhpcy5tX1JlcG9SZWxhdGl2ZVBhdGggPSAoKENvZGV4LklSZXBvRmlsZVNjb3BlRW50aXR5KSh2YWx1ZSkpLlJlcG9SZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvc2l0b3J5TmFtZSA9ICgoQ29kZXguSVJlcG9TY29wZUVudGl0eSkodmFsdWUpKS5SZXBvc2l0b3J5TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RJZCA9ICgoQ29kZXguSVByb2plY3RTY29wZUVudGl0eSkodmFsdWUpKS5Qcm9qZWN0SWQ7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JU291cmNlRmlsZUluZm8gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBTb3VyY2VGaWxlSW5mbyB7XHJcbiAgICAgICAgICAgIHRoaXMubV9MaW5lcyA9ICgoQ29kZXguSVNvdXJjZUZpbGVJbmZvKSh2YWx1ZSkpLkxpbmVzO1xyXG4gICAgICAgICAgICB0aGlzLm1fU2l6ZSA9ICgoQ29kZXguSVNvdXJjZUZpbGVJbmZvKSh2YWx1ZSkpLlNpemU7XHJcbiAgICAgICAgICAgIHRoaXMubV9MYW5ndWFnZSA9ICgoQ29kZXguSVNvdXJjZUZpbGVJbmZvKSh2YWx1ZSkpLkxhbmd1YWdlO1xyXG4gICAgICAgICAgICB0aGlzLm1fV2ViQWRkcmVzcyA9ICgoQ29kZXguSVNvdXJjZUZpbGVJbmZvKSh2YWx1ZSkpLldlYkFkZHJlc3M7XHJcbiAgICAgICAgICAgIHRoaXMubV9FbmNvZGluZyA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRW5jb2RpbmdEZXNjcmlwdGlvbixnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkVuY29kaW5nRGVzY3JpcHRpb24+KEVuY29kaW5nLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkVuY29kaW5nRGVzY3JpcHRpb24sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRW5jb2RpbmdEZXNjcmlwdGlvbj4pKHYgPT4gbmV3IEVuY29kaW5nRGVzY3JpcHRpb24oKS5Db3B5RnJvbTxFbmNvZGluZ0Rlc2NyaXB0aW9uPih2KSkpOztcclxuICAgICAgICAgICAgdGhpcy5tX1Byb3BlcnRpZXMgPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlByb3BlcnR5TWFwLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUHJvcGVydHlNYXA+KFByb3BlcnRpZXMsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUHJvcGVydHlNYXAsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUHJvcGVydHlNYXA+KSh2ID0+IG5ldyBQcm9wZXJ0eU1hcCgpLkNvcHlGcm9tPFByb3BlcnR5TWFwPih2KSkpOztcclxuICAgICAgICAgICAgdGhpcy5tX1JlcG9SZWxhdGl2ZVBhdGggPSAoKENvZGV4LklSZXBvRmlsZVNjb3BlRW50aXR5KSh2YWx1ZSkpLlJlcG9SZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvc2l0b3J5TmFtZSA9ICgoQ29kZXguSVJlcG9TY29wZUVudGl0eSkodmFsdWUpKS5SZXBvc2l0b3J5TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX1NvdXJjZUNvbnRyb2xDb250ZW50SWQgPSAoKENvZGV4LklTb3VyY2VDb250cm9sRmlsZUluZm8pKHZhbHVlKSkuU291cmNlQ29udHJvbENvbnRlbnRJZDtcclxuICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RSZWxhdGl2ZVBhdGggPSAoKENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5KSh2YWx1ZSkpLlByb2plY3RSZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0SWQgPSAoKENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkpKHZhbHVlKSkuUHJvamVjdElkO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gRGVzY3JpYmVzIGVuY29kaW5nIHNvIHRoYXQgZmlsZSBtYXkgYmUgcmVjb25zdGl0dXRlZCBpbiBhIGJ5dGUtaWRlbnRpY2FsIGZvcm1cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSUVuY29kaW5nRGVzY3JpcHRpb24pKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIEVuY29kaW5nRGVzY3JpcHRpb24gOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JRW5jb2RpbmdEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9OYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgYnl0ZVtdIG1fUHJlYW1ibGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIEVuY29kaW5nRGVzY3JpcHRpb24oKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIEVuY29kaW5nRGVzY3JpcHRpb24oQ29kZXguSUVuY29kaW5nRGVzY3JpcHRpb24gdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPEVuY29kaW5nRGVzY3JpcHRpb24+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgbmFtZSBvZiB0aGUgZW5jb2RpbmdcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBOYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX05hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBlbmNvZGluZyBwcmVhbWJsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgYnl0ZVtdIFByZWFtYmxlIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUHJlYW1ibGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9QcmVhbWJsZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSUVuY29kaW5nRGVzY3JpcHRpb24gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBFbmNvZGluZ0Rlc2NyaXB0aW9uIHtcclxuICAgICAgICAgICAgdGhpcy5tX05hbWUgPSAoKENvZGV4LklFbmNvZGluZ0Rlc2NyaXB0aW9uKSh2YWx1ZSkpLk5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMubV9QcmVhbWJsZSA9ICgoQ29kZXguSUVuY29kaW5nRGVzY3JpcHRpb24pKHZhbHVlKSkuUHJlYW1ibGU7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBEZWZpbmVzIHRleHQgY29udGVudHMgb2YgYSBmaWxlIGFuZCBhc3NvY2lhdGVkIGRhdGFcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVNvdXJjZUZpbGUpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFNvdXJjZUZpbGUgOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JU291cmNlRmlsZSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTb3VyY2VGaWxlSW5mbyBtX0luZm87XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9Db250ZW50O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgYm9vbCBtX0V4Y2x1ZGVGcm9tU2VhcmNoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTb3VyY2VGaWxlKCkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTb3VyY2VGaWxlKENvZGV4LklTb3VyY2VGaWxlIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxTb3VyY2VGaWxlPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgQ29kZXguSVNvdXJjZUZpbGVJbmZvIENvZGV4LklTb3VyY2VGaWxlLkluZm8ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuSW5mbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlIGZpbGVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFNvdXJjZUZpbGVJbmZvIEluZm8ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9JbmZvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fSW5mbyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGNvbnRlbnQgb2YgdGhlIGZpbGVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBDb250ZW50IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQ29udGVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NvbnRlbnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEluZGljYXRlcyB0aGF0IHRoZSBmaWxlIHNob3VsZCBiZSBleGNsdWRlZCBmcm9tIHRleHQgc2VhcmNoXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBib29sIEV4Y2x1ZGVGcm9tU2VhcmNoIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRXhjbHVkZUZyb21TZWFyY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9FeGNsdWRlRnJvbVNlYXJjaCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVNvdXJjZUZpbGUgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBTb3VyY2VGaWxlIHtcclxuICAgICAgICAgICAgdGhpcy5tX0luZm8gPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUZpbGVJbmZvLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlRmlsZUluZm8+KEluZm8sIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlRmlsZUluZm8sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlRmlsZUluZm8+KSh2ID0+IG5ldyBTb3VyY2VGaWxlSW5mbygpLkNvcHlGcm9tPFNvdXJjZUZpbGVJbmZvPih2KSkpOztcclxuICAgICAgICAgICAgdGhpcy5tX0NvbnRlbnQgPSAoKENvZGV4LklTb3VyY2VGaWxlKSh2YWx1ZSkpLkNvbnRlbnQ7XHJcbiAgICAgICAgICAgIHRoaXMubV9FeGNsdWRlRnJvbVNlYXJjaCA9ICgoQ29kZXguSVNvdXJjZUZpbGUpKHZhbHVlKSkuRXhjbHVkZUZyb21TZWFyY2g7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JT3V0bGluaW5nUmVnaW9uKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBPdXRsaW5pbmdSZWdpb24gOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JT3V0bGluaW5nUmVnaW9uIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0tpbmQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBMaW5lU3BhbiBtX0hlYWRlcjtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIExpbmVTcGFuIG1fQ29udGVudDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgT3V0bGluaW5nUmVnaW9uKCkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBPdXRsaW5pbmdSZWdpb24oQ29kZXguSU91dGxpbmluZ1JlZ2lvbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208T3V0bGluaW5nUmVnaW9uPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBLaW5kIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fS2luZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0tpbmQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIERlZmluZXMgdGhlIHJlZ2lvbiBjb250YWluaW5nIHRoZSBoZWFkZXIgdGV4dCBvZiB0aGUgb3V0bGluaW5nIHJlZ2lvblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgQ29kZXguSUxpbmVTcGFuIENvZGV4LklPdXRsaW5pbmdSZWdpb24uSGVhZGVyIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkhlYWRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIERlZmluZXMgdGhlIHJlZ2lvbiBjb250YWluaW5nIHRoZSBoZWFkZXIgdGV4dCBvZiB0aGUgb3V0bGluaW5nIHJlZ2lvblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgTGluZVNwYW4gSGVhZGVyIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fSGVhZGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fSGVhZGVyID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBEZWZpbmVzIHRoZSByZWdpb24gY29udGFpbmluZyB0aGUgY29sbGFwc2libGUgY29udGVudCByZWdpb24gb2YgdGhlIG91dGxpbmluZyByZWdpb25cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIENvZGV4LklMaW5lU3BhbiBDb2RleC5JT3V0bGluaW5nUmVnaW9uLkNvbnRlbnQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ29udGVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIERlZmluZXMgdGhlIHJlZ2lvbiBjb250YWluaW5nIHRoZSBjb2xsYXBzaWJsZSBjb250ZW50IHJlZ2lvbiBvZiB0aGUgb3V0bGluaW5nIHJlZ2lvblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgTGluZVNwYW4gQ29udGVudCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Db250ZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JT3V0bGluaW5nUmVnaW9uIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogT3V0bGluaW5nUmVnaW9uIHtcclxuICAgICAgICAgICAgdGhpcy5tX0tpbmQgPSAoKENvZGV4LklPdXRsaW5pbmdSZWdpb24pKHZhbHVlKSkuS2luZDtcclxuICAgICAgICAgICAgdGhpcy5tX0hlYWRlciA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuTGluZVNwYW4sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5MaW5lU3Bhbj4oSGVhZGVyLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkxpbmVTcGFuLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkxpbmVTcGFuPikodiA9PiBuZXcgTGluZVNwYW4oKS5Db3B5RnJvbTxMaW5lU3Bhbj4odikpKTs7XHJcbiAgICAgICAgICAgIHRoaXMubV9Db250ZW50ID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5MaW5lU3BhbixnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkxpbmVTcGFuPihDb250ZW50LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkxpbmVTcGFuLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkxpbmVTcGFuPikodiA9PiBuZXcgTGluZVNwYW4oKS5Db3B5RnJvbTxMaW5lU3Bhbj4odikpKTs7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JRGVmaW5pdGlvblNwYW4pKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIERlZmluaXRpb25TcGFuIDogU3BhbiwgQ29kZXguSURlZmluaXRpb25TcGFuIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIERlZmluaXRpb25TeW1ib2wgbV9EZWZpbml0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxQYXJhbWV0ZXJEZWZpbml0aW9uU3Bhbj4gbV9QYXJhbWV0ZXJzID0gQ29kZXguVXRpbGl0aWVzLkNvbGxlY3Rpb25VdGlsaXRpZXMuRW1wdHk8UGFyYW1ldGVyRGVmaW5pdGlvblNwYW4+LkFycmF5O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBEZWZpbml0aW9uU3BhbigpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIERlZmluaXRpb25TcGFuKENvZGV4LklEZWZpbml0aW9uU3BhbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPERlZmluaXRpb25TcGFuPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBEZWZpbml0aW9uU3BhbihDb2RleC5JU3BhbiB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZGVmaW5pdGlvbiBzeW1ib2wgcmVmZXJyZWQgdG8gYnkgdGhlIHNwYW5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIENvZGV4LklEZWZpbml0aW9uU3ltYm9sIENvZGV4LklEZWZpbml0aW9uU3Bhbi5EZWZpbml0aW9uIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkRlZmluaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZGVmaW5pdGlvbiBzeW1ib2wgcmVmZXJyZWQgdG8gYnkgdGhlIHNwYW5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIERlZmluaXRpb25TeW1ib2wgRGVmaW5pdGlvbiB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0RlZmluaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9EZWZpbml0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBHZXRzIHRoZSBkZWZpbml0aW9ucyBmb3IgcGFyYW1ldGVyc1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxDb2RleC5JUGFyYW1ldGVyRGVmaW5pdGlvblNwYW4+IENvZGV4LklEZWZpbml0aW9uU3Bhbi5QYXJhbWV0ZXJzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlBhcmFtZXRlcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBHZXRzIHRoZSBkZWZpbml0aW9ucyBmb3IgcGFyYW1ldGVyc1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxQYXJhbWV0ZXJEZWZpbml0aW9uU3Bhbj4gUGFyYW1ldGVycyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1BhcmFtZXRlcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9QYXJhbWV0ZXJzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JRGVmaW5pdGlvblNwYW4gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBEZWZpbml0aW9uU3BhbiB7XHJcbiAgICAgICAgICAgIHRoaXMubV9EZWZpbml0aW9uID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3ltYm9sLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRGVmaW5pdGlvblN5bWJvbD4oRGVmaW5pdGlvbiwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3ltYm9sLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRlZmluaXRpb25TeW1ib2w+KSh2ID0+IG5ldyBEZWZpbml0aW9uU3ltYm9sKCkuQ29weUZyb208RGVmaW5pdGlvblN5bWJvbD4odikpKTs7XHJcbiAgICAgICAgICAgIHRoaXMubV9QYXJhbWV0ZXJzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UGFyYW1ldGVyRGVmaW5pdGlvblNwYW4+KFN5c3RlbS5MaW5xLkVudW1lcmFibGUuU2VsZWN0PGdsb2JhbDo6Q29kZXguSVBhcmFtZXRlckRlZmluaXRpb25TcGFuLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUGFyYW1ldGVyRGVmaW5pdGlvblNwYW4+KCgoQ29kZXguSURlZmluaXRpb25TcGFuKSh2YWx1ZSkpLlBhcmFtZXRlcnMsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSVBhcmFtZXRlckRlZmluaXRpb25TcGFuLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlBhcmFtZXRlckRlZmluaXRpb25TcGFuPikodiA9PiBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4LklQYXJhbWV0ZXJEZWZpbml0aW9uU3BhbixnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlBhcmFtZXRlckRlZmluaXRpb25TcGFuPih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklQYXJhbWV0ZXJEZWZpbml0aW9uU3BhbiwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5QYXJhbWV0ZXJEZWZpbml0aW9uU3Bhbj4pKF92ID0+IG5ldyBQYXJhbWV0ZXJEZWZpbml0aW9uU3BhbigpLkNvcHlGcm9tPFBhcmFtZXRlckRlZmluaXRpb25TcGFuPihfdikpKSkpKTtcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxTcGFuPigoKENvZGV4LklTcGFuKSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIEEgc3BlY2lhbGl6ZWQgZGVmaW5pdGlvbiBzcGFuIHJlZmVycmluZyB0byBhIHBhcmFtZXRlciBvZiBhIG1ldGhvZC9wcm9wZXJ0eVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JUGFyYW1ldGVyRGVmaW5pdGlvblNwYW4pKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFBhcmFtZXRlckRlZmluaXRpb25TcGFuIDogTGluZVNwYW4sIENvZGV4LklQYXJhbWV0ZXJEZWZpbml0aW9uU3BhbiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBpbnQgbV9QYXJhbWV0ZXJJbmRleDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX05hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFBhcmFtZXRlckRlZmluaXRpb25TcGFuKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUGFyYW1ldGVyRGVmaW5pdGlvblNwYW4oQ29kZXguSVBhcmFtZXRlckRlZmluaXRpb25TcGFuIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UGFyYW1ldGVyRGVmaW5pdGlvblNwYW4+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFBhcmFtZXRlckRlZmluaXRpb25TcGFuKENvZGV4LklMaW5lU3BhbiB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFBhcmFtZXRlckRlZmluaXRpb25TcGFuKENvZGV4LklTcGFuIHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBpbmRleCBvZiB0aGUgcGFyYW1ldGVyIGluIHRoZSBsaXN0IG9mIHBhcmFtZXRlcnMgZm9yIHRoZSBtZXRob2RcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGludCBQYXJhbWV0ZXJJbmRleCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1BhcmFtZXRlckluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUGFyYW1ldGVySW5kZXggPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSBwYXJhbWV0ZXJcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBOYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX05hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklQYXJhbWV0ZXJEZWZpbml0aW9uU3BhbiB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFBhcmFtZXRlckRlZmluaXRpb25TcGFuIHtcclxuICAgICAgICAgICAgdGhpcy5tX1BhcmFtZXRlckluZGV4ID0gKChDb2RleC5JUGFyYW1ldGVyRGVmaW5pdGlvblNwYW4pKHZhbHVlKSkuUGFyYW1ldGVySW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMubV9OYW1lID0gKChDb2RleC5JUGFyYW1ldGVyRGVmaW5pdGlvblNwYW4pKHZhbHVlKSkuTmFtZTtcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxMaW5lU3Bhbj4oKChDb2RleC5JTGluZVNwYW4pKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVJlZmVyZW5jZVNwYW4pKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFJlZmVyZW5jZVNwYW4gOiBTeW1ib2xTcGFuLCBDb2RleC5JUmVmZXJlbmNlU3BhbiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBDb2RleC5PYmplY3RNb2RlbC5TeW1ib2xJZCBtX1JlbGF0ZWREZWZpbml0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgUmVmZXJlbmNlU3ltYm9sIG1fUmVmZXJlbmNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxQYXJhbWV0ZXJSZWZlcmVuY2VTcGFuPiBtX1BhcmFtZXRlcnMgPSBDb2RleC5VdGlsaXRpZXMuQ29sbGVjdGlvblV0aWxpdGllcy5FbXB0eTxQYXJhbWV0ZXJSZWZlcmVuY2VTcGFuPi5BcnJheTtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVmZXJlbmNlU3BhbigpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlZmVyZW5jZVNwYW4oQ29kZXguSVJlZmVyZW5jZVNwYW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxSZWZlcmVuY2VTcGFuPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZWZlcmVuY2VTcGFuKENvZGV4LklTeW1ib2xTcGFuIHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVmZXJlbmNlU3BhbihDb2RleC5JVGV4dExpbmVTcGFuIHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVmZXJlbmNlU3BhbihDb2RleC5JTGluZVNwYW4gdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZWZlcmVuY2VTcGFuKENvZGV4LklTcGFuIHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEdldHMgdGhlIHN5bWJvbCBpZCBvZiB0aGUgZGVmaW5pdGlvbiB3aGljaCBwcm92aWRlcyB0aGlzIHJlZmVyZW5jZVxyXG4gICAgICAgIC8vLyAoaS5lLiBtZXRob2QgZGVmaW5pdGlvbiBmb3IgaW50ZXJmYWNlIGltcGxlbWVudGF0aW9uKVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgQ29kZXguT2JqZWN0TW9kZWwuU3ltYm9sSWQgUmVsYXRlZERlZmluaXRpb24ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZWxhdGVkRGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlbGF0ZWREZWZpbml0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcmVmZXJlbmNlIHN5bWJvbCByZWZlcnJlZCB0byBieSB0aGUgc3BhblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgQ29kZXguSVJlZmVyZW5jZVN5bWJvbCBDb2RleC5JUmVmZXJlbmNlU3Bhbi5SZWZlcmVuY2Uge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuUmVmZXJlbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHJlZmVyZW5jZSBzeW1ib2wgcmVmZXJyZWQgdG8gYnkgdGhlIHNwYW5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFJlZmVyZW5jZVN5bWJvbCBSZWZlcmVuY2Uge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZWZlcmVuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9SZWZlcmVuY2UgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEdldHMgdGhlIHJlZmVyZW5jZXMgdG8gcGFyYW1ldGVyc1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxDb2RleC5JUGFyYW1ldGVyUmVmZXJlbmNlU3Bhbj4gQ29kZXguSVJlZmVyZW5jZVNwYW4uUGFyYW1ldGVycyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5QYXJhbWV0ZXJzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gR2V0cyB0aGUgcmVmZXJlbmNlcyB0byBwYXJhbWV0ZXJzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PFBhcmFtZXRlclJlZmVyZW5jZVNwYW4+IFBhcmFtZXRlcnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9QYXJhbWV0ZXJzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUGFyYW1ldGVycyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVJlZmVyZW5jZVNwYW4gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBSZWZlcmVuY2VTcGFuIHtcclxuICAgICAgICAgICAgdGhpcy5tX1JlbGF0ZWREZWZpbml0aW9uID0gKChDb2RleC5JUmVmZXJlbmNlU3BhbikodmFsdWUpKS5SZWxhdGVkRGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5tX1JlZmVyZW5jZSA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVmZXJlbmNlU3ltYm9sLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVmZXJlbmNlU3ltYm9sPihSZWZlcmVuY2UsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVmZXJlbmNlU3ltYm9sLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZVN5bWJvbD4pKHYgPT4gbmV3IFJlZmVyZW5jZVN5bWJvbCgpLkNvcHlGcm9tPFJlZmVyZW5jZVN5bWJvbD4odikpKTs7XHJcbiAgICAgICAgICAgIHRoaXMubV9QYXJhbWV0ZXJzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UGFyYW1ldGVyUmVmZXJlbmNlU3Bhbj4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JUGFyYW1ldGVyUmVmZXJlbmNlU3BhbixnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlBhcmFtZXRlclJlZmVyZW5jZVNwYW4+KCgoQ29kZXguSVJlZmVyZW5jZVNwYW4pKHZhbHVlKSkuUGFyYW1ldGVycywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JUGFyYW1ldGVyUmVmZXJlbmNlU3BhbiwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5QYXJhbWV0ZXJSZWZlcmVuY2VTcGFuPikodiA9PiBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4LklQYXJhbWV0ZXJSZWZlcmVuY2VTcGFuLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUGFyYW1ldGVyUmVmZXJlbmNlU3Bhbj4odiwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JUGFyYW1ldGVyUmVmZXJlbmNlU3BhbiwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5QYXJhbWV0ZXJSZWZlcmVuY2VTcGFuPikoX3YgPT4gbmV3IFBhcmFtZXRlclJlZmVyZW5jZVNwYW4oKS5Db3B5RnJvbTxQYXJhbWV0ZXJSZWZlcmVuY2VTcGFuPihfdikpKSkpKTtcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxTeW1ib2xTcGFuPigoKENvZGV4LklTeW1ib2xTcGFuKSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIEEgc3BlY2lhbGl6ZWQgcmVmZXJlbmNlIHNwYW4gcmVmZXJyaW5nIHRvIGEgcGFyYW1ldGVyIHRvIGEgbWV0aG9kL3Byb3BlcnR5XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklQYXJhbWV0ZXJSZWZlcmVuY2VTcGFuKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBQYXJhbWV0ZXJSZWZlcmVuY2VTcGFuIDogU3ltYm9sU3BhbiwgQ29kZXguSVBhcmFtZXRlclJlZmVyZW5jZVNwYW4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgaW50IG1fUGFyYW1ldGVySW5kZXg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFBhcmFtZXRlclJlZmVyZW5jZVNwYW4oKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQYXJhbWV0ZXJSZWZlcmVuY2VTcGFuKENvZGV4LklQYXJhbWV0ZXJSZWZlcmVuY2VTcGFuIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UGFyYW1ldGVyUmVmZXJlbmNlU3Bhbj4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUGFyYW1ldGVyUmVmZXJlbmNlU3BhbihDb2RleC5JU3ltYm9sU3BhbiB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFBhcmFtZXRlclJlZmVyZW5jZVNwYW4oQ29kZXguSVRleHRMaW5lU3BhbiB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFBhcmFtZXRlclJlZmVyZW5jZVNwYW4oQ29kZXguSUxpbmVTcGFuIHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUGFyYW1ldGVyUmVmZXJlbmNlU3BhbihDb2RleC5JU3BhbiB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaW5kZXggb2YgdGhlIHBhcmFtZXRlciBpbiB0aGUgbGlzdCBvZiBwYXJhbWV0ZXJzIGZvciB0aGUgbWV0aG9kXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBpbnQgUGFyYW1ldGVySW5kZXgge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9QYXJhbWV0ZXJJbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1BhcmFtZXRlckluZGV4ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUGFyYW1ldGVyUmVmZXJlbmNlU3BhbiB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFBhcmFtZXRlclJlZmVyZW5jZVNwYW4ge1xyXG4gICAgICAgICAgICB0aGlzLm1fUGFyYW1ldGVySW5kZXggPSAoKENvZGV4LklQYXJhbWV0ZXJSZWZlcmVuY2VTcGFuKSh2YWx1ZSkpLlBhcmFtZXRlckluZGV4O1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFN5bWJvbFNwYW4+KCgoQ29kZXguSVN5bWJvbFNwYW4pKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gRGVmaW5lcyBhIGNsYXNzaWZpZWQgc3BhbiBvZiB0ZXh0XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklDbGFzc2lmaWNhdGlvblNwYW4pKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIENsYXNzaWZpY2F0aW9uU3BhbiA6IFNwYW4sIENvZGV4LklDbGFzc2lmaWNhdGlvblNwYW4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgaW50IG1fRGVmYXVsdENsYXNzaWZpY2F0aW9uQ29sb3I7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9DbGFzc2lmaWNhdGlvbjtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIGludCBtX0xvY2FsR3JvdXBJZDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ2xhc3NpZmljYXRpb25TcGFuKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ2xhc3NpZmljYXRpb25TcGFuKENvZGV4LklDbGFzc2lmaWNhdGlvblNwYW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxDbGFzc2lmaWNhdGlvblNwYW4+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENsYXNzaWZpY2F0aW9uU3BhbihDb2RleC5JU3BhbiB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZGVmYXVsdCBjbGFzc2lmaWNhdGlvbiBjb2xvciBmb3IgdGhlIHNwYW4uIFRoaXMgaXMgdXNlZCBmb3JcclxuICAgICAgICAvLy8gY29udGV4dHMgd2hlcmUgYSBtYXBwaW5nIGZyb20gY2xhc3NpZmljYXRpb24gaWQgdG8gY29sb3IgaXMgbm90XHJcbiAgICAgICAgLy8vIGF2YWlsYWJsZS5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGludCBEZWZhdWx0Q2xhc3NpZmljYXRpb25Db2xvciB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0RlZmF1bHRDbGFzc2lmaWNhdGlvbkNvbG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRGVmYXVsdENsYXNzaWZpY2F0aW9uQ29sb3IgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBjbGFzc2lmaWNhdGlvbiBpZGVudGlmaWVyIGZvciB0aGUgc3BhblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIENsYXNzaWZpY2F0aW9uIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQ2xhc3NpZmljYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9DbGFzc2lmaWNhdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGlkZW50aWZpZXIgdG8gdGhlIGxvY2FsIGdyb3VwIG9mIHNwYW5zIHdoaWNoIHJlZmVyIHRvIHRoZSBzYW1lIGNvbW1vbiBzeW1ib2xcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGludCBMb2NhbEdyb3VwSWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Mb2NhbEdyb3VwSWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Mb2NhbEdyb3VwSWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklDbGFzc2lmaWNhdGlvblNwYW4gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDbGFzc2lmaWNhdGlvblNwYW4ge1xyXG4gICAgICAgICAgICB0aGlzLm1fRGVmYXVsdENsYXNzaWZpY2F0aW9uQ29sb3IgPSAoKENvZGV4LklDbGFzc2lmaWNhdGlvblNwYW4pKHZhbHVlKSkuRGVmYXVsdENsYXNzaWZpY2F0aW9uQ29sb3I7XHJcbiAgICAgICAgICAgIHRoaXMubV9DbGFzc2lmaWNhdGlvbiA9ICgoQ29kZXguSUNsYXNzaWZpY2F0aW9uU3BhbikodmFsdWUpKS5DbGFzc2lmaWNhdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5tX0xvY2FsR3JvdXBJZCA9ICgoQ29kZXguSUNsYXNzaWZpY2F0aW9uU3BhbikodmFsdWUpKS5Mb2NhbEdyb3VwSWQ7XHJcbiAgICAgICAgICAgIGJhc2UuQ29weUZyb208U3Bhbj4oKChDb2RleC5JU3BhbikodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JU3ltYm9sU3BhbikpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgU3ltYm9sU3BhbiA6IFRleHRMaW5lU3BhbiwgQ29kZXguSVN5bWJvbFNwYW4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTeW1ib2xTcGFuKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgU3ltYm9sU3BhbihDb2RleC5JU3ltYm9sU3BhbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFN5bWJvbFNwYW4+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFN5bWJvbFNwYW4oQ29kZXguSVRleHRMaW5lU3BhbiB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFN5bWJvbFNwYW4oQ29kZXguSUxpbmVTcGFuIHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgU3ltYm9sU3BhbihDb2RleC5JU3BhbiB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JU3ltYm9sU3BhbiB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFN5bWJvbFNwYW4ge1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFRleHRMaW5lU3Bhbj4oKChDb2RleC5JVGV4dExpbmVTcGFuKSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklUZXh0TGluZVNwYW4pKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFRleHRMaW5lU3BhbiA6IExpbmVTcGFuLCBDb2RleC5JVGV4dExpbmVTcGFuIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0xpbmVTcGFuVGV4dDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgVGV4dExpbmVTcGFuKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgVGV4dExpbmVTcGFuKENvZGV4LklUZXh0TGluZVNwYW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxUZXh0TGluZVNwYW4+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFRleHRMaW5lU3BhbihDb2RleC5JTGluZVNwYW4gdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBUZXh0TGluZVNwYW4oQ29kZXguSVNwYW4gdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGxpbmUgdGV4dFxyXG4gICAgICAgIC8vLyBUT0RPOiBJdCB3b3VsZCBiZSBuaWNlIHRvIG5vdCBzdG9yZSB0aGlzIGhlcmUgYW5kIGluc3RlYWQgYXBwbHkgaXQgYXMgYSBqb2luXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgTGluZVNwYW5UZXh0IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fTGluZVNwYW5UZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fTGluZVNwYW5UZXh0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JVGV4dExpbmVTcGFuIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogVGV4dExpbmVTcGFuIHtcclxuICAgICAgICAgICAgdGhpcy5tX0xpbmVTcGFuVGV4dCA9ICgoQ29kZXguSVRleHRMaW5lU3BhbikodmFsdWUpKS5MaW5lU3BhblRleHQ7XHJcbiAgICAgICAgICAgIGJhc2UuQ29weUZyb208TGluZVNwYW4+KCgoQ29kZXguSUxpbmVTcGFuKSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklMaW5lU3BhbikpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgTGluZVNwYW4gOiBTcGFuLCBDb2RleC5JTGluZVNwYW4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLk51bGxhYmxlPGludD4gbV9MaW5lSW5kZXg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uTnVsbGFibGU8aW50PiBtX0xpbmVOdW1iZXI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBpbnQgbV9MaW5lU3BhblN0YXJ0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgaW50IG1fTGluZU9mZnNldDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgTGluZVNwYW4oKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBMaW5lU3BhbihDb2RleC5JTGluZVNwYW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxMaW5lU3Bhbj4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgTGluZVNwYW4oQ29kZXguSVNwYW4gdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIDAtYmFzZWQgaW5kZXggb2YgdGhlIGxpbmUgY29udGFpbmluZyB0aGUgc3BhblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IExpbmVJbmRleCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5Db2VyY2VMaW5lSW5kZXgodGhpcy5tX0xpbmVJbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9MaW5lSW5kZXggPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSAxLWJhc2VkIGxpbmUgbnVtYmVyIG9mIHRoZSBsaW5lIGNvbnRhaW5pbmcgdGhlIHNwYW5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGludCBMaW5lTnVtYmVyIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkNvZXJjZUxpbmVOdW1iZXIodGhpcy5tX0xpbmVOdW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fTGluZU51bWJlciA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGNoYXJhY3RlciBwb3NpdGlvbiB3aGVyZSB0aGUgc3BhbiBzdGFydHMgaW4gdGhlIGxpbmUgdGV4dFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IExpbmVTcGFuU3RhcnQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9MaW5lU3BhblN0YXJ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fTGluZVNwYW5TdGFydCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gSWYgcG9zaXRpdmUsIHRoZSBvZmZzZXQgb2YgdGhlIGxpbmUgc3BhbiBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpbmVcclxuICAgICAgICAvLy8gSWYgbmVnYXRpdmUsIHRoZSBvZmZzZXQgb2YgdGhlIGxpbmVzcGFuIGZyb20gdGhlIGVuZCBvZiB0aGUgbmV4dCBsaW5lXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBpbnQgTGluZU9mZnNldCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0xpbmVPZmZzZXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9MaW5lT2Zmc2V0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JTGluZVNwYW4gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBMaW5lU3BhbiB7XHJcbiAgICAgICAgICAgIHRoaXMubV9MaW5lSW5kZXggPSAoKENvZGV4LklMaW5lU3BhbikodmFsdWUpKS5MaW5lSW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMubV9MaW5lTnVtYmVyID0gKChDb2RleC5JTGluZVNwYW4pKHZhbHVlKSkuTGluZU51bWJlcjtcclxuICAgICAgICAgICAgdGhpcy5tX0xpbmVTcGFuU3RhcnQgPSAoKENvZGV4LklMaW5lU3BhbikodmFsdWUpKS5MaW5lU3BhblN0YXJ0O1xyXG4gICAgICAgICAgICB0aGlzLm1fTGluZU9mZnNldCA9ICgoQ29kZXguSUxpbmVTcGFuKSh2YWx1ZSkpLkxpbmVPZmZzZXQ7XHJcbiAgICAgICAgICAgIGJhc2UuQ29weUZyb208U3Bhbj4oKChDb2RleC5JU3BhbikodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JU3BhbikpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgU3BhbiA6IENvZGV4LkVudGl0eUJhc2UsIENvZGV4LklTcGFuIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIGludCBtX1N0YXJ0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgaW50IG1fTGVuZ3RoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTcGFuKCkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTcGFuKENvZGV4LklTcGFuIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxTcGFuPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGFic29sdXRlIGNoYXJhY3RlciBvZmZzZXQgb2YgdGhlIHNwYW4gd2l0aGluIHRoZSBkb2N1bWVudFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IFN0YXJ0IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fU3RhcnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9TdGFydCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGxlbmd0aCBvZiB0aGUgc3BhblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IExlbmd0aCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0xlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0xlbmd0aCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVNwYW4gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBTcGFuIHtcclxuICAgICAgICAgICAgdGhpcy5tX1N0YXJ0ID0gKChDb2RleC5JU3BhbikodmFsdWUpKS5TdGFydDtcclxuICAgICAgICAgICAgdGhpcy5tX0xlbmd0aCA9ICgoQ29kZXguSVNwYW4pKHZhbHVlKSkuTGVuZ3RoO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSUNvZGVSZXZpZXcpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIENvZGVSZXZpZXcgOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JQ29kZVJldmlldyB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9JZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0Rlc2NyaXB0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fVXJsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgQ29kZXguQ29kZVJldmlld1N0YXR1cyBtX1N0YXR1cztcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29kZVJldmlldygpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29kZVJldmlldyhDb2RleC5JQ29kZVJldmlldyB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208Q29kZVJldmlldz4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgSWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9JZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0lkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIERlc2NyaXB0aW9uIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9EZXNjcmlwdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVXJsIGZvciBhY2Nlc3NpbmcgY29kZSByZXZpZXcgaW4gc291cmNlIGNvbnRyb2wgbWFuYWdlbWVudCAoaS5lLiBHaXRIdWIgb3IgVlNPKVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFVybCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1VybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1VybCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIENvZGV4LkNvZGVSZXZpZXdTdGF0dXMgU3RhdHVzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fU3RhdHVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fU3RhdHVzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQ29kZVJldmlldyB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IENvZGVSZXZpZXcge1xyXG4gICAgICAgICAgICB0aGlzLm1fSWQgPSAoKENvZGV4LklDb2RlUmV2aWV3KSh2YWx1ZSkpLklkO1xyXG4gICAgICAgICAgICB0aGlzLm1fRGVzY3JpcHRpb24gPSAoKENvZGV4LklDb2RlUmV2aWV3KSh2YWx1ZSkpLkRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLm1fVXJsID0gKChDb2RleC5JQ29kZVJldmlldykodmFsdWUpKS5Vcmw7XHJcbiAgICAgICAgICAgIHRoaXMubV9TdGF0dXMgPSAoKENvZGV4LklDb2RlUmV2aWV3KSh2YWx1ZSkpLlN0YXR1cztcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklDb2RlUmV2aWV3SXRlcmF0aW9uKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBDb2RlUmV2aWV3SXRlcmF0aW9uIDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSUNvZGVSZXZpZXdJdGVyYXRpb24ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgaW50IG1fSXRlcmF0aW9uTnVtYmVyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUmV2aWV3SWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9EZXNjcmlwdGlvbjtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8Q29kZVJldmlld0ZpbGU+IG1fRmlsZXMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb2RlUmV2aWV3RmlsZT4oKTtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29kZVJldmlld0l0ZXJhdGlvbigpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29kZVJldmlld0l0ZXJhdGlvbihDb2RleC5JQ29kZVJldmlld0l0ZXJhdGlvbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208Q29kZVJldmlld0l0ZXJhdGlvbj4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBpbnQgSXRlcmF0aW9uTnVtYmVyIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fSXRlcmF0aW9uTnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fSXRlcmF0aW9uTnVtYmVyID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFJldmlld0lkIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUmV2aWV3SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9SZXZpZXdJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0Rlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRGVzY3JpcHRpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PENvZGV4LklDb2RlUmV2aWV3RmlsZT4gQ29kZXguSUNvZGVSZXZpZXdJdGVyYXRpb24uRmlsZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuRmlsZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb2RlUmV2aWV3RmlsZT4gRmlsZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9GaWxlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0ZpbGVzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQ29kZVJldmlld0l0ZXJhdGlvbiB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IENvZGVSZXZpZXdJdGVyYXRpb24ge1xyXG4gICAgICAgICAgICB0aGlzLm1fSXRlcmF0aW9uTnVtYmVyID0gKChDb2RleC5JQ29kZVJldmlld0l0ZXJhdGlvbikodmFsdWUpKS5JdGVyYXRpb25OdW1iZXI7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXZpZXdJZCA9ICgoQ29kZXguSUNvZGVSZXZpZXdJdGVyYXRpb24pKHZhbHVlKSkuUmV2aWV3SWQ7XHJcbiAgICAgICAgICAgIHRoaXMubV9EZXNjcmlwdGlvbiA9ICgoQ29kZXguSUNvZGVSZXZpZXdJdGVyYXRpb24pKHZhbHVlKSkuRGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgIHRoaXMubV9GaWxlcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PENvZGVSZXZpZXdGaWxlPihTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlNlbGVjdDxnbG9iYWw6OkNvZGV4LklDb2RlUmV2aWV3RmlsZSxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvZGVSZXZpZXdGaWxlPigoKENvZGV4LklDb2RlUmV2aWV3SXRlcmF0aW9uKSh2YWx1ZSkpLkZpbGVzLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklDb2RlUmV2aWV3RmlsZSwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Db2RlUmV2aWV3RmlsZT4pKHYgPT4gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5JQ29kZVJldmlld0ZpbGUsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Db2RlUmV2aWV3RmlsZT4odiwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JQ29kZVJldmlld0ZpbGUsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ29kZVJldmlld0ZpbGU+KShfdiA9PiBuZXcgQ29kZVJldmlld0ZpbGUoKS5Db3B5RnJvbTxDb2RlUmV2aWV3RmlsZT4oX3YpKSkpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JQ29kZVJldmlld2VySW5mbykpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgQ29kZVJldmlld2VySW5mbyA6IENvZGV4LkVudGl0eUJhc2UsIENvZGV4LklDb2RlUmV2aWV3ZXJJbmZvIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX05hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvZGVSZXZpZXdlckluZm8oKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvZGVSZXZpZXdlckluZm8oQ29kZXguSUNvZGVSZXZpZXdlckluZm8gdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPENvZGVSZXZpZXdlckluZm8+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIE5hbWUge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fTmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSUNvZGVSZXZpZXdlckluZm8gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDb2RlUmV2aWV3ZXJJbmZvIHtcclxuICAgICAgICAgICAgdGhpcy5tX05hbWUgPSAoKENvZGV4LklDb2RlUmV2aWV3ZXJJbmZvKSh2YWx1ZSkpLk5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JQ29kZVJldmlld0ZpbGUpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIENvZGVSZXZpZXdGaWxlIDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSUNvZGVSZXZpZXdGaWxlIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIGludCBtX1N0YXJ0SXRlcmF0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUmVwb1JlbGF0aXZlUGF0aDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0ZpbGVJZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0Jhc2VsaW5lRmlsZUlkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgQ29kZXguRmlsZUNoYW5nZUtpbmQgbV9DaGFuZ2VLaW5kO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb2RlUmV2aWV3RmlsZSgpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29kZVJldmlld0ZpbGUoQ29kZXguSUNvZGVSZXZpZXdGaWxlIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxDb2RlUmV2aWV3RmlsZT4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBmaXJzdCBpdGVyYXRpb24gaW4gd2hpY2ggdGhpcyBmaWxlIGFwcGVhcnNcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGludCBTdGFydEl0ZXJhdGlvbiB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1N0YXJ0SXRlcmF0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fU3RhcnRJdGVyYXRpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSByZWxhdGl2ZSBwYXRoIGluIHRoZSByZXBvc2l0b3J5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUmVwb1JlbGF0aXZlUGF0aCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1JlcG9SZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZmlsZSBpZCBvZiB0aGUgbmV3IHZlcnNpb24gb2YgdGhlIGZpbGVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBGaWxlSWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9GaWxlSWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9GaWxlSWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBmaWxlIGlkIG9mIHRoZSBiYXNlbGluZSB2ZXJzaW9uIG9mIHRoZSBmaWxlXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgQmFzZWxpbmVGaWxlSWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9CYXNlbGluZUZpbGVJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0Jhc2VsaW5lRmlsZUlkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgdHlwZSBvZiBjaGFuZ2UgYXBwbGllZCB0byB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgQ29kZXguRmlsZUNoYW5nZUtpbmQgQ2hhbmdlS2luZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NoYW5nZUtpbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9DaGFuZ2VLaW5kID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQ29kZVJldmlld0ZpbGUgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDb2RlUmV2aWV3RmlsZSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9TdGFydEl0ZXJhdGlvbiA9ICgoQ29kZXguSUNvZGVSZXZpZXdGaWxlKSh2YWx1ZSkpLlN0YXJ0SXRlcmF0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVwb1JlbGF0aXZlUGF0aCA9ICgoQ29kZXguSUNvZGVSZXZpZXdGaWxlKSh2YWx1ZSkpLlJlcG9SZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMubV9GaWxlSWQgPSAoKENvZGV4LklDb2RlUmV2aWV3RmlsZSkodmFsdWUpKS5GaWxlSWQ7XHJcbiAgICAgICAgICAgIHRoaXMubV9CYXNlbGluZUZpbGVJZCA9ICgoQ29kZXguSUNvZGVSZXZpZXdGaWxlKSh2YWx1ZSkpLkJhc2VsaW5lRmlsZUlkO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ2hhbmdlS2luZCA9ICgoQ29kZXguSUNvZGVSZXZpZXdGaWxlKSh2YWx1ZSkpLkNoYW5nZUtpbmQ7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JQ29kZVJldmlld0NvbW1lbnRUaHJlYWQpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIENvZGVSZXZpZXdDb21tZW50VGhyZWFkIDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSUNvZGVSZXZpZXdDb21tZW50VGhyZWFkIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIExpbmVTcGFuIG1fT3JpZ2luYWxTcGFuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgaW50IG1fU3RhcnRJdGVyYXRpb247XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uRGF0ZVRpbWUgbV9MYXN0VXBkYXRlZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0ZpbGVSZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb2RlUmV2aWV3Q29tbWVudD4gbV9Db21tZW50cyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PENvZGVSZXZpZXdDb21tZW50PigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb2RlUmV2aWV3Q29tbWVudFRocmVhZCgpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29kZVJldmlld0NvbW1lbnRUaHJlYWQoQ29kZXguSUNvZGVSZXZpZXdDb21tZW50VGhyZWFkIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxDb2RlUmV2aWV3Q29tbWVudFRocmVhZD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBvcmlnaW5hbCBsb2NhdGlvbiBmb3IgdGhlIGNvbW1lbnQgaW4gdGhlIG9yaWdpbmF0aW5nIGl0ZXJhdGlvblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgQ29kZXguSUxpbmVTcGFuIENvZGV4LklDb2RlUmV2aWV3Q29tbWVudFRocmVhZC5PcmlnaW5hbFNwYW4ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuT3JpZ2luYWxTcGFuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG9yaWdpbmFsIGxvY2F0aW9uIGZvciB0aGUgY29tbWVudCBpbiB0aGUgb3JpZ2luYXRpbmcgaXRlcmF0aW9uXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBMaW5lU3BhbiBPcmlnaW5hbFNwYW4ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9PcmlnaW5hbFNwYW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9PcmlnaW5hbFNwYW4gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBpdGVyYXRpb24gd2hlcmUgdGhlIGNvbW1lbnQgb3JpZ2luYXRlZFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IFN0YXJ0SXRlcmF0aW9uIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fU3RhcnRJdGVyYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9TdGFydEl0ZXJhdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGxhc3QgdGllXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBTeXN0ZW0uRGF0ZVRpbWUgTGFzdFVwZGF0ZWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9MYXN0VXBkYXRlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0xhc3RVcGRhdGVkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIEZpbGVSZXBvUmVsYXRpdmVQYXRoIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRmlsZVJlcG9SZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9GaWxlUmVwb1JlbGF0aXZlUGF0aCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8Q29kZXguSUNvZGVSZXZpZXdDb21tZW50PiBDb2RleC5JQ29kZVJldmlld0NvbW1lbnRUaHJlYWQuQ29tbWVudHMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ29tbWVudHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb2RlUmV2aWV3Q29tbWVudD4gQ29tbWVudHMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Db21tZW50cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NvbW1lbnRzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQ29kZVJldmlld0NvbW1lbnRUaHJlYWQgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDb2RlUmV2aWV3Q29tbWVudFRocmVhZCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9PcmlnaW5hbFNwYW4gPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkxpbmVTcGFuLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuTGluZVNwYW4+KE9yaWdpbmFsU3BhbiwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5MaW5lU3BhbiwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5MaW5lU3Bhbj4pKHYgPT4gbmV3IExpbmVTcGFuKCkuQ29weUZyb208TGluZVNwYW4+KHYpKSk7O1xyXG4gICAgICAgICAgICB0aGlzLm1fU3RhcnRJdGVyYXRpb24gPSAoKENvZGV4LklDb2RlUmV2aWV3Q29tbWVudFRocmVhZCkodmFsdWUpKS5TdGFydEl0ZXJhdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5tX0xhc3RVcGRhdGVkID0gKChDb2RleC5JQ29kZVJldmlld0NvbW1lbnRUaHJlYWQpKHZhbHVlKSkuTGFzdFVwZGF0ZWQ7XHJcbiAgICAgICAgICAgIHRoaXMubV9GaWxlUmVwb1JlbGF0aXZlUGF0aCA9ICgoQ29kZXguSUNvZGVSZXZpZXdDb21tZW50VGhyZWFkKSh2YWx1ZSkpLkZpbGVSZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ29tbWVudHMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb2RlUmV2aWV3Q29tbWVudD4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JQ29kZVJldmlld0NvbW1lbnQsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Db2RlUmV2aWV3Q29tbWVudD4oKChDb2RleC5JQ29kZVJldmlld0NvbW1lbnRUaHJlYWQpKHZhbHVlKSkuQ29tbWVudHMsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSUNvZGVSZXZpZXdDb21tZW50LCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvZGVSZXZpZXdDb21tZW50PikodiA9PiBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4LklDb2RlUmV2aWV3Q29tbWVudCxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvZGVSZXZpZXdDb21tZW50Pih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklDb2RlUmV2aWV3Q29tbWVudCwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Db2RlUmV2aWV3Q29tbWVudD4pKF92ID0+IG5ldyBDb2RlUmV2aWV3Q29tbWVudCgpLkNvcHlGcm9tPENvZGVSZXZpZXdDb21tZW50PihfdikpKSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklDb2RlUmV2aWV3Q29tbWVudCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgQ29kZVJldmlld0NvbW1lbnQgOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JQ29kZVJldmlld0NvbW1lbnQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fVGV4dDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1Jldmlld2VyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgQ29kZXguQ29tbWVudEltcG9ydGFuY2UgbV9JbXBvcnRhbmNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkRhdGVUaW1lIG1fQ29tbWVudFRpbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvZGVSZXZpZXdDb21tZW50KCkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb2RlUmV2aWV3Q29tbWVudChDb2RleC5JQ29kZVJldmlld0NvbW1lbnQgdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPENvZGVSZXZpZXdDb21tZW50Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBUZXh0IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1RleHQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSByZXZpZXdlciB3aGljaCBtYWRlIHRoZSBjb21tZW50XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUmV2aWV3ZXIge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZXZpZXdlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1Jldmlld2VyID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaW1wb3J0YW5jZSBvZiB0aGUgY29tbWVudFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgQ29kZXguQ29tbWVudEltcG9ydGFuY2UgSW1wb3J0YW5jZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0ltcG9ydGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9JbXBvcnRhbmNlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgdGltZSB3aGVuIHRoZSBjb21tZW50IHdhcyBzdWJtaXR0ZWRcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5EYXRlVGltZSBDb21tZW50VGltZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NvbW1lbnRUaW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ29tbWVudFRpbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklDb2RlUmV2aWV3Q29tbWVudCB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IENvZGVSZXZpZXdDb21tZW50IHtcclxuICAgICAgICAgICAgdGhpcy5tX1RleHQgPSAoKENvZGV4LklDb2RlUmV2aWV3Q29tbWVudCkodmFsdWUpKS5UZXh0O1xyXG4gICAgICAgICAgICB0aGlzLm1fUmV2aWV3ZXIgPSAoKENvZGV4LklDb2RlUmV2aWV3Q29tbWVudCkodmFsdWUpKS5SZXZpZXdlcjtcclxuICAgICAgICAgICAgdGhpcy5tX0ltcG9ydGFuY2UgPSAoKENvZGV4LklDb2RlUmV2aWV3Q29tbWVudCkodmFsdWUpKS5JbXBvcnRhbmNlO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ29tbWVudFRpbWUgPSAoKENvZGV4LklDb2RlUmV2aWV3Q29tbWVudCkodmFsdWUpKS5Db21tZW50VGltZTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklMYW5ndWFnZUluZm8pKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIExhbmd1YWdlSW5mbyA6IENvZGV4LkVudGl0eUJhc2UsIENvZGV4LklMYW5ndWFnZUluZm8ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fTmFtZTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8Q2xhc3NpZmljYXRpb25TdHlsZT4gbV9DbGFzc2lmaWNhdGlvbnMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDbGFzc2lmaWNhdGlvblN0eWxlPigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBMYW5ndWFnZUluZm8oKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIExhbmd1YWdlSW5mbyhDb2RleC5JTGFuZ3VhZ2VJbmZvIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxMYW5ndWFnZUluZm8+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgbmFtZSBvZiB0aGUgbGFuZ3VhZ2VcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBOYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX05hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIERlc2NyaWJlcyB0aGUgc3R5bGUgZm9yIGNsYXNzaWZpZWQgc3BhbnMuIFNlZSA8c2VlIGNyZWY9XCJQOkNvZGV4LklCb3VuZFNvdXJjZUluZm8uQ2xhc3NpZmljYXRpb25zXCIgLz4uXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PENvZGV4LklDbGFzc2lmaWNhdGlvblN0eWxlPiBDb2RleC5JTGFuZ3VhZ2VJbmZvLkNsYXNzaWZpY2F0aW9ucyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5DbGFzc2lmaWNhdGlvbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBEZXNjcmliZXMgdGhlIHN0eWxlIGZvciBjbGFzc2lmaWVkIHNwYW5zLiBTZWUgPHNlZSBjcmVmPVwiUDpDb2RleC5JQm91bmRTb3VyY2VJbmZvLkNsYXNzaWZpY2F0aW9uc1wiIC8+LlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDbGFzc2lmaWNhdGlvblN0eWxlPiBDbGFzc2lmaWNhdGlvbnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9DbGFzc2lmaWNhdGlvbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9DbGFzc2lmaWNhdGlvbnMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklMYW5ndWFnZUluZm8gdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBMYW5ndWFnZUluZm8ge1xyXG4gICAgICAgICAgICB0aGlzLm1fTmFtZSA9ICgoQ29kZXguSUxhbmd1YWdlSW5mbykodmFsdWUpKS5OYW1lO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ2xhc3NpZmljYXRpb25zID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8Q2xhc3NpZmljYXRpb25TdHlsZT4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JQ2xhc3NpZmljYXRpb25TdHlsZSxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNsYXNzaWZpY2F0aW9uU3R5bGU+KCgoQ29kZXguSUxhbmd1YWdlSW5mbykodmFsdWUpKS5DbGFzc2lmaWNhdGlvbnMsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSUNsYXNzaWZpY2F0aW9uU3R5bGUsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ2xhc3NpZmljYXRpb25TdHlsZT4pKHYgPT4gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5JQ2xhc3NpZmljYXRpb25TdHlsZSxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNsYXNzaWZpY2F0aW9uU3R5bGU+KHYsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSUNsYXNzaWZpY2F0aW9uU3R5bGUsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ2xhc3NpZmljYXRpb25TdHlsZT4pKF92ID0+IG5ldyBDbGFzc2lmaWNhdGlvblN0eWxlKCkuQ29weUZyb208Q2xhc3NpZmljYXRpb25TdHlsZT4oX3YpKSkpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBEZXNjcmliZXMgc3R5bGluZyBmb3IgYSBnaXZlbiBjbGFzc2lmaWNhdGlvblxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JQ2xhc3NpZmljYXRpb25TdHlsZSkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgQ2xhc3NpZmljYXRpb25TdHlsZSA6IENvZGV4LkVudGl0eUJhc2UsIENvZGV4LklDbGFzc2lmaWNhdGlvblN0eWxlIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIGludCBtX0NvbG9yO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgYm9vbCBtX0l0YWxpYztcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX05hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENsYXNzaWZpY2F0aW9uU3R5bGUoKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENsYXNzaWZpY2F0aW9uU3R5bGUoQ29kZXguSUNsYXNzaWZpY2F0aW9uU3R5bGUgdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPENsYXNzaWZpY2F0aW9uU3R5bGU+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZGVmYXVsdCBjbGFzc2lmaWNhdGlvbiBjb2xvciBmb3IgdGhlIGNsYXNzaWZpY2F0aW9uLiBUaGlzIGlzIHVzZWQgZm9yXHJcbiAgICAgICAgLy8vIGNvbnRleHRzIHdoZXJlIGEgbWFwcGluZyBmcm9tIGNsYXNzaWZpY2F0aW9uIGlkIHRvIGNvbG9yIGlzIG5vdFxyXG4gICAgICAgIC8vLyBhdmFpbGFibGUuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBpbnQgQ29sb3Ige1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Db2xvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NvbG9yID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc3BhbnMgY2xhc3NpZmllZCB3aXRoIHRoaXMgY2xhc3NpZmljYXRpb24gc2hvdWxkIGhhdmUgaXRhbGljIGZvbnQgYnkgZGVmYXVsdFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgYm9vbCBJdGFsaWMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9JdGFsaWM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9JdGFsaWMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSBjbGFzc2lmaWNhdGlvblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIE5hbWUge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fTmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSUNsYXNzaWZpY2F0aW9uU3R5bGUgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDbGFzc2lmaWNhdGlvblN0eWxlIHtcclxuICAgICAgICAgICAgdGhpcy5tX0NvbG9yID0gKChDb2RleC5JQ2xhc3NpZmljYXRpb25TdHlsZSkodmFsdWUpKS5Db2xvcjtcclxuICAgICAgICAgICAgdGhpcy5tX0l0YWxpYyA9ICgoQ29kZXguSUNsYXNzaWZpY2F0aW9uU3R5bGUpKHZhbHVlKSkuSXRhbGljO1xyXG4gICAgICAgICAgICB0aGlzLm1fTmFtZSA9ICgoQ29kZXguSUNsYXNzaWZpY2F0aW9uU3R5bGUpKHZhbHVlKSkuTmFtZTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklQcm9qZWN0KSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBBbmFseXplZFByb2plY3QgOiBQcm9qZWN0U2NvcGVFbnRpdHksIENvZGV4LklQcm9qZWN0IHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1Byb2plY3RLaW5kO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxQcm9qZWN0RmlsZUxpbms+IG1fRmlsZXMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxQcm9qZWN0RmlsZUxpbms+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PFJlZmVyZW5jZWRQcm9qZWN0PiBtX1Byb2plY3RSZWZlcmVuY2VzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UmVmZXJlbmNlZFByb2plY3Q+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIEFuYWx5emVkUHJvamVjdCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIEFuYWx5emVkUHJvamVjdChDb2RleC5JUHJvamVjdCB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPEFuYWx5emVkUHJvamVjdD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQW5hbHl6ZWRQcm9qZWN0KENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBBbmFseXplZFByb2plY3QoQ29kZXguSVJlcG9TY29wZUVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcHJvamVjdCBraW5kIChzZWUgPHNlZSBjcmVmPVwiVDpDb2RleC5PYmplY3RNb2RlbC5Qcm9qZWN0S2luZFwiIC8+KVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFByb2plY3RLaW5kIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUHJvamVjdEtpbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0S2luZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gUmVmZXJlbmNlcyB0byBmaWxlcyBpbiB0aGUgcHJvamVjdFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxDb2RleC5JUHJvamVjdEZpbGVMaW5rPiBDb2RleC5JUHJvamVjdC5GaWxlcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5GaWxlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFJlZmVyZW5jZXMgdG8gZmlsZXMgaW4gdGhlIHByb2plY3RcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UHJvamVjdEZpbGVMaW5rPiBGaWxlcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0ZpbGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRmlsZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIERlc2NyaXB0aW9ucyBvZiByZWZlcmVuY2VkIHByb2plY3RzIGFuZCB1c2VkIGRlZmluaXRpb25zIGZyb20gdGhlIHByb2plY3RzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PENvZGV4LklSZWZlcmVuY2VkUHJvamVjdD4gQ29kZXguSVByb2plY3QuUHJvamVjdFJlZmVyZW5jZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuUHJvamVjdFJlZmVyZW5jZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBEZXNjcmlwdGlvbnMgb2YgcmVmZXJlbmNlZCBwcm9qZWN0cyBhbmQgdXNlZCBkZWZpbml0aW9ucyBmcm9tIHRoZSBwcm9qZWN0c1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxSZWZlcmVuY2VkUHJvamVjdD4gUHJvamVjdFJlZmVyZW5jZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Qcm9qZWN0UmVmZXJlbmNlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RSZWZlcmVuY2VzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUHJvamVjdCB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IEFuYWx5emVkUHJvamVjdCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0S2luZCA9ICgoQ29kZXguSVByb2plY3QpKHZhbHVlKSkuUHJvamVjdEtpbmQ7XHJcbiAgICAgICAgICAgIHRoaXMubV9GaWxlcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PFByb2plY3RGaWxlTGluaz4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JUHJvamVjdEZpbGVMaW5rLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUHJvamVjdEZpbGVMaW5rPigoKENvZGV4LklQcm9qZWN0KSh2YWx1ZSkpLkZpbGVzLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklQcm9qZWN0RmlsZUxpbmssIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUHJvamVjdEZpbGVMaW5rPikodiA9PiBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4LklQcm9qZWN0RmlsZUxpbmssZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Qcm9qZWN0RmlsZUxpbms+KHYsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSVByb2plY3RGaWxlTGluaywgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Qcm9qZWN0RmlsZUxpbms+KShfdiA9PiBuZXcgUHJvamVjdEZpbGVMaW5rKCkuQ29weUZyb208UHJvamVjdEZpbGVMaW5rPihfdikpKSkpKTtcclxuICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RSZWZlcmVuY2VzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UmVmZXJlbmNlZFByb2plY3Q+KFN5c3RlbS5MaW5xLkVudW1lcmFibGUuU2VsZWN0PGdsb2JhbDo6Q29kZXguSVJlZmVyZW5jZWRQcm9qZWN0LGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVmZXJlbmNlZFByb2plY3Q+KCgoQ29kZXguSVByb2plY3QpKHZhbHVlKSkuUHJvamVjdFJlZmVyZW5jZXMsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSVJlZmVyZW5jZWRQcm9qZWN0LCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZWRQcm9qZWN0PikodiA9PiBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4LklSZWZlcmVuY2VkUHJvamVjdCxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZWRQcm9qZWN0Pih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklSZWZlcmVuY2VkUHJvamVjdCwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VkUHJvamVjdD4pKF92ID0+IG5ldyBSZWZlcmVuY2VkUHJvamVjdCgpLkNvcHlGcm9tPFJlZmVyZW5jZWRQcm9qZWN0PihfdikpKSkpKTtcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxQcm9qZWN0U2NvcGVFbnRpdHk+KCgoQ29kZXguSVByb2plY3RTY29wZUVudGl0eSkodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JUmVmZXJlbmNlZFByb2plY3QpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFJlZmVyZW5jZWRQcm9qZWN0IDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSVJlZmVyZW5jZWRQcm9qZWN0IHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1Byb2plY3RJZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8RGVmaW5pdGlvblN5bWJvbD4gbV9EZWZpbml0aW9ucyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PERlZmluaXRpb25TeW1ib2w+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9EaXNwbGF5TmFtZTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFByb3BlcnR5TWFwIG1fUHJvcGVydGllcztcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVmZXJlbmNlZFByb2plY3QoKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlZmVyZW5jZWRQcm9qZWN0KENvZGV4LklSZWZlcmVuY2VkUHJvamVjdCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UmVmZXJlbmNlZFByb2plY3Q+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaWRlbnRpZmllciBvZiB0aGUgcmVmZXJlbmNlZCBwcm9qZWN0XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUHJvamVjdElkIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUHJvamVjdElkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUHJvamVjdElkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBVc2VkIGRlZmluaXRpb25zIGZvciB0aGUgcHJvamVjdC4gU29ydGVkLlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxDb2RleC5JRGVmaW5pdGlvblN5bWJvbD4gQ29kZXguSVJlZmVyZW5jZWRQcm9qZWN0LkRlZmluaXRpb25zIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkRlZmluaXRpb25zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVXNlZCBkZWZpbml0aW9ucyBmb3IgdGhlIHByb2plY3QuIFNvcnRlZC5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8RGVmaW5pdGlvblN5bWJvbD4gRGVmaW5pdGlvbnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9EZWZpbml0aW9ucztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0RlZmluaXRpb25zID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSBwcm9qZWN0XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgRGlzcGxheU5hbWUge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9EaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0Rpc3BsYXlOYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcHJvcGVydGllcyBvZiB0aGUgcHJvamVjdC4gU3VjaCBhcyBWZXJzaW9uLCBQdWJsaWNLZXksIGV0Yy5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIENvZGV4LklQcm9wZXJ0eU1hcCBDb2RleC5JUmVmZXJlbmNlZFByb2plY3QuUHJvcGVydGllcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5Qcm9wZXJ0aWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHByb3BlcnRpZXMgb2YgdGhlIHByb2plY3QuIFN1Y2ggYXMgVmVyc2lvbiwgUHVibGljS2V5LCBldGMuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBQcm9wZXJ0eU1hcCBQcm9wZXJ0aWVzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUHJvcGVydGllcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1Byb3BlcnRpZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklSZWZlcmVuY2VkUHJvamVjdCB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFJlZmVyZW5jZWRQcm9qZWN0IHtcclxuICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RJZCA9ICgoQ29kZXguSVJlZmVyZW5jZWRQcm9qZWN0KSh2YWx1ZSkpLlByb2plY3RJZDtcclxuICAgICAgICAgICAgdGhpcy5tX0RlZmluaXRpb25zID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8RGVmaW5pdGlvblN5bWJvbD4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JRGVmaW5pdGlvblN5bWJvbCxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRlZmluaXRpb25TeW1ib2w+KCgoQ29kZXguSVJlZmVyZW5jZWRQcm9qZWN0KSh2YWx1ZSkpLkRlZmluaXRpb25zLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklEZWZpbml0aW9uU3ltYm9sLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRlZmluaXRpb25TeW1ib2w+KSh2ID0+IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguSURlZmluaXRpb25TeW1ib2wsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3ltYm9sPih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklEZWZpbml0aW9uU3ltYm9sLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRlZmluaXRpb25TeW1ib2w+KShfdiA9PiBuZXcgRGVmaW5pdGlvblN5bWJvbCgpLkNvcHlGcm9tPERlZmluaXRpb25TeW1ib2w+KF92KSkpKSkpO1xyXG4gICAgICAgICAgICB0aGlzLm1fRGlzcGxheU5hbWUgPSAoKENvZGV4LklSZWZlcmVuY2VkUHJvamVjdCkodmFsdWUpKS5EaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX1Byb3BlcnRpZXMgPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlByb3BlcnR5TWFwLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUHJvcGVydHlNYXA+KFByb3BlcnRpZXMsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUHJvcGVydHlNYXAsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUHJvcGVydHlNYXA+KSh2ID0+IG5ldyBQcm9wZXJ0eU1hcCgpLkNvcHlGcm9tPFByb3BlcnR5TWFwPih2KSkpOztcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIE5PVEU6IERvIG5vdCBzZXQgPHNlZSBjcmVmPVwiUDpDb2RleC5JUmVwb1Njb3BlRW50aXR5LlJlcG9zaXRvcnlOYW1lXCIgLz5cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVByb2plY3RGaWxlTGluaykpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgUHJvamVjdEZpbGVMaW5rIDogUHJvamVjdEZpbGVTY29wZUVudGl0eSwgQ29kZXguSVByb2plY3RGaWxlTGluayB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9GaWxlSWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFByb2plY3RGaWxlTGluaygpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFByb2plY3RGaWxlTGluayhDb2RleC5JUHJvamVjdEZpbGVMaW5rIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UHJvamVjdEZpbGVMaW5rPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0RmlsZUxpbmsoQ29kZXguSVByb2plY3RGaWxlU2NvcGVFbnRpdHkgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVW5pcXVlIGlkZW50aWZpZXIgZm9yIGZpbGVcclxuICAgICAgICAvLy8gVE9ETzogTWFrZSB0aGlzIGNoZWNrc3VtIGFuZCBzZWFyY2hhYmxlIGFuZCB1c2UgZm9yIGRpc2NvdmVyaW5nIGNvbW1pdCBmcm9tIFBEQi5cclxuICAgICAgICAvLy8gVE9ETzogV2hhdCBpcyB0aGlzP1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIEZpbGVJZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0ZpbGVJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0ZpbGVJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVByb2plY3RGaWxlTGluayB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFByb2plY3RGaWxlTGluayB7XHJcbiAgICAgICAgICAgIHRoaXMubV9GaWxlSWQgPSAoKENvZGV4LklQcm9qZWN0RmlsZUxpbmspKHZhbHVlKSkuRmlsZUlkO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFByb2plY3RGaWxlU2NvcGVFbnRpdHk+KCgoQ29kZXguSVByb2plY3RGaWxlU2NvcGVFbnRpdHkpKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gRGVmaW5lcyBkb2N1bWVudGF0aW9uIGFib3V0IGEgc3ltYm9sXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklEb2N1bWVudGF0aW9uSW5mbykpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgRG9jdW1lbnRhdGlvbkluZm8gOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JRG9jdW1lbnRhdGlvbkluZm8ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fRGVjbGFyYXRpb25OYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fQ29tbWVudDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5bWJvbCBtX0Fzc29jaWF0ZWRTeW1ib2w7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PERvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2w+IG1fUmVmZXJlbmNlcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PERvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2w+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9TdW1tYXJ5O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUmVtYXJrcztcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8VHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPiBtX0FyZ3VtZW50cyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PFR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4oKTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4gbV9UeXBlUGFyYW1ldGVycyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PFBhcmFtZXRlckRvY3VtZW50YXRpb24+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PFR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4gbV9FeGNlcHRpb25zID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8VHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBEb2N1bWVudGF0aW9uSW5mbygpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgRG9jdW1lbnRhdGlvbkluZm8oQ29kZXguSURvY3VtZW50YXRpb25JbmZvIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxEb2N1bWVudGF0aW9uSW5mbz4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBkZWNsYXJhdGlvbiBuYW1lIGZvciB0aGUgc3ltYm9sXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgRGVjbGFyYXRpb25OYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRGVjbGFyYXRpb25OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRGVjbGFyYXRpb25OYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgY29tbWVudCBhcHBsaWVkIHRvIHRoZSBkZWZpbml0aW9uICh0aGlzIGlzIHRoZSByYXcgZG9jIGNvbW1lbnQgdGV4dClcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBDb21tZW50IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQ29tbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NvbW1lbnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIElkZW50aXR5IG9mIHN5bWJvbCB3aGljaCBnZW5lcmF0ZWQgdGhpcyBkb2N1bWVudGF0aW9uXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBDb2RleC5JQ29kZVN5bWJvbCBDb2RleC5JRG9jdW1lbnRhdGlvbkluZm8uQXNzb2NpYXRlZFN5bWJvbCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5Bc3NvY2lhdGVkU3ltYm9sO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gSWRlbnRpdHkgb2Ygc3ltYm9sIHdoaWNoIGdlbmVyYXRlZCB0aGlzIGRvY3VtZW50YXRpb25cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5bWJvbCBBc3NvY2lhdGVkU3ltYm9sIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQXNzb2NpYXRlZFN5bWJvbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0Fzc29jaWF0ZWRTeW1ib2wgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBvdGhlciBzeW1ib2xzIHJlZmVyZW5jZWQgYnkgdGhpcyBzeW1ib2wgKGkuZS4gYmFzZSB0eXBlLCBpbXBsZW1lbnRlZCBpbnRlcmZhY2VcclxuICAgICAgICAvLy8gb3IgaW50ZXJmYWNlIG1lbWJlcnMsIG92ZXJyaWRkZW4gbWVtYmVycywgcmV0dXJuIHR5cGUgb2YgbWV0aG9kIG9yIHByb3BlcnR5IHR5cGUpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PENvZGV4LklEb2N1bWVudGF0aW9uUmVmZXJlbmNlU3ltYm9sPiBDb2RleC5JRG9jdW1lbnRhdGlvbkluZm8uUmVmZXJlbmNlcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5SZWZlcmVuY2VzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG90aGVyIHN5bWJvbHMgcmVmZXJlbmNlZCBieSB0aGlzIHN5bWJvbCAoaS5lLiBiYXNlIHR5cGUsIGltcGxlbWVudGVkIGludGVyZmFjZVxyXG4gICAgICAgIC8vLyBvciBpbnRlcmZhY2UgbWVtYmVycywgb3ZlcnJpZGRlbiBtZW1iZXJzLCByZXR1cm4gdHlwZSBvZiBtZXRob2Qgb3IgcHJvcGVydHkgdHlwZSlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8RG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbD4gUmVmZXJlbmNlcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1JlZmVyZW5jZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9SZWZlcmVuY2VzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBEZXNjcmliZXMgdGhlIHN5bWJvbFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFN1bW1hcnkge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9TdW1tYXJ5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fU3VtbWFyeSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gU3VwcGxlbWVudGF0aW9uIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzeW1ib2xcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBSZW1hcmtzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUmVtYXJrcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlbWFya3MgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIENvbW1lbnRzIG9uIGFyZ3VtZW50c1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxDb2RleC5JVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPiBDb2RleC5JRG9jdW1lbnRhdGlvbkluZm8uQXJndW1lbnRzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkFyZ3VtZW50cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIENvbW1lbnRzIG9uIGFyZ3VtZW50c1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxUeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24+IEFyZ3VtZW50cyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0FyZ3VtZW50cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0FyZ3VtZW50cyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gQ29tbWVudHMgb24gdHlwZSBwYXJhbWV0ZXJzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PENvZGV4LklQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPiBDb2RleC5JRG9jdW1lbnRhdGlvbkluZm8uVHlwZVBhcmFtZXRlcnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuVHlwZVBhcmFtZXRlcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBDb21tZW50cyBvbiB0eXBlIHBhcmFtZXRlcnNcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4gVHlwZVBhcmFtZXRlcnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9UeXBlUGFyYW1ldGVycztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1R5cGVQYXJhbWV0ZXJzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJbmZvcm1hdGlvbiBhYm91dCBleGNlcHRpb25zIHdoaWNoIGNhbiBiZSB0aHJvd25cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8Q29kZXguSVR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4gQ29kZXguSURvY3VtZW50YXRpb25JbmZvLkV4Y2VwdGlvbnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuRXhjZXB0aW9ucztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEluZm9ybWF0aW9uIGFib3V0IGV4Y2VwdGlvbnMgd2hpY2ggY2FuIGJlIHRocm93blxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxUeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24+IEV4Y2VwdGlvbnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9FeGNlcHRpb25zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRXhjZXB0aW9ucyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSURvY3VtZW50YXRpb25JbmZvIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogRG9jdW1lbnRhdGlvbkluZm8ge1xyXG4gICAgICAgICAgICB0aGlzLm1fRGVjbGFyYXRpb25OYW1lID0gKChDb2RleC5JRG9jdW1lbnRhdGlvbkluZm8pKHZhbHVlKSkuRGVjbGFyYXRpb25OYW1lO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ29tbWVudCA9ICgoQ29kZXguSURvY3VtZW50YXRpb25JbmZvKSh2YWx1ZSkpLkNvbW1lbnQ7XHJcbiAgICAgICAgICAgIHRoaXMubV9Bc3NvY2lhdGVkU3ltYm9sID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5TeW1ib2wsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5TeW1ib2w+KEFzc29jaWF0ZWRTeW1ib2wsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU3ltYm9sLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlN5bWJvbD4pKHYgPT4gbmV3IFN5bWJvbCgpLkNvcHlGcm9tPFN5bWJvbD4odikpKTs7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZWZlcmVuY2VzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8RG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbD4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbCxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2w+KCgoQ29kZXguSURvY3VtZW50YXRpb25JbmZvKSh2YWx1ZSkpLlJlZmVyZW5jZXMsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSURvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbD4pKHYgPT4gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5JRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbCxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2w+KHYsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSURvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbD4pKF92ID0+IG5ldyBEb2N1bWVudGF0aW9uUmVmZXJlbmNlU3ltYm9sKCkuQ29weUZyb208RG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbD4oX3YpKSkpKSk7XHJcbiAgICAgICAgICAgIHRoaXMubV9TdW1tYXJ5ID0gKChDb2RleC5JRG9jdW1lbnRhdGlvbkluZm8pKHZhbHVlKSkuU3VtbWFyeTtcclxuICAgICAgICAgICAgdGhpcy5tX1JlbWFya3MgPSAoKENvZGV4LklEb2N1bWVudGF0aW9uSW5mbykodmFsdWUpKS5SZW1hcmtzO1xyXG4gICAgICAgICAgICB0aGlzLm1fQXJndW1lbnRzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8VHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPihTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlNlbGVjdDxnbG9iYWw6OkNvZGV4LklUeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5UeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24+KCgoQ29kZXguSURvY3VtZW50YXRpb25JbmZvKSh2YWx1ZSkpLkFyZ3VtZW50cywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4pKHYgPT4gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5JVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklUeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPikoX3YgPT4gbmV3IFR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbigpLkNvcHlGcm9tPFR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4oX3YpKSkpKSk7XHJcbiAgICAgICAgICAgIHRoaXMubV9UeXBlUGFyYW1ldGVycyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PFBhcmFtZXRlckRvY3VtZW50YXRpb24+KFN5c3RlbS5MaW5xLkVudW1lcmFibGUuU2VsZWN0PGdsb2JhbDo6Q29kZXguSVBhcmFtZXRlckRvY3VtZW50YXRpb24sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5QYXJhbWV0ZXJEb2N1bWVudGF0aW9uPigoKENvZGV4LklEb2N1bWVudGF0aW9uSW5mbykodmFsdWUpKS5UeXBlUGFyYW1ldGVycywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5QYXJhbWV0ZXJEb2N1bWVudGF0aW9uPikodiA9PiBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4LklQYXJhbWV0ZXJEb2N1bWVudGF0aW9uLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4odiwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5QYXJhbWV0ZXJEb2N1bWVudGF0aW9uPikoX3YgPT4gbmV3IFBhcmFtZXRlckRvY3VtZW50YXRpb24oKS5Db3B5RnJvbTxQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPihfdikpKSkpKTtcclxuICAgICAgICAgICAgdGhpcy5tX0V4Y2VwdGlvbnMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxUeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24+KFN5c3RlbS5MaW5xLkVudW1lcmFibGUuU2VsZWN0PGdsb2JhbDo6Q29kZXguSVR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbixnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4oKChDb2RleC5JRG9jdW1lbnRhdGlvbkluZm8pKHZhbHVlKSkuRXhjZXB0aW9ucywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4pKHYgPT4gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5JVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklUeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPikoX3YgPT4gbmV3IFR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbigpLkNvcHlGcm9tPFR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4oX3YpKSkpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBEb2N1bWVudGF0aW9uIGZvciBhIG1ldGhvZCBwYXJhbWV0ZXJcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVBhcmFtZXRlckRvY3VtZW50YXRpb24pKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFBhcmFtZXRlckRvY3VtZW50YXRpb24gOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9OYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fQ29tbWVudDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUGFyYW1ldGVyRG9jdW1lbnRhdGlvbigpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUGFyYW1ldGVyRG9jdW1lbnRhdGlvbihDb2RleC5JUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UGFyYW1ldGVyRG9jdW1lbnRhdGlvbj4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSBwYXJhbWV0ZXJcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBOYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX05hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBjb21tZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgc3ltYm9sXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgQ29tbWVudCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NvbW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Db21tZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFBhcmFtZXRlckRvY3VtZW50YXRpb24ge1xyXG4gICAgICAgICAgICB0aGlzLm1fTmFtZSA9ICgoQ29kZXguSVBhcmFtZXRlckRvY3VtZW50YXRpb24pKHZhbHVlKSkuTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX0NvbW1lbnQgPSAoKENvZGV4LklQYXJhbWV0ZXJEb2N1bWVudGF0aW9uKSh2YWx1ZSkpLkNvbW1lbnQ7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBEb2N1bWVudGF0aW9uIGZvciB0eXBlZCBwYXJhbWV0ZXJcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbikpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uIDogUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiwgQ29kZXguSVR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBEb2N1bWVudGF0aW9uUmVmZXJlbmNlU3ltYm9sIG1fVHlwZTtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uKENvZGV4LklUeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxUeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFR5cGVkUGFyYW1ldGVyRG9jdW1lbnRhdGlvbihDb2RleC5JUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgdHlwZSBvZiB0aGUgcGFyYW1ldGVyXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBDb2RleC5JRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbCBDb2RleC5JVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uLlR5cGUge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSB0eXBlIG9mIHRoZSBwYXJhbWV0ZXJcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIERvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wgVHlwZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1R5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9UeXBlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogVHlwZWRQYXJhbWV0ZXJEb2N1bWVudGF0aW9uIHtcclxuICAgICAgICAgICAgdGhpcy5tX1R5cGUgPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Eb2N1bWVudGF0aW9uUmVmZXJlbmNlU3ltYm9sPihUeXBlLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbD4pKHYgPT4gbmV3IERvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2woKS5Db3B5RnJvbTxEb2N1bWVudGF0aW9uUmVmZXJlbmNlU3ltYm9sPih2KSkpOztcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxQYXJhbWV0ZXJEb2N1bWVudGF0aW9uPigoKENvZGV4LklQYXJhbWV0ZXJEb2N1bWVudGF0aW9uKSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIERlY3JpYmVzIGEgc3ltYm9sIHJlbGF0ZWQgdG8gYSBnaXZlbiBkb2N1bWVudGVkIHN5bWJvbFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbCA6IFJlZmVyZW5jZVN5bWJvbCwgQ29kZXguSURvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fRGlzcGxheU5hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9Db21tZW50O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBEb2N1bWVudGF0aW9uUmVmZXJlbmNlU3ltYm9sKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbChDb2RleC5JRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbCB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPERvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2w+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIERvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2woQ29kZXguSVJlZmVyZW5jZVN5bWJvbCB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIERvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2woQ29kZXguSUNvZGVTeW1ib2wgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGRpc3BsYXkgbmFtZSBvZiB0aGUgc3ltYm9sIHJlZmVyZW5jZSBhcyBpdCBzaG91bGQgYXBwZWFyIGluIGRvY3VtZW50YXRpb25cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBEaXNwbGF5TmFtZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0Rpc3BsYXlOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRGlzcGxheU5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBjb21tZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVmZXJlbmNlXHJcbiAgICAgICAgLy8vIChpLmUuIHJldHVybiB0eXBlIGRlc2NyaXB0aW9uIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2RvdG5ldC9jc2hhcnAvcHJvZ3JhbW1pbmctZ3VpZGUveG1sZG9jL3JldHVybnMpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgQ29tbWVudCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NvbW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Db21tZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbCB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IERvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wge1xyXG4gICAgICAgICAgICB0aGlzLm1fRGlzcGxheU5hbWUgPSAoKENvZGV4LklEb2N1bWVudGF0aW9uUmVmZXJlbmNlU3ltYm9sKSh2YWx1ZSkpLkRpc3BsYXlOYW1lO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ29tbWVudCA9ICgoQ29kZXguSURvY3VtZW50YXRpb25SZWZlcmVuY2VTeW1ib2wpKHZhbHVlKSkuQ29tbWVudDtcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxSZWZlcmVuY2VTeW1ib2w+KCgoQ29kZXguSVJlZmVyZW5jZVN5bWJvbCkodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JUHJvcGVydHlTZWFyY2hNb2RlbCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgUHJvcGVydHlTZWFyY2hNb2RlbCA6IFNlYXJjaEVudGl0eSwgQ29kZXguSVByb3BlcnR5U2VhcmNoTW9kZWwge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fS2V5O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fVmFsdWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9Pd25lcklkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQcm9wZXJ0eVNlYXJjaE1vZGVsKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUHJvcGVydHlTZWFyY2hNb2RlbChDb2RleC5JUHJvcGVydHlTZWFyY2hNb2RlbCB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFByb3BlcnR5U2VhcmNoTW9kZWw+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFByb3BlcnR5U2VhcmNoTW9kZWwoQ29kZXguSVNlYXJjaEVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIEtleSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0tleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0tleSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFZhbHVlIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fVmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9WYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGlkZW50aWZpZXIgb2YgdGhlIG9iamVjdCBvd25pbmcgdGhpcyBwcm9wZXJ0eVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIE93bmVySWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Pd25lcklkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fT3duZXJJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVByb3BlcnR5U2VhcmNoTW9kZWwgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBQcm9wZXJ0eVNlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX0tleSA9ICgoQ29kZXguSVByb3BlcnR5U2VhcmNoTW9kZWwpKHZhbHVlKSkuS2V5O1xyXG4gICAgICAgICAgICB0aGlzLm1fVmFsdWUgPSAoKENvZGV4LklQcm9wZXJ0eVNlYXJjaE1vZGVsKSh2YWx1ZSkpLlZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLm1fT3duZXJJZCA9ICgoQ29kZXguSVByb3BlcnR5U2VhcmNoTW9kZWwpKHZhbHVlKSkuT3duZXJJZDtcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxTZWFyY2hFbnRpdHk+KCgoQ29kZXguSVNlYXJjaEVudGl0eSkodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JUHJvcGVydHlNYXApKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFByb3BlcnR5TWFwIDogQ29kZXguSVByb3BlcnR5TWFwIHtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUHJvcGVydHlNYXAoKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFByb3BlcnR5TWFwKENvZGV4LklQcm9wZXJ0eU1hcCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UHJvcGVydHlNYXA+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUHJvcGVydHlNYXAgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBQcm9wZXJ0eU1hcCB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JUmVwb3NpdG9yeSkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgUmVwb3NpdG9yeSA6IENvZGV4LkVudGl0eUJhc2UsIENvZGV4LklSZXBvc2l0b3J5IHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX05hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9EZXNjcmlwdGlvbjtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0lkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fV2ViQWRkcmVzcztcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1NvdXJjZUNvbnRyb2xXZWJBZGRyZXNzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fRmlsZVdlYkFkZHJlc3NUcmFuc2Zvcm1JbnB1dFJlZ2V4O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUHJpbWFyeUJyYW5jaDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UmVwb3NpdG9yeVJlZmVyZW5jZT4gbV9SZXBvc2l0b3J5UmVmZXJlbmNlcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PFJlcG9zaXRvcnlSZWZlcmVuY2U+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlcG9zaXRvcnkoKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlcG9zaXRvcnkoQ29kZXguSVJlcG9zaXRvcnkgdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFJlcG9zaXRvcnk+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgbmFtZSBmbyB0aGUgcmVwb3NpdG9yeVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIE5hbWUge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fTmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gRGVzY3JpYmVzIHRoZSByZXBvc2l0b3J5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgRGVzY3JpcHRpb24ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9EZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0Rlc2NyaXB0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIElkIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fSWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9JZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBXZWJBZGRyZXNzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fV2ViQWRkcmVzcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1dlYkFkZHJlc3MgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSB3ZWIgYWRkcmVzcyBmb3Igc291cmNlIGNvbnRyb2wgb2YgdGhlIHJlcG9zaXRvcnlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBTb3VyY2VDb250cm9sV2ViQWRkcmVzcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1NvdXJjZUNvbnRyb2xXZWJBZGRyZXNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fU291cmNlQ29udHJvbFdlYkFkZHJlc3MgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSByZWdleCBmb3IgZXh0cmFjdGluZ1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIEZpbGVXZWJBZGRyZXNzVHJhbnNmb3JtSW5wdXRSZWdleCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0ZpbGVXZWJBZGRyZXNzVHJhbnNmb3JtSW5wdXRSZWdleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0ZpbGVXZWJBZGRyZXNzVHJhbnNmb3JtSW5wdXRSZWdleCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG5hbWUgb2YgdGhlIHByaW1hcnkgYnJhbmNoIGZvciB0aGUgcmVwb3NpdG9yeVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFByaW1hcnlCcmFuY2gge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9QcmltYXJ5QnJhbmNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUHJpbWFyeUJyYW5jaCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8Q29kZXguSVJlcG9zaXRvcnlSZWZlcmVuY2U+IENvZGV4LklSZXBvc2l0b3J5LlJlcG9zaXRvcnlSZWZlcmVuY2VzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlJlcG9zaXRvcnlSZWZlcmVuY2VzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8UmVwb3NpdG9yeVJlZmVyZW5jZT4gUmVwb3NpdG9yeVJlZmVyZW5jZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZXBvc2l0b3J5UmVmZXJlbmNlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlSZWZlcmVuY2VzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUmVwb3NpdG9yeSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFJlcG9zaXRvcnkge1xyXG4gICAgICAgICAgICB0aGlzLm1fTmFtZSA9ICgoQ29kZXguSVJlcG9zaXRvcnkpKHZhbHVlKSkuTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX0Rlc2NyaXB0aW9uID0gKChDb2RleC5JUmVwb3NpdG9yeSkodmFsdWUpKS5EZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5tX0lkID0gKChDb2RleC5JUmVwb3NpdG9yeSkodmFsdWUpKS5JZDtcclxuICAgICAgICAgICAgdGhpcy5tX1dlYkFkZHJlc3MgPSAoKENvZGV4LklSZXBvc2l0b3J5KSh2YWx1ZSkpLldlYkFkZHJlc3M7XHJcbiAgICAgICAgICAgIHRoaXMubV9Tb3VyY2VDb250cm9sV2ViQWRkcmVzcyA9ICgoQ29kZXguSVJlcG9zaXRvcnkpKHZhbHVlKSkuU291cmNlQ29udHJvbFdlYkFkZHJlc3M7XHJcbiAgICAgICAgICAgIHRoaXMubV9GaWxlV2ViQWRkcmVzc1RyYW5zZm9ybUlucHV0UmVnZXggPSAoKENvZGV4LklSZXBvc2l0b3J5KSh2YWx1ZSkpLkZpbGVXZWJBZGRyZXNzVHJhbnNmb3JtSW5wdXRSZWdleDtcclxuICAgICAgICAgICAgdGhpcy5tX1ByaW1hcnlCcmFuY2ggPSAoKENvZGV4LklSZXBvc2l0b3J5KSh2YWx1ZSkpLlByaW1hcnlCcmFuY2g7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvc2l0b3J5UmVmZXJlbmNlcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PFJlcG9zaXRvcnlSZWZlcmVuY2U+KFN5c3RlbS5MaW5xLkVudW1lcmFibGUuU2VsZWN0PGdsb2JhbDo6Q29kZXguSVJlcG9zaXRvcnlSZWZlcmVuY2UsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZXBvc2l0b3J5UmVmZXJlbmNlPigoKENvZGV4LklSZXBvc2l0b3J5KSh2YWx1ZSkpLlJlcG9zaXRvcnlSZWZlcmVuY2VzLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklSZXBvc2l0b3J5UmVmZXJlbmNlLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlcG9zaXRvcnlSZWZlcmVuY2U+KSh2ID0+IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguSVJlcG9zaXRvcnlSZWZlcmVuY2UsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZXBvc2l0b3J5UmVmZXJlbmNlPih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklSZXBvc2l0b3J5UmVmZXJlbmNlLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlcG9zaXRvcnlSZWZlcmVuY2U+KShfdiA9PiBuZXcgUmVwb3NpdG9yeVJlZmVyZW5jZSgpLkNvcHlGcm9tPFJlcG9zaXRvcnlSZWZlcmVuY2U+KF92KSkpKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVJlcG9zaXRvcnlSZWZlcmVuY2UpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFJlcG9zaXRvcnlSZWZlcmVuY2UgOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JUmVwb3NpdG9yeVJlZmVyZW5jZSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9OYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fSWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlcG9zaXRvcnlSZWZlcmVuY2UoKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlcG9zaXRvcnlSZWZlcmVuY2UoQ29kZXguSVJlcG9zaXRvcnlSZWZlcmVuY2UgdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFJlcG9zaXRvcnlSZWZlcmVuY2U+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgbmFtZSBvZiB0aGUgcmVmZXJlbmNlIHJlcG9zaXRvcnlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBOYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX05hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIE9wdGlvbmFsLiBJZCBvZiByZXBvc2l0b3J5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgSWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9JZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0lkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUmVwb3NpdG9yeVJlZmVyZW5jZSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFJlcG9zaXRvcnlSZWZlcmVuY2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1fTmFtZSA9ICgoQ29kZXguSVJlcG9zaXRvcnlSZWZlcmVuY2UpKHZhbHVlKSkuTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX0lkID0gKChDb2RleC5JUmVwb3NpdG9yeVJlZmVyZW5jZSkodmFsdWUpKS5JZDtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIE1hcmtlciBpbnRlcmZhY2UgZm9yIHNlYXJjaGFibGUgZW50aXRpZXNcclxuICAgIC8vLyBUT0RPOiBDb25zaWRlciBtb3ZpbmcgPHNlZSBjcmVmPVwiUDpDb2RleC5JU2VhcmNoRW50aXR5LkVudGl0eUNvbnRlbnRJZFwiIC8+IG91dCBpZiBpdHMgbm90IG5lZWRlZCBieSBhbGwgc2VhcmNoYWJsZSBlbnRpdGllc1xyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JU2VhcmNoRW50aXR5KSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBTZWFyY2hFbnRpdHkgOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JU2VhcmNoRW50aXR5IHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1VpZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0VudGl0eUNvbnRlbnRJZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIGludCBtX0VudGl0eUNvbnRlbnRTaXplO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLk51bGxhYmxlPGxvbmc+IG1fRW50aXR5VmVyc2lvbjtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIGxvbmcgbV9TaGFyZFN0YWJsZUlkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTZWFyY2hFbnRpdHkoKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFNlYXJjaEVudGl0eShDb2RleC5JU2VhcmNoRW50aXR5IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxTZWFyY2hFbnRpdHk+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFVpZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1VpZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1VpZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gRGVmaW5lcyB0aGUgY29udGVudCBhZGRyZXNzYWJsZSBpZGVudGlmaWVyIGZvciB0aGUgZW50aXR5LiBUaGlzIGlzIHVzZWRcclxuICAgICAgICAvLy8gdG8gZGV0ZXJtaW5lIGlmIGFuIGVudGl0eSB3aXRoIHRoZSBzYW1lIDxzZWUgY3JlZj1cIlA6Q29kZXguSVNlYXJjaEVudGl0eS5VaWRcIiAvPiBzaG91bGQgYmUgdXBkYXRlZFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIEVudGl0eUNvbnRlbnRJZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0VudGl0eUNvbnRlbnRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0VudGl0eUNvbnRlbnRJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gRGVmaW5lcyB0aGUgc2l6ZSBvZiB0aGUgcmF3IHNlcmlhbGl6ZWQgZW50aXR5LlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IEVudGl0eUNvbnRlbnRTaXplIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRW50aXR5Q29udGVudFNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9FbnRpdHlDb250ZW50U2l6ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHZlcnNpb24gbnVtYmVyIHVzZWQgd2hlbiBzdG9yaW5nIHRoZSBlbnRpdHkgKGZvciB1c2UgYnkgRWxhc3RpY1NlYXJjaCBjb25jdXJyZW5jeSBjb250cm9sXHJcbiAgICAgICAgLy8vIHRvIHByZXZlbnQgcmFjZXMgd2hlbiBzdG9yaW5nIHZhbHVlcylcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5OdWxsYWJsZTxsb25nPiBFbnRpdHlWZXJzaW9uIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRW50aXR5VmVyc2lvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0VudGl0eVZlcnNpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBwZXItc2hhcmQgc3RhYmxlIGlkZW50aXR5IChkZXJpdmVkIGZyb20gRWxhc3RpY1NlYXJjaCBzZXF1ZW5jZSBudW1iZXIpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBsb25nIFNoYXJkU3RhYmxlSWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9TaGFyZFN0YWJsZUlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fU2hhcmRTdGFibGVJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVNlYXJjaEVudGl0eSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFNlYXJjaEVudGl0eSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9VaWQgPSAoKENvZGV4LklTZWFyY2hFbnRpdHkpKHZhbHVlKSkuVWlkO1xyXG4gICAgICAgICAgICB0aGlzLm1fRW50aXR5Q29udGVudElkID0gKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpLkVudGl0eUNvbnRlbnRJZDtcclxuICAgICAgICAgICAgdGhpcy5tX0VudGl0eUNvbnRlbnRTaXplID0gKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpLkVudGl0eUNvbnRlbnRTaXplO1xyXG4gICAgICAgICAgICB0aGlzLm1fRW50aXR5VmVyc2lvbiA9ICgoQ29kZXguSVNlYXJjaEVudGl0eSkodmFsdWUpKS5FbnRpdHlWZXJzaW9uO1xyXG4gICAgICAgICAgICB0aGlzLm1fU2hhcmRTdGFibGVJZCA9ICgoQ29kZXguSVNlYXJjaEVudGl0eSkodmFsdWUpKS5TaGFyZFN0YWJsZUlkO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVJlcG9TY29wZUVudGl0eSkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgUmVwb1Njb3BlRW50aXR5IDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSVJlcG9TY29wZUVudGl0eSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9SZXBvc2l0b3J5TmFtZTtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVwb1Njb3BlRW50aXR5KCkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZXBvU2NvcGVFbnRpdHkoQ29kZXguSVJlcG9TY29wZUVudGl0eSB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UmVwb1Njb3BlRW50aXR5Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG5hbWUgb2YgdGhlIHJlcG9zaXRvcnkgY29udGFpbmluZyB0aGUgZW50aXR5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUmVwb3NpdG9yeU5hbWUge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZXBvc2l0b3J5TmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlOYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUmVwb1Njb3BlRW50aXR5IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogUmVwb1Njb3BlRW50aXR5IHtcclxuICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlOYW1lID0gKChDb2RleC5JUmVwb1Njb3BlRW50aXR5KSh2YWx1ZSkpLlJlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSUNvbW1pdFNjb3BlRW50aXR5KSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBDb21taXRTY29wZUVudGl0eSA6IFJlcG9TY29wZUVudGl0eSwgQ29kZXguSUNvbW1pdFNjb3BlRW50aXR5IHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0NvbW1pdElkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb21taXRTY29wZUVudGl0eSgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvbW1pdFNjb3BlRW50aXR5KENvZGV4LklDb21taXRTY29wZUVudGl0eSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPENvbW1pdFNjb3BlRW50aXR5Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb21taXRTY29wZUVudGl0eShDb2RleC5JUmVwb1Njb3BlRW50aXR5IHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjb21taXQvY2hhbmdlc2V0IGluIHZlcnNpb24gY29udHJvbFxyXG4gICAgICAgIC8vLyAoaS5lLiBnaXQgY29tbWl0IGhhc2ggb3IgVEZTIGNoYW5nZXNldCBudW1iZXIpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgQ29tbWl0SWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Db21taXRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NvbW1pdElkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQ29tbWl0U2NvcGVFbnRpdHkgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDb21taXRTY29wZUVudGl0eSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Db21taXRJZCA9ICgoQ29kZXguSUNvbW1pdFNjb3BlRW50aXR5KSh2YWx1ZSkpLkNvbW1pdElkO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFJlcG9TY29wZUVudGl0eT4oKChDb2RleC5JUmVwb1Njb3BlRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFByb2plY3RTY29wZUVudGl0eSA6IFJlcG9TY29wZUVudGl0eSwgQ29kZXguSVByb2plY3RTY29wZUVudGl0eSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9Qcm9qZWN0SWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFByb2plY3RTY29wZUVudGl0eSgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFByb2plY3RTY29wZUVudGl0eShDb2RleC5JUHJvamVjdFNjb3BlRW50aXR5IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UHJvamVjdFNjb3BlRW50aXR5Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0U2NvcGVFbnRpdHkoQ29kZXguSVJlcG9TY29wZUVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaWRlbnRpZmllciBvZiB0aGUgcHJvamVjdCBjb250YWluaW5nIHRoZSBlbnRpdHlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBQcm9qZWN0SWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Qcm9qZWN0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0SWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBQcm9qZWN0U2NvcGVFbnRpdHkge1xyXG4gICAgICAgICAgICB0aGlzLm1fUHJvamVjdElkID0gKChDb2RleC5JUHJvamVjdFNjb3BlRW50aXR5KSh2YWx1ZSkpLlByb2plY3RJZDtcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxSZXBvU2NvcGVFbnRpdHk+KCgoQ29kZXguSVJlcG9TY29wZUVudGl0eSkodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JUmVwb0ZpbGVTY29wZUVudGl0eSkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgUmVwb0ZpbGVTY29wZUVudGl0eSA6IFJlcG9TY29wZUVudGl0eSwgQ29kZXguSVJlcG9GaWxlU2NvcGVFbnRpdHkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUmVwb1JlbGF0aXZlUGF0aDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVwb0ZpbGVTY29wZUVudGl0eSgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlcG9GaWxlU2NvcGVFbnRpdHkoQ29kZXguSVJlcG9GaWxlU2NvcGVFbnRpdHkgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxSZXBvRmlsZVNjb3BlRW50aXR5Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZXBvRmlsZVNjb3BlRW50aXR5KENvZGV4LklSZXBvU2NvcGVFbnRpdHkgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHJlcG8gcmVsYXRpdmUgcGF0aCB0byB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFJlcG9SZWxhdGl2ZVBhdGgge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUmVwb1JlbGF0aXZlUGF0aCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVJlcG9GaWxlU2NvcGVFbnRpdHkgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBSZXBvRmlsZVNjb3BlRW50aXR5IHtcclxuICAgICAgICAgICAgdGhpcy5tX1JlcG9SZWxhdGl2ZVBhdGggPSAoKENvZGV4LklSZXBvRmlsZVNjb3BlRW50aXR5KSh2YWx1ZSkpLlJlcG9SZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIGJhc2UuQ29weUZyb208UmVwb1Njb3BlRW50aXR5PigoKENvZGV4LklSZXBvU2NvcGVFbnRpdHkpKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVByb2plY3RGaWxlU2NvcGVFbnRpdHkpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFByb2plY3RGaWxlU2NvcGVFbnRpdHkgOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5JUHJvamVjdEZpbGVTY29wZUVudGl0eSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9Qcm9qZWN0UmVsYXRpdmVQYXRoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUmVwb1JlbGF0aXZlUGF0aDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1JlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUHJvamVjdElkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0RmlsZVNjb3BlRW50aXR5KCkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0RmlsZVNjb3BlRW50aXR5KENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxQcm9qZWN0RmlsZVNjb3BlRW50aXR5Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0RmlsZVNjb3BlRW50aXR5KENvZGV4LklSZXBvRmlsZVNjb3BlRW50aXR5IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxQcm9qZWN0RmlsZVNjb3BlRW50aXR5Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0RmlsZVNjb3BlRW50aXR5KENvZGV4LklSZXBvU2NvcGVFbnRpdHkgdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFByb2plY3RGaWxlU2NvcGVFbnRpdHk+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFByb2plY3RGaWxlU2NvcGVFbnRpdHkoQ29kZXguSVByb2plY3RTY29wZUVudGl0eSB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UHJvamVjdEZpbGVTY29wZUVudGl0eT4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBwcm9qZWN0IHJlbGF0aXZlIHBhdGggb2YgdGhlIGZpbGVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBQcm9qZWN0UmVsYXRpdmVQYXRoIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUHJvamVjdFJlbGF0aXZlUGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RSZWxhdGl2ZVBhdGggPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSByZXBvIHJlbGF0aXZlIHBhdGggdG8gdGhlIGZpbGVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBSZXBvUmVsYXRpdmVQYXRoIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUmVwb1JlbGF0aXZlUGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlcG9SZWxhdGl2ZVBhdGggPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSByZXBvc2l0b3J5IGNvbnRhaW5pbmcgdGhlIGVudGl0eVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFJlcG9zaXRvcnlOYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUmVwb3NpdG9yeU5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9SZXBvc2l0b3J5TmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGlkZW50aWZpZXIgb2YgdGhlIHByb2plY3QgY29udGFpbmluZyB0aGUgZW50aXR5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUHJvamVjdElkIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUHJvamVjdElkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUHJvamVjdElkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUmVwb1Njb3BlRW50aXR5IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogUHJvamVjdEZpbGVTY29wZUVudGl0eSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvc2l0b3J5TmFtZSA9ICgoQ29kZXguSVJlcG9TY29wZUVudGl0eSkodmFsdWUpKS5SZXBvc2l0b3J5TmFtZTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklSZXBvRmlsZVNjb3BlRW50aXR5IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogUHJvamVjdEZpbGVTY29wZUVudGl0eSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoID0gKChDb2RleC5JUmVwb0ZpbGVTY29wZUVudGl0eSkodmFsdWUpKS5SZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVByb2plY3RTY29wZUVudGl0eSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFByb2plY3RGaWxlU2NvcGVFbnRpdHkge1xyXG4gICAgICAgICAgICB0aGlzLm1fUHJvamVjdElkID0gKChDb2RleC5JUHJvamVjdFNjb3BlRW50aXR5KSh2YWx1ZSkpLlByb2plY3RJZDtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogUHJvamVjdEZpbGVTY29wZUVudGl0eSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0UmVsYXRpdmVQYXRoID0gKChDb2RleC5JUHJvamVjdEZpbGVTY29wZUVudGl0eSkodmFsdWUpKS5Qcm9qZWN0UmVsYXRpdmVQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVwb1JlbGF0aXZlUGF0aCA9ICgoQ29kZXguSVJlcG9GaWxlU2NvcGVFbnRpdHkpKHZhbHVlKSkuUmVwb1JlbGF0aXZlUGF0aDtcclxuICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlOYW1lID0gKChDb2RleC5JUmVwb1Njb3BlRW50aXR5KSh2YWx1ZSkpLlJlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgICAgICB0aGlzLm1fUHJvamVjdElkID0gKChDb2RleC5JUHJvamVjdFNjb3BlRW50aXR5KSh2YWx1ZSkpLlByb2plY3RJZDtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIEluIG9yZGVyIHRvIGNvbXB1dGUgYSBzdGFibGUgaW50ZWdyYWwgaWQgZm9yIGVhY2ggZW50aXR5LiBUaGlzIHR5cGUgaXMgdXNlZCB0byBzdG9yZSBpbnRvIGEgJ2ZvbGxvdycgaW5kZXggd2hpY2hcclxuICAgIC8vLyBzdG9yZXMgZW50aXRpZXMgb2YgdGhpcyB0eXBlIHVzaW5nIHRoZSA8c2VlIGNyZWY9XCJQOkNvZGV4LklTZWFyY2hFbnRpdHkuVWlkXCIgLz4gb2YgdGhlIGNvcnJlc3BvbmRpbmcgc2VhcmNoIGVudGl0eS4gVGhlbiB0aGVcclxuICAgIC8vLyBzZXF1ZW5jZSBudW1iZXIgYXNzaWduZWQgYnkgRWxhc3RpY1NlYXJjaCBpcyB1c2VkIGFzIHRoZSBzaGFyZCBzdGFibGUgaWQgKDxzZWUgY3JlZj1cIlA6Q29kZXguSVNlYXJjaEVudGl0eS5TaGFyZFN0YWJsZUlkXCIgLz4pXHJcbiAgICAvLy8gZm9yIHRoZSBlbnRpdHkuIFRoaXMgYXBwcm9hY2ggaXMgdXNlZCBpbiBvcmRlciB0byBlbnN1cmUgdGhhdCB0aGUgc3RhYmxlIGlkIGFwcGVhcnMgYXMgYW4gZXhwbGljaXQgZmllbGQgaW4gdGhlIGRvY3VtZW50IHJhdGhlclxyXG4gICAgLy8vIHdoaWNoIGFsbG93cyBjb25maWd1cmF0aW9uIG9mIGhvdyB0aGUgZmllbGQgaXMgaW5kZXhlZCAobm90IHRydWUgZm9yIHNlcXVlbmNlIG51bWJlciBmaWVsZCB3aXRob3V0IGNvZGUgY2hhbmdlcyB0byBFUykuXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklSZWdpc3RlcmVkRW50aXR5KSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBSZWdpc3RlcmVkRW50aXR5IDogU2VhcmNoRW50aXR5LCBDb2RleC5JUmVnaXN0ZXJlZEVudGl0eSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uRGF0ZVRpbWUgbV9EYXRlQWRkZWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlZ2lzdGVyZWRFbnRpdHkoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZWdpc3RlcmVkRW50aXR5KENvZGV4LklSZWdpc3RlcmVkRW50aXR5IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UmVnaXN0ZXJlZEVudGl0eT4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVnaXN0ZXJlZEVudGl0eShDb2RleC5JU2VhcmNoRW50aXR5IHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBkYXRlIGluIHdoaWNoIHRoZSBlbnRpdHkgd2FzIHJlZ2lzdGVyZWQgKGkuZS4gYWRkZWQgdG8gdGhlIHN0b3JlKVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkRhdGVUaW1lIERhdGVBZGRlZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0RhdGVBZGRlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0RhdGVBZGRlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVJlZ2lzdGVyZWRFbnRpdHkgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBSZWdpc3RlcmVkRW50aXR5IHtcclxuICAgICAgICAgICAgdGhpcy5tX0RhdGVBZGRlZCA9ICgoQ29kZXguSVJlZ2lzdGVyZWRFbnRpdHkpKHZhbHVlKSkuRGF0ZUFkZGVkO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFNlYXJjaEVudGl0eT4oKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIERlZmluZXMgYSBzdG9yZWQgZmlsdGVyIHdoaWNoIG1hdGNoZXMgZW50aXRpZXMgaW4gYSBwYXJ0aWN1bGFyIGluZGV4IHNoYXJkIGluIGEgc3RhYmxlIG1hbm5lclxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JU3RvcmVkRmlsdGVyKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBTdG9yZWRGaWx0ZXIgOiBTZWFyY2hFbnRpdHksIENvZGV4LklTdG9yZWRGaWx0ZXIge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkRhdGVUaW1lIG1fRGF0ZVVwZGF0ZWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9JbmRleE5hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBpbnQgbV9TaGFyZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8bG9uZz4gbV9TdGFibGVJZHMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxsb25nPigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxzdHJpbmc+IG1fQmFzZVVpZHMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxzdHJpbmc+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PGJ5dGVbXT4gbV9VbmlvbkZpbHRlcnMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxieXRlW10+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBieXRlW10gbV9GaWx0ZXI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9GaWx0ZXJIYXNoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgaW50IG1fRmlsdGVyQ291bnQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFN0b3JlZEZpbHRlcigpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFN0b3JlZEZpbHRlcihDb2RleC5JU3RvcmVkRmlsdGVyIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208U3RvcmVkRmlsdGVyPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTdG9yZWRGaWx0ZXIoQ29kZXguSVNlYXJjaEVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgdGltZSBvZiB0aGUgbGFzdCB1cGRhdGUgdG8gdGhlIHN0b3JlZCBmaWx0ZXJcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5EYXRlVGltZSBEYXRlVXBkYXRlZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0RhdGVVcGRhdGVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRGF0ZVVwZGF0ZWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSBpbmRleCB0byB3aGljaCB0aGUgc3RvcmVkIGZpbHRlciBhcHBsaWVzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgSW5kZXhOYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fSW5kZXhOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fSW5kZXhOYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgc2hhcmQgdG8gd2hpY2ggdGhlIHN0b3JlZCBmaWx0ZXIgYXBwbGllc1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgaW50IFNoYXJkIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fU2hhcmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9TaGFyZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gTGlzdCBvZiBzdGFibGUgaWRzIHRvIGluY2x1ZGUgaW4gdGhlIHN0b3JlZCBmaWx0ZXIuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PGxvbmc+IENvZGV4LklTdG9yZWRGaWx0ZXIuU3RhYmxlSWRzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlN0YWJsZUlkcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIExpc3Qgb2Ygc3RhYmxlIGlkcyB0byBpbmNsdWRlIGluIHRoZSBzdG9yZWQgZmlsdGVyLlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxsb25nPiBTdGFibGVJZHMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9TdGFibGVJZHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9TdGFibGVJZHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIExpc3Qgb2YgdWlkcyB0byBmb3Igc3RvcmVkIGZpbHRlcnMgd2hpY2ggd2lsbCBiZSB1bmlvbmVkIHdpdGggdGhlIGdpdmVuIHN0b3JlZCBmaWx0ZXJcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8c3RyaW5nPiBDb2RleC5JU3RvcmVkRmlsdGVyLkJhc2VVaWRzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkJhc2VVaWRzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gTGlzdCBvZiB1aWRzIHRvIGZvciBzdG9yZWQgZmlsdGVycyB3aGljaCB3aWxsIGJlIHVuaW9uZWQgd2l0aCB0aGUgZ2l2ZW4gc3RvcmVkIGZpbHRlclxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxzdHJpbmc+IEJhc2VVaWRzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQmFzZVVpZHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9CYXNlVWlkcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gTGlzdCBvZiBzdG9yZWQgZmlsdGVycyB3aGljaCB3aWxsIGJlIHVuaW9uZWQgd2l0aCB0aGUgZ2l2ZW4gc3RvcmVkIGZpbHRlclxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxieXRlW10+IENvZGV4LklTdG9yZWRGaWx0ZXIuVW5pb25GaWx0ZXJzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlVuaW9uRmlsdGVycztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIExpc3Qgb2Ygc3RvcmVkIGZpbHRlcnMgd2hpY2ggd2lsbCBiZSB1bmlvbmVkIHdpdGggdGhlIGdpdmVuIHN0b3JlZCBmaWx0ZXJcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8Ynl0ZVtdPiBVbmlvbkZpbHRlcnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9VbmlvbkZpbHRlcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9VbmlvbkZpbHRlcnMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBzdG9yZWQgZmlsdGVyIGJpdCBzZXQgd2hpY2ggbWF0Y2hlcyB0aGUgc3RvcmVkIGZpbHRlciBkb2N1bWVudHNcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGJ5dGVbXSBGaWx0ZXIge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9GaWx0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9GaWx0ZXIgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBoYXNoIG9mIDxzZWUgY3JlZj1cIlA6Q29kZXguSVN0b3JlZEZpbHRlci5GaWx0ZXJcIiAvPlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIEZpbHRlckhhc2gge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9GaWx0ZXJIYXNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fRmlsdGVySGFzaCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGNvdW50IG9mIGVsZW1lbnRzIG1hdGNoZWQgYnkgPHNlZSBjcmVmPVwiUDpDb2RleC5JU3RvcmVkRmlsdGVyLkZpbHRlclwiIC8+XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBpbnQgRmlsdGVyQ291bnQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9GaWx0ZXJDb3VudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0ZpbHRlckNvdW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JU3RvcmVkRmlsdGVyIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogU3RvcmVkRmlsdGVyIHtcclxuICAgICAgICAgICAgdGhpcy5tX0RhdGVVcGRhdGVkID0gKChDb2RleC5JU3RvcmVkRmlsdGVyKSh2YWx1ZSkpLkRhdGVVcGRhdGVkO1xyXG4gICAgICAgICAgICB0aGlzLm1fSW5kZXhOYW1lID0gKChDb2RleC5JU3RvcmVkRmlsdGVyKSh2YWx1ZSkpLkluZGV4TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX1NoYXJkID0gKChDb2RleC5JU3RvcmVkRmlsdGVyKSh2YWx1ZSkpLlNoYXJkO1xyXG4gICAgICAgICAgICB0aGlzLm1fU3RhYmxlSWRzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8bG9uZz4oKChDb2RleC5JU3RvcmVkRmlsdGVyKSh2YWx1ZSkpLlN0YWJsZUlkcyk7XHJcbiAgICAgICAgICAgIHRoaXMubV9CYXNlVWlkcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PHN0cmluZz4oKChDb2RleC5JU3RvcmVkRmlsdGVyKSh2YWx1ZSkpLkJhc2VVaWRzKTtcclxuICAgICAgICAgICAgdGhpcy5tX1VuaW9uRmlsdGVycyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PGJ5dGVbXT4oKChDb2RleC5JU3RvcmVkRmlsdGVyKSh2YWx1ZSkpLlVuaW9uRmlsdGVycyk7XHJcbiAgICAgICAgICAgIHRoaXMubV9GaWx0ZXIgPSAoKENvZGV4LklTdG9yZWRGaWx0ZXIpKHZhbHVlKSkuRmlsdGVyO1xyXG4gICAgICAgICAgICB0aGlzLm1fRmlsdGVySGFzaCA9ICgoQ29kZXguSVN0b3JlZEZpbHRlcikodmFsdWUpKS5GaWx0ZXJIYXNoO1xyXG4gICAgICAgICAgICB0aGlzLm1fRmlsdGVyQ291bnQgPSAoKENvZGV4LklTdG9yZWRGaWx0ZXIpKHZhbHVlKSkuRmlsdGVyQ291bnQ7XHJcbiAgICAgICAgICAgIGJhc2UuQ29weUZyb208U2VhcmNoRW50aXR5PigoKENvZGV4LklTZWFyY2hFbnRpdHkpKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSURlZmluaXRpb25TZWFyY2hNb2RlbCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgRGVmaW5pdGlvblNlYXJjaE1vZGVsIDogU2VhcmNoRW50aXR5LCBDb2RleC5JRGVmaW5pdGlvblNlYXJjaE1vZGVsIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIERlZmluaXRpb25TeW1ib2wgbV9EZWZpbml0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxzdHJpbmc+IG1fS2V5d29yZHMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxzdHJpbmc+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIERlZmluaXRpb25TZWFyY2hNb2RlbCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIERlZmluaXRpb25TZWFyY2hNb2RlbChDb2RleC5JRGVmaW5pdGlvblNlYXJjaE1vZGVsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208RGVmaW5pdGlvblNlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBEZWZpbml0aW9uU2VhcmNoTW9kZWwoQ29kZXguSVNlYXJjaEVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgQ29kZXguSURlZmluaXRpb25TeW1ib2wgQ29kZXguSURlZmluaXRpb25TZWFyY2hNb2RlbC5EZWZpbml0aW9uIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkRlZmluaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgRGVmaW5pdGlvblN5bWJvbCBEZWZpbml0aW9uIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0RlZmluaXRpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEtleXdvcmRzIGFyZSBhZGRpdGlvbmFsIHRlcm1zIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGZpbmQgYSBnaXZlbiBzeW1ib2wuXHJcbiAgICAgICAgLy8vIE5PVEU6IEtleXdvcmRzIGNhbiBvbmx5IGJlIHVzZWQgdG8gc2VsZWN0IGZyb20gc3ltYm9scyB3aGljaCBoYXZlXHJcbiAgICAgICAgLy8vIGEgcHJpbWFyeSB0ZXJtIG1hdGNoXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PHN0cmluZz4gQ29kZXguSURlZmluaXRpb25TZWFyY2hNb2RlbC5LZXl3b3JkcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5LZXl3b3JkcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEtleXdvcmRzIGFyZSBhZGRpdGlvbmFsIHRlcm1zIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGZpbmQgYSBnaXZlbiBzeW1ib2wuXHJcbiAgICAgICAgLy8vIE5PVEU6IEtleXdvcmRzIGNhbiBvbmx5IGJlIHVzZWQgdG8gc2VsZWN0IGZyb20gc3ltYm9scyB3aGljaCBoYXZlXHJcbiAgICAgICAgLy8vIGEgcHJpbWFyeSB0ZXJtIG1hdGNoXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PHN0cmluZz4gS2V5d29yZHMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9LZXl3b3JkcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0tleXdvcmRzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JRGVmaW5pdGlvblNlYXJjaE1vZGVsIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogRGVmaW5pdGlvblNlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX0RlZmluaXRpb24gPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRlZmluaXRpb25TeW1ib2wsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3ltYm9sPihEZWZpbml0aW9uLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRlZmluaXRpb25TeW1ib2wsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRGVmaW5pdGlvblN5bWJvbD4pKHYgPT4gbmV3IERlZmluaXRpb25TeW1ib2woKS5Db3B5RnJvbTxEZWZpbml0aW9uU3ltYm9sPih2KSkpOztcclxuICAgICAgICAgICAgdGhpcy5tX0tleXdvcmRzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8c3RyaW5nPigoKENvZGV4LklEZWZpbml0aW9uU2VhcmNoTW9kZWwpKHZhbHVlKSkuS2V5d29yZHMpO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFNlYXJjaEVudGl0eT4oKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklMYW5ndWFnZVNlYXJjaE1vZGVsKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBMYW5ndWFnZVNlYXJjaE1vZGVsIDogU2VhcmNoRW50aXR5LCBDb2RleC5JTGFuZ3VhZ2VTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBMYW5ndWFnZUluZm8gbV9MYW5ndWFnZTtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgTGFuZ3VhZ2VTZWFyY2hNb2RlbCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIExhbmd1YWdlU2VhcmNoTW9kZWwoQ29kZXguSUxhbmd1YWdlU2VhcmNoTW9kZWwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxMYW5ndWFnZVNlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBMYW5ndWFnZVNlYXJjaE1vZGVsKENvZGV4LklTZWFyY2hFbnRpdHkgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIENvZGV4LklMYW5ndWFnZUluZm8gQ29kZXguSUxhbmd1YWdlU2VhcmNoTW9kZWwuTGFuZ3VhZ2Uge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuTGFuZ3VhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgTGFuZ3VhZ2VJbmZvIExhbmd1YWdlIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fTGFuZ3VhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9MYW5ndWFnZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSUxhbmd1YWdlU2VhcmNoTW9kZWwgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBMYW5ndWFnZVNlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX0xhbmd1YWdlID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5MYW5ndWFnZUluZm8sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5MYW5ndWFnZUluZm8+KExhbmd1YWdlLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkxhbmd1YWdlSW5mbywgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5MYW5ndWFnZUluZm8+KSh2ID0+IG5ldyBMYW5ndWFnZUluZm8oKS5Db3B5RnJvbTxMYW5ndWFnZUluZm8+KHYpKSk7O1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFNlYXJjaEVudGl0eT4oKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklSZWZlcmVuY2VTZWFyY2hNb2RlbCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgUmVmZXJlbmNlU2VhcmNoTW9kZWwgOiBTZWFyY2hFbnRpdHksIENvZGV4LklSZWZlcmVuY2VTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBSZWZlcmVuY2VTeW1ib2wgbV9SZWZlcmVuY2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5JUmVhZE9ubHlMaXN0PFN5bWJvbFNwYW4+IG1fU3BhbnMgPSBDb2RleC5VdGlsaXRpZXMuQ29sbGVjdGlvblV0aWxpdGllcy5FbXB0eTxTeW1ib2xTcGFuPi5BcnJheTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIENvZGV4LklTeW1ib2xMaW5lU3Bhbkxpc3QgbV9Db21wcmVzc2VkU3BhbnM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9Qcm9qZWN0UmVsYXRpdmVQYXRoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUmVwb1JlbGF0aXZlUGF0aDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1JlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUHJvamVjdElkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZWZlcmVuY2VTZWFyY2hNb2RlbCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlZmVyZW5jZVNlYXJjaE1vZGVsKENvZGV4LklSZWZlcmVuY2VTZWFyY2hNb2RlbCB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFJlZmVyZW5jZVNlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZWZlcmVuY2VTZWFyY2hNb2RlbChDb2RleC5JU2VhcmNoRW50aXR5IHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVmZXJlbmNlU2VhcmNoTW9kZWwoQ29kZXguSVByb2plY3RGaWxlU2NvcGVFbnRpdHkgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxSZWZlcmVuY2VTZWFyY2hNb2RlbD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVmZXJlbmNlU2VhcmNoTW9kZWwoQ29kZXguSVJlcG9GaWxlU2NvcGVFbnRpdHkgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxSZWZlcmVuY2VTZWFyY2hNb2RlbD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVmZXJlbmNlU2VhcmNoTW9kZWwoQ29kZXguSVJlcG9TY29wZUVudGl0eSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFJlZmVyZW5jZVNlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZWZlcmVuY2VTZWFyY2hNb2RlbChDb2RleC5JUHJvamVjdFNjb3BlRW50aXR5IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UmVmZXJlbmNlU2VhcmNoTW9kZWw+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcmVmZXJlbmNlIHN5bWJvbFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgQ29kZXguSVJlZmVyZW5jZVN5bWJvbCBDb2RleC5JUmVmZXJlbmNlU2VhcmNoTW9kZWwuUmVmZXJlbmNlIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlJlZmVyZW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSByZWZlcmVuY2Ugc3ltYm9sXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBSZWZlcmVuY2VTeW1ib2wgUmVmZXJlbmNlIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUmVmZXJlbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUmVmZXJlbmNlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuSVJlYWRPbmx5TGlzdDxDb2RleC5JU3ltYm9sU3Bhbj4gQ29kZXguSVJlZmVyZW5jZVNlYXJjaE1vZGVsLlNwYW5zIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlNwYW5zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8U3ltYm9sU3Bhbj4gU3BhbnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ29lcmNlU3BhbnModGhpcy5tX1NwYW5zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1NwYW5zID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBDb21wcmVzc2VkIGxpc3Qgb2Ygc3BhbnNcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIENvZGV4LklTeW1ib2xMaW5lU3Bhbkxpc3QgQ29tcHJlc3NlZFNwYW5zIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQ29tcHJlc3NlZFNwYW5zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ29tcHJlc3NlZFNwYW5zID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcHJvamVjdCByZWxhdGl2ZSBwYXRoIG9mIHRoZSBmaWxlXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUHJvamVjdFJlbGF0aXZlUGF0aCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1Byb2plY3RSZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0UmVsYXRpdmVQYXRoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcmVwbyByZWxhdGl2ZSBwYXRoIHRvIHRoZSBmaWxlXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUmVwb1JlbGF0aXZlUGF0aCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1JlcG9SZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgbmFtZSBvZiB0aGUgcmVwb3NpdG9yeSBjb250YWluaW5nIHRoZSBlbnRpdHlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBSZXBvc2l0b3J5TmFtZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1JlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUmVwb3NpdG9yeU5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBwcm9qZWN0IGNvbnRhaW5pbmcgdGhlIGVudGl0eVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFByb2plY3RJZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1Byb2plY3RJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVJlcG9TY29wZUVudGl0eSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFJlZmVyZW5jZVNlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlOYW1lID0gKChDb2RleC5JUmVwb1Njb3BlRW50aXR5KSh2YWx1ZSkpLlJlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVJlcG9GaWxlU2NvcGVFbnRpdHkgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBSZWZlcmVuY2VTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoID0gKChDb2RleC5JUmVwb0ZpbGVTY29wZUVudGl0eSkodmFsdWUpKS5SZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVByb2plY3RTY29wZUVudGl0eSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFJlZmVyZW5jZVNlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RJZCA9ICgoQ29kZXguSVByb2plY3RTY29wZUVudGl0eSkodmFsdWUpKS5Qcm9qZWN0SWQ7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUHJvamVjdEZpbGVTY29wZUVudGl0eSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFJlZmVyZW5jZVNlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RSZWxhdGl2ZVBhdGggPSAoKENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5KSh2YWx1ZSkpLlByb2plY3RSZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoID0gKChDb2RleC5JUmVwb0ZpbGVTY29wZUVudGl0eSkodmFsdWUpKS5SZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVwb3NpdG9yeU5hbWUgPSAoKENvZGV4LklSZXBvU2NvcGVFbnRpdHkpKHZhbHVlKSkuUmVwb3NpdG9yeU5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0SWQgPSAoKENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkpKHZhbHVlKSkuUHJvamVjdElkO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVJlZmVyZW5jZVNlYXJjaE1vZGVsIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogUmVmZXJlbmNlU2VhcmNoTW9kZWwge1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVmZXJlbmNlID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VTeW1ib2wsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VTeW1ib2w+KFJlZmVyZW5jZSwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VTeW1ib2wsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVmZXJlbmNlU3ltYm9sPikodiA9PiBuZXcgUmVmZXJlbmNlU3ltYm9sKCkuQ29weUZyb208UmVmZXJlbmNlU3ltYm9sPih2KSkpOztcclxuICAgICAgICAgICAgdGhpcy5tX1NwYW5zID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8U3ltYm9sU3Bhbj4oU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5JU3ltYm9sU3BhbixnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlN5bWJvbFNwYW4+KCgoQ29kZXguSVJlZmVyZW5jZVNlYXJjaE1vZGVsKSh2YWx1ZSkpLlNwYW5zLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklTeW1ib2xTcGFuLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlN5bWJvbFNwYW4+KSh2ID0+IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguSVN5bWJvbFNwYW4sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5TeW1ib2xTcGFuPih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklTeW1ib2xTcGFuLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlN5bWJvbFNwYW4+KShfdiA9PiBuZXcgU3ltYm9sU3BhbigpLkNvcHlGcm9tPFN5bWJvbFNwYW4+KF92KSkpKSkpO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ29tcHJlc3NlZFNwYW5zID0gKChDb2RleC5JUmVmZXJlbmNlU2VhcmNoTW9kZWwpKHZhbHVlKSkuQ29tcHJlc3NlZFNwYW5zO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFNlYXJjaEVudGl0eT4oKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RSZWxhdGl2ZVBhdGggPSAoKENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5KSh2YWx1ZSkpLlByb2plY3RSZWxhdGl2ZVBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMubV9SZXBvUmVsYXRpdmVQYXRoID0gKChDb2RleC5JUmVwb0ZpbGVTY29wZUVudGl0eSkodmFsdWUpKS5SZXBvUmVsYXRpdmVQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVwb3NpdG9yeU5hbWUgPSAoKENvZGV4LklSZXBvU2NvcGVFbnRpdHkpKHZhbHVlKSkuUmVwb3NpdG9yeU5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0SWQgPSAoKENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkpKHZhbHVlKSkuUHJvamVjdElkO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVNvdXJjZVNlYXJjaE1vZGVsQmFzZSkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgU291cmNlU2VhcmNoTW9kZWxCYXNlIDogU2VhcmNoRW50aXR5LCBDb2RleC5JU291cmNlU2VhcmNoTW9kZWxCYXNlIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFNvdXJjZUNvbnRyb2xGaWxlSW5mbyBtX1NvdXJjZUNvbnRyb2xJbmZvO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTb3VyY2VTZWFyY2hNb2RlbEJhc2UoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBTb3VyY2VTZWFyY2hNb2RlbEJhc2UoQ29kZXguSVNvdXJjZVNlYXJjaE1vZGVsQmFzZSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFNvdXJjZVNlYXJjaE1vZGVsQmFzZT4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgU291cmNlU2VhcmNoTW9kZWxCYXNlKENvZGV4LklTZWFyY2hFbnRpdHkgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gSW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZSBmaWxlIGZyb20gc291cmNlIGNvbnRyb2wgcHJvdmlkZXIgKG1heSBiZSBudWxsKVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgQ29kZXguSVNvdXJjZUNvbnRyb2xGaWxlSW5mbyBDb2RleC5JU291cmNlU2VhcmNoTW9kZWxCYXNlLlNvdXJjZUNvbnRyb2xJbmZvIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlNvdXJjZUNvbnRyb2xJbmZvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gSW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZSBmaWxlIGZyb20gc291cmNlIGNvbnRyb2wgcHJvdmlkZXIgKG1heSBiZSBudWxsKVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU291cmNlQ29udHJvbEZpbGVJbmZvIFNvdXJjZUNvbnRyb2xJbmZvIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fU291cmNlQ29udHJvbEluZm87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Tb3VyY2VDb250cm9sSW5mbyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVNvdXJjZVNlYXJjaE1vZGVsQmFzZSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFNvdXJjZVNlYXJjaE1vZGVsQmFzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Tb3VyY2VDb250cm9sSW5mbyA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlQ29udHJvbEZpbGVJbmZvLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlQ29udHJvbEZpbGVJbmZvPihTb3VyY2VDb250cm9sSW5mbywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VDb250cm9sRmlsZUluZm8sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlQ29udHJvbEZpbGVJbmZvPikodiA9PiBuZXcgU291cmNlQ29udHJvbEZpbGVJbmZvKCkuQ29weUZyb208U291cmNlQ29udHJvbEZpbGVJbmZvPih2KSkpOztcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxTZWFyY2hFbnRpdHk+KCgoQ29kZXguSVNlYXJjaEVudGl0eSkodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JQm91bmRTb3VyY2VTZWFyY2hNb2RlbCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgQm91bmRTb3VyY2VTZWFyY2hNb2RlbCA6IFNlYXJjaEVudGl0eSwgQ29kZXguSUJvdW5kU291cmNlU2VhcmNoTW9kZWwge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fVGV4dFVpZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFNvdXJjZUZpbGVJbmZvIG1fU291cmNlSW5mbztcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIEJvdW5kU291cmNlSW5mbyBtX0JpbmRpbmdJbmZvO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgQ29kZXguSUNsYXNzaWZpY2F0aW9uTGlzdCBtX0NvbXByZXNzZWRDbGFzc2lmaWNhdGlvbnM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBDb2RleC5JUmVmZXJlbmNlTGlzdCBtX0NvbXByZXNzZWRSZWZlcmVuY2VzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU291cmNlQ29udHJvbEZpbGVJbmZvIG1fU291cmNlQ29udHJvbEluZm87XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIEJvdW5kU291cmNlU2VhcmNoTW9kZWwoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBCb3VuZFNvdXJjZVNlYXJjaE1vZGVsKENvZGV4LklCb3VuZFNvdXJjZVNlYXJjaE1vZGVsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208Qm91bmRTb3VyY2VTZWFyY2hNb2RlbD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQm91bmRTb3VyY2VTZWFyY2hNb2RlbChDb2RleC5JU2VhcmNoRW50aXR5IHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQm91bmRTb3VyY2VTZWFyY2hNb2RlbChDb2RleC5JU291cmNlU2VhcmNoTW9kZWxCYXNlIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208Qm91bmRTb3VyY2VTZWFyY2hNb2RlbD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgYXNzb2NpYXRlZCA8c2VlIGNyZWY9XCJUOkNvZGV4LklTb3VyY2VGaWxlXCIgLz5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBUZXh0VWlkIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fVGV4dFVpZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1RleHRVaWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgQ29kZXguSVNvdXJjZUZpbGVJbmZvIENvZGV4LklCb3VuZFNvdXJjZVNlYXJjaE1vZGVsLlNvdXJjZUluZm8ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuU291cmNlSW5mbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU291cmNlRmlsZUluZm8gU291cmNlSW5mbyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1NvdXJjZUluZm87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Tb3VyY2VJbmZvID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgYmluZGluZyBpbmZvXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBDb2RleC5JQm91bmRTb3VyY2VJbmZvIENvZGV4LklCb3VuZFNvdXJjZVNlYXJjaE1vZGVsLkJpbmRpbmdJbmZvIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkJpbmRpbmdJbmZvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGJpbmRpbmcgaW5mb1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgQm91bmRTb3VyY2VJbmZvIEJpbmRpbmdJbmZvIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQmluZGluZ0luZm87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9CaW5kaW5nSW5mbyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gQ29tcHJlc3NlZCBsaXN0IG9mIGNsYXNzaWZpY2F0aW9uIHNwYW5zXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBDb2RleC5JQ2xhc3NpZmljYXRpb25MaXN0IENvbXByZXNzZWRDbGFzc2lmaWNhdGlvbnMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Db21wcmVzc2VkQ2xhc3NpZmljYXRpb25zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ29tcHJlc3NlZENsYXNzaWZpY2F0aW9ucyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gQ29tcHJlc3NlZCBsaXN0IG9mIHJlZmVyZW5jZSBzcGFuc1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgQ29kZXguSVJlZmVyZW5jZUxpc3QgQ29tcHJlc3NlZFJlZmVyZW5jZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Db21wcmVzc2VkUmVmZXJlbmNlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NvbXByZXNzZWRSZWZlcmVuY2VzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlIGZpbGUgZnJvbSBzb3VyY2UgY29udHJvbCBwcm92aWRlciAobWF5IGJlIG51bGwpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBDb2RleC5JU291cmNlQ29udHJvbEZpbGVJbmZvIENvZGV4LklTb3VyY2VTZWFyY2hNb2RlbEJhc2UuU291cmNlQ29udHJvbEluZm8ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuU291cmNlQ29udHJvbEluZm87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlIGZpbGUgZnJvbSBzb3VyY2UgY29udHJvbCBwcm92aWRlciAobWF5IGJlIG51bGwpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBTb3VyY2VDb250cm9sRmlsZUluZm8gU291cmNlQ29udHJvbEluZm8ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Tb3VyY2VDb250cm9sSW5mbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1NvdXJjZUNvbnRyb2xJbmZvID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JU291cmNlU2VhcmNoTW9kZWxCYXNlIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogQm91bmRTb3VyY2VTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Tb3VyY2VDb250cm9sSW5mbyA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlQ29udHJvbEZpbGVJbmZvLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlQ29udHJvbEZpbGVJbmZvPihTb3VyY2VDb250cm9sSW5mbywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VDb250cm9sRmlsZUluZm8sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlQ29udHJvbEZpbGVJbmZvPikodiA9PiBuZXcgU291cmNlQ29udHJvbEZpbGVJbmZvKCkuQ29weUZyb208U291cmNlQ29udHJvbEZpbGVJbmZvPih2KSkpOztcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklCb3VuZFNvdXJjZVNlYXJjaE1vZGVsIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogQm91bmRTb3VyY2VTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9UZXh0VWlkID0gKChDb2RleC5JQm91bmRTb3VyY2VTZWFyY2hNb2RlbCkodmFsdWUpKS5UZXh0VWlkO1xyXG4gICAgICAgICAgICB0aGlzLm1fU291cmNlSW5mbyA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlRmlsZUluZm8sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VGaWxlSW5mbz4oU291cmNlSW5mbywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VGaWxlSW5mbywgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VGaWxlSW5mbz4pKHYgPT4gbmV3IFNvdXJjZUZpbGVJbmZvKCkuQ29weUZyb208U291cmNlRmlsZUluZm8+KHYpKSk7O1xyXG4gICAgICAgICAgICB0aGlzLm1fQmluZGluZ0luZm8gPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkJvdW5kU291cmNlSW5mbyxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkJvdW5kU291cmNlSW5mbz4oQmluZGluZ0luZm8sIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQm91bmRTb3VyY2VJbmZvLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkJvdW5kU291cmNlSW5mbz4pKHYgPT4gbmV3IEJvdW5kU291cmNlSW5mbygpLkNvcHlGcm9tPEJvdW5kU291cmNlSW5mbz4odikpKTs7XHJcbiAgICAgICAgICAgIHRoaXMubV9Db21wcmVzc2VkQ2xhc3NpZmljYXRpb25zID0gKChDb2RleC5JQm91bmRTb3VyY2VTZWFyY2hNb2RlbCkodmFsdWUpKS5Db21wcmVzc2VkQ2xhc3NpZmljYXRpb25zO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ29tcHJlc3NlZFJlZmVyZW5jZXMgPSAoKENvZGV4LklCb3VuZFNvdXJjZVNlYXJjaE1vZGVsKSh2YWx1ZSkpLkNvbXByZXNzZWRSZWZlcmVuY2VzO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFNlYXJjaEVudGl0eT4oKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgdGhpcy5tX1NvdXJjZUNvbnRyb2xJbmZvID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VDb250cm9sRmlsZUluZm8sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VDb250cm9sRmlsZUluZm8+KFNvdXJjZUNvbnRyb2xJbmZvLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUNvbnRyb2xGaWxlSW5mbywgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VDb250cm9sRmlsZUluZm8+KSh2ID0+IG5ldyBTb3VyY2VDb250cm9sRmlsZUluZm8oKS5Db3B5RnJvbTxTb3VyY2VDb250cm9sRmlsZUluZm8+KHYpKSk7O1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVRleHRTb3VyY2VTZWFyY2hNb2RlbCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgVGV4dFNvdXJjZVNlYXJjaE1vZGVsIDogU2VhcmNoRW50aXR5LCBDb2RleC5JVGV4dFNvdXJjZVNlYXJjaE1vZGVsIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFNvdXJjZUZpbGUgbV9GaWxlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU291cmNlQ29udHJvbEZpbGVJbmZvIG1fU291cmNlQ29udHJvbEluZm87XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFRleHRTb3VyY2VTZWFyY2hNb2RlbCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFRleHRTb3VyY2VTZWFyY2hNb2RlbChDb2RleC5JVGV4dFNvdXJjZVNlYXJjaE1vZGVsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208VGV4dFNvdXJjZVNlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBUZXh0U291cmNlU2VhcmNoTW9kZWwoQ29kZXguSVNlYXJjaEVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFRleHRTb3VyY2VTZWFyY2hNb2RlbChDb2RleC5JU291cmNlU2VhcmNoTW9kZWxCYXNlIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208VGV4dFNvdXJjZVNlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIENvZGV4LklTb3VyY2VGaWxlIENvZGV4LklUZXh0U291cmNlU2VhcmNoTW9kZWwuRmlsZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5GaWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFNvdXJjZUZpbGUgRmlsZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0ZpbGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9GaWxlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlIGZpbGUgZnJvbSBzb3VyY2UgY29udHJvbCBwcm92aWRlciAobWF5IGJlIG51bGwpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBDb2RleC5JU291cmNlQ29udHJvbEZpbGVJbmZvIENvZGV4LklTb3VyY2VTZWFyY2hNb2RlbEJhc2UuU291cmNlQ29udHJvbEluZm8ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuU291cmNlQ29udHJvbEluZm87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlIGZpbGUgZnJvbSBzb3VyY2UgY29udHJvbCBwcm92aWRlciAobWF5IGJlIG51bGwpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBTb3VyY2VDb250cm9sRmlsZUluZm8gU291cmNlQ29udHJvbEluZm8ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Tb3VyY2VDb250cm9sSW5mbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1NvdXJjZUNvbnRyb2xJbmZvID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JU291cmNlU2VhcmNoTW9kZWxCYXNlIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogVGV4dFNvdXJjZVNlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX1NvdXJjZUNvbnRyb2xJbmZvID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VDb250cm9sRmlsZUluZm8sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VDb250cm9sRmlsZUluZm8+KFNvdXJjZUNvbnRyb2xJbmZvLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUNvbnRyb2xGaWxlSW5mbywgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VDb250cm9sRmlsZUluZm8+KSh2ID0+IG5ldyBTb3VyY2VDb250cm9sRmlsZUluZm8oKS5Db3B5RnJvbTxTb3VyY2VDb250cm9sRmlsZUluZm8+KHYpKSk7O1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVRleHRTb3VyY2VTZWFyY2hNb2RlbCB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFRleHRTb3VyY2VTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9GaWxlID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VGaWxlLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlRmlsZT4oRmlsZSwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VGaWxlLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUZpbGU+KSh2ID0+IG5ldyBTb3VyY2VGaWxlKCkuQ29weUZyb208U291cmNlRmlsZT4odikpKTs7XHJcbiAgICAgICAgICAgIGJhc2UuQ29weUZyb208U2VhcmNoRW50aXR5PigoKENvZGV4LklTZWFyY2hFbnRpdHkpKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICB0aGlzLm1fU291cmNlQ29udHJvbEluZm8gPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUNvbnRyb2xGaWxlSW5mbyxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUNvbnRyb2xGaWxlSW5mbz4oU291cmNlQ29udHJvbEluZm8sIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuU291cmNlQ29udHJvbEZpbGVJbmZvLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUNvbnRyb2xGaWxlSW5mbz4pKHYgPT4gbmV3IFNvdXJjZUNvbnRyb2xGaWxlSW5mbygpLkNvcHlGcm9tPFNvdXJjZUNvbnRyb2xGaWxlSW5mbz4odikpKTs7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JUmVwb3NpdG9yeVNlYXJjaE1vZGVsKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBSZXBvc2l0b3J5U2VhcmNoTW9kZWwgOiBTZWFyY2hFbnRpdHksIENvZGV4LklSZXBvc2l0b3J5U2VhcmNoTW9kZWwge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgUmVwb3NpdG9yeSBtX1JlcG9zaXRvcnk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlcG9zaXRvcnlTZWFyY2hNb2RlbCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlcG9zaXRvcnlTZWFyY2hNb2RlbChDb2RleC5JUmVwb3NpdG9yeVNlYXJjaE1vZGVsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UmVwb3NpdG9yeVNlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZXBvc2l0b3J5U2VhcmNoTW9kZWwoQ29kZXguSVNlYXJjaEVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgQ29kZXguSVJlcG9zaXRvcnkgQ29kZXguSVJlcG9zaXRvcnlTZWFyY2hNb2RlbC5SZXBvc2l0b3J5IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlJlcG9zaXRvcnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgUmVwb3NpdG9yeSBSZXBvc2l0b3J5IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUmVwb3NpdG9yeTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklSZXBvc2l0b3J5U2VhcmNoTW9kZWwgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBSZXBvc2l0b3J5U2VhcmNoTW9kZWwge1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVwb3NpdG9yeSA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVwb3NpdG9yeSxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlcG9zaXRvcnk+KFJlcG9zaXRvcnksIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVwb3NpdG9yeSwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZXBvc2l0b3J5PikodiA9PiBuZXcgUmVwb3NpdG9yeSgpLkNvcHlGcm9tPFJlcG9zaXRvcnk+KHYpKSk7O1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFNlYXJjaEVudGl0eT4oKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklQcm9qZWN0U2VhcmNoTW9kZWwpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFByb2plY3RTZWFyY2hNb2RlbCA6IFNlYXJjaEVudGl0eSwgQ29kZXguSVByb2plY3RTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBBbmFseXplZFByb2plY3QgbV9Qcm9qZWN0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0U2VhcmNoTW9kZWwoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0U2VhcmNoTW9kZWwoQ29kZXguSVByb2plY3RTZWFyY2hNb2RlbCB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFByb2plY3RTZWFyY2hNb2RlbD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUHJvamVjdFNlYXJjaE1vZGVsKENvZGV4LklTZWFyY2hFbnRpdHkgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIENvZGV4LklQcm9qZWN0IENvZGV4LklQcm9qZWN0U2VhcmNoTW9kZWwuUHJvamVjdCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5Qcm9qZWN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIEFuYWx5emVkUHJvamVjdCBQcm9qZWN0IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUHJvamVjdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1Byb2plY3QgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklQcm9qZWN0U2VhcmNoTW9kZWwgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBQcm9qZWN0U2VhcmNoTW9kZWwge1xyXG4gICAgICAgICAgICB0aGlzLm1fUHJvamVjdCA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQW5hbHl6ZWRQcm9qZWN0LGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQW5hbHl6ZWRQcm9qZWN0PihQcm9qZWN0LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkFuYWx5emVkUHJvamVjdCwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5BbmFseXplZFByb2plY3Q+KSh2ID0+IG5ldyBBbmFseXplZFByb2plY3QoKS5Db3B5RnJvbTxBbmFseXplZFByb2plY3Q+KHYpKSk7O1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFNlYXJjaEVudGl0eT4oKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklQcm9qZWN0UmVmZXJlbmNlU2VhcmNoTW9kZWwpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbCA6IFNlYXJjaEVudGl0eSwgQ29kZXguSVByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBSZWZlcmVuY2VkUHJvamVjdCBtX1Byb2plY3RSZWZlcmVuY2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9Qcm9qZWN0SWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgbV9SZXBvc2l0b3J5TmFtZTtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUHJvamVjdFJlZmVyZW5jZVNlYXJjaE1vZGVsKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUHJvamVjdFJlZmVyZW5jZVNlYXJjaE1vZGVsKENvZGV4LklQcm9qZWN0UmVmZXJlbmNlU2VhcmNoTW9kZWwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxQcm9qZWN0UmVmZXJlbmNlU2VhcmNoTW9kZWw+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbChDb2RleC5JU2VhcmNoRW50aXR5IHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUHJvamVjdFJlZmVyZW5jZVNlYXJjaE1vZGVsKENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxQcm9qZWN0UmVmZXJlbmNlU2VhcmNoTW9kZWw+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbChDb2RleC5JUmVwb1Njb3BlRW50aXR5IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208UHJvamVjdFJlZmVyZW5jZVNlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIENvZGV4LklSZWZlcmVuY2VkUHJvamVjdCBDb2RleC5JUHJvamVjdFJlZmVyZW5jZVNlYXJjaE1vZGVsLlByb2plY3RSZWZlcmVuY2Uge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuUHJvamVjdFJlZmVyZW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBSZWZlcmVuY2VkUHJvamVjdCBQcm9qZWN0UmVmZXJlbmNlIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUHJvamVjdFJlZmVyZW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RSZWZlcmVuY2UgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBwcm9qZWN0IGNvbnRhaW5pbmcgdGhlIGVudGl0eVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFByb2plY3RJZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1Byb2plY3RJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1Byb2plY3RJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG5hbWUgb2YgdGhlIHJlcG9zaXRvcnkgY29udGFpbmluZyB0aGUgZW50aXR5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgUmVwb3NpdG9yeU5hbWUge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZXBvc2l0b3J5TmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlOYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUmVwb1Njb3BlRW50aXR5IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogUHJvamVjdFJlZmVyZW5jZVNlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlOYW1lID0gKChDb2RleC5JUmVwb1Njb3BlRW50aXR5KSh2YWx1ZSkpLlJlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVByb2plY3RTY29wZUVudGl0eSB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0SWQgPSAoKENvZGV4LklQcm9qZWN0U2NvcGVFbnRpdHkpKHZhbHVlKSkuUHJvamVjdElkO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSVByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbCB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0UmVmZXJlbmNlID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VkUHJvamVjdCxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZWRQcm9qZWN0PihQcm9qZWN0UmVmZXJlbmNlLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZWRQcm9qZWN0LCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZWRQcm9qZWN0PikodiA9PiBuZXcgUmVmZXJlbmNlZFByb2plY3QoKS5Db3B5RnJvbTxSZWZlcmVuY2VkUHJvamVjdD4odikpKTs7XHJcbiAgICAgICAgICAgIGJhc2UuQ29weUZyb208U2VhcmNoRW50aXR5PigoKENvZGV4LklTZWFyY2hFbnRpdHkpKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICB0aGlzLm1fUHJvamVjdElkID0gKChDb2RleC5JUHJvamVjdFNjb3BlRW50aXR5KSh2YWx1ZSkpLlByb2plY3RJZDtcclxuICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlOYW1lID0gKChDb2RleC5JUmVwb1Njb3BlRW50aXR5KSh2YWx1ZSkpLlJlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSUNvbW1pdFNlYXJjaE1vZGVsKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBDb21taXRTZWFyY2hNb2RlbCA6IFNlYXJjaEVudGl0eSwgQ29kZXguSUNvbW1pdFNlYXJjaE1vZGVsIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIENvbW1pdCBtX0NvbW1pdDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29tbWl0U2VhcmNoTW9kZWwoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb21taXRTZWFyY2hNb2RlbChDb2RleC5JQ29tbWl0U2VhcmNoTW9kZWwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxDb21taXRTZWFyY2hNb2RlbD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29tbWl0U2VhcmNoTW9kZWwoQ29kZXguSVNlYXJjaEVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgQ29kZXguSUNvbW1pdCBDb2RleC5JQ29tbWl0U2VhcmNoTW9kZWwuQ29tbWl0IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkNvbW1pdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBDb21taXQgQ29tbWl0IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQ29tbWl0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ29tbWl0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQ29tbWl0U2VhcmNoTW9kZWwgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDb21taXRTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Db21taXQgPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdCxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdD4oQ29tbWl0LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdCwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Db21taXQ+KSh2ID0+IG5ldyBDb21taXQoKS5Db3B5RnJvbTxDb21taXQ+KHYpKSk7O1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFNlYXJjaEVudGl0eT4oKChDb2RleC5JU2VhcmNoRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIFRoZSBzZXQgb2YgZmlsZXMgcHJlc2VudCBpbiB0aGUgcmVwb3NpdG9yeSBhdCBhIGdpdmVuIGNvbW1pdC5cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSUNvbW1pdEZpbGVzU2VhcmNoTW9kZWwpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIENvbW1pdEZpbGVzU2VhcmNoTW9kZWwgOiBTZWFyY2hFbnRpdHksIENvZGV4LklDb21taXRGaWxlc1NlYXJjaE1vZGVsIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8Q29tbWl0RmlsZUxpbms+IG1fQ29tbWl0RmlsZXMgPSBuZXcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb21taXRGaWxlTGluaz4oKTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0NvbW1pdElkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUmVwb3NpdG9yeU5hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvbW1pdEZpbGVzU2VhcmNoTW9kZWwoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb21taXRGaWxlc1NlYXJjaE1vZGVsKENvZGV4LklDb21taXRGaWxlc1NlYXJjaE1vZGVsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208Q29tbWl0RmlsZXNTZWFyY2hNb2RlbD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29tbWl0RmlsZXNTZWFyY2hNb2RlbChDb2RleC5JU2VhcmNoRW50aXR5IHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgQ29tbWl0RmlsZXNTZWFyY2hNb2RlbChDb2RleC5JQ29tbWl0U2NvcGVFbnRpdHkgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxDb21taXRGaWxlc1NlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb21taXRGaWxlc1NlYXJjaE1vZGVsKENvZGV4LklSZXBvU2NvcGVFbnRpdHkgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxDb21taXRGaWxlc1NlYXJjaE1vZGVsPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8Q29kZXguSUNvbW1pdEZpbGVMaW5rPiBDb2RleC5JQ29tbWl0RmlsZXNTZWFyY2hNb2RlbC5Db21taXRGaWxlcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5Db21taXRGaWxlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PENvbW1pdEZpbGVMaW5rPiBDb21taXRGaWxlcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NvbW1pdEZpbGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ29tbWl0RmlsZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjb21taXQvY2hhbmdlc2V0IGluIHZlcnNpb24gY29udHJvbFxyXG4gICAgICAgIC8vLyAoaS5lLiBnaXQgY29tbWl0IGhhc2ggb3IgVEZTIGNoYW5nZXNldCBudW1iZXIpXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgQ29tbWl0SWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Db21taXRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NvbW1pdElkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgbmFtZSBvZiB0aGUgcmVwb3NpdG9yeSBjb250YWluaW5nIHRoZSBlbnRpdHlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBSZXBvc2l0b3J5TmFtZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1JlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUmVwb3NpdG9yeU5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklSZXBvU2NvcGVFbnRpdHkgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDb21taXRGaWxlc1NlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnlOYW1lID0gKChDb2RleC5JUmVwb1Njb3BlRW50aXR5KSh2YWx1ZSkpLlJlcG9zaXRvcnlOYW1lO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSUNvbW1pdFNjb3BlRW50aXR5IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogQ29tbWl0RmlsZXNTZWFyY2hNb2RlbCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9Db21taXRJZCA9ICgoQ29kZXguSUNvbW1pdFNjb3BlRW50aXR5KSh2YWx1ZSkpLkNvbW1pdElkO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSUNvbW1pdEZpbGVzU2VhcmNoTW9kZWwgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDb21taXRGaWxlc1NlYXJjaE1vZGVsIHtcclxuICAgICAgICAgICAgdGhpcy5tX0NvbW1pdEZpbGVzID0gbmV3IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Q8Q29tbWl0RmlsZUxpbms+KFN5c3RlbS5MaW5xLkVudW1lcmFibGUuU2VsZWN0PGdsb2JhbDo6Q29kZXguSUNvbW1pdEZpbGVMaW5rLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ29tbWl0RmlsZUxpbms+KCgoQ29kZXguSUNvbW1pdEZpbGVzU2VhcmNoTW9kZWwpKHZhbHVlKSkuQ29tbWl0RmlsZXMsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSUNvbW1pdEZpbGVMaW5rLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdEZpbGVMaW5rPikodiA9PiBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4LklDb21taXRGaWxlTGluayxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdEZpbGVMaW5rPih2LCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklDb21taXRGaWxlTGluaywgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Db21taXRGaWxlTGluaz4pKF92ID0+IG5ldyBDb21taXRGaWxlTGluaygpLkNvcHlGcm9tPENvbW1pdEZpbGVMaW5rPihfdikpKSkpKTtcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxTZWFyY2hFbnRpdHk+KCgoQ29kZXguSVNlYXJjaEVudGl0eSkodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHRoaXMubV9Db21taXRJZCA9ICgoQ29kZXguSUNvbW1pdFNjb3BlRW50aXR5KSh2YWx1ZSkpLkNvbW1pdElkO1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVwb3NpdG9yeU5hbWUgPSAoKENvZGV4LklSZXBvU2NvcGVFbnRpdHkpKHZhbHVlKSkuUmVwb3NpdG9yeU5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JRmlsZVN0YXRpc3RpY3MpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIEZpbGVTdGF0aXN0aWNzIDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSUZpbGVTdGF0aXN0aWNzIHtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgRmlsZVN0YXRpc3RpY3MoKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIEZpbGVTdGF0aXN0aWNzKENvZGV4LklGaWxlU3RhdGlzdGljcyB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208RmlsZVN0YXRpc3RpY3M+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JRmlsZVN0YXRpc3RpY3MgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBGaWxlU3RhdGlzdGljcyB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBJbmZvcm1hdGlvbiBmb3IgY3JlYXRpbmcgYW4gSUNvZGV4UmVwb3NpdG9yeVN0b3JlXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklSZXBvc2l0b3J5U3RvcmVJbmZvKSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBSZXBvc2l0b3J5U3RvcmVJbmZvIDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSVJlcG9zaXRvcnlTdG9yZUluZm8ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgUmVwb3NpdG9yeSBtX1JlcG9zaXRvcnk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBCcmFuY2ggbV9CcmFuY2g7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBDb21taXQgbV9Db21taXQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlcG9zaXRvcnlTdG9yZUluZm8oKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlcG9zaXRvcnlTdG9yZUluZm8oQ29kZXguSVJlcG9zaXRvcnlTdG9yZUluZm8gdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFJlcG9zaXRvcnlTdG9yZUluZm8+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcmVwb3NpdG9yeSBiZWluZyBzdG9yZWRcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIENvZGV4LklSZXBvc2l0b3J5IENvZGV4LklSZXBvc2l0b3J5U3RvcmVJbmZvLlJlcG9zaXRvcnkge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuUmVwb3NpdG9yeTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSByZXBvc2l0b3J5IGJlaW5nIHN0b3JlZFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgUmVwb3NpdG9yeSBSZXBvc2l0b3J5IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUmVwb3NpdG9yeTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlcG9zaXRvcnkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBicmFuY2ggYmVpbmcgc3RvcmVkXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBDb2RleC5JQnJhbmNoIENvZGV4LklSZXBvc2l0b3J5U3RvcmVJbmZvLkJyYW5jaCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5CcmFuY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgYnJhbmNoIGJlaW5nIHN0b3JlZFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgQnJhbmNoIEJyYW5jaCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0JyYW5jaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0JyYW5jaCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGNvbW1pdCBiZWluZyBzdG9yZWRcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIENvZGV4LklDb21taXQgQ29kZXguSVJlcG9zaXRvcnlTdG9yZUluZm8uQ29tbWl0IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkNvbW1pdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBjb21taXQgYmVpbmcgc3RvcmVkXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBDb21taXQgQ29tbWl0IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQ29tbWl0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ29tbWl0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUmVwb3NpdG9yeVN0b3JlSW5mbyB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFJlcG9zaXRvcnlTdG9yZUluZm8ge1xyXG4gICAgICAgICAgICB0aGlzLm1fUmVwb3NpdG9yeSA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVwb3NpdG9yeSxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlcG9zaXRvcnk+KFJlcG9zaXRvcnksIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVwb3NpdG9yeSwgZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZXBvc2l0b3J5PikodiA9PiBuZXcgUmVwb3NpdG9yeSgpLkNvcHlGcm9tPFJlcG9zaXRvcnk+KHYpKSk7O1xyXG4gICAgICAgICAgICB0aGlzLm1fQnJhbmNoID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5CcmFuY2gsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5CcmFuY2g+KEJyYW5jaCwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5CcmFuY2gsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQnJhbmNoPikodiA9PiBuZXcgQnJhbmNoKCkuQ29weUZyb208QnJhbmNoPih2KSkpOztcclxuICAgICAgICAgICAgdGhpcy5tX0NvbW1pdCA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ29tbWl0LGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ29tbWl0PihDb21taXQsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ29tbWl0LCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdD4pKHYgPT4gbmV3IENvbW1pdCgpLkNvcHlGcm9tPENvbW1pdD4odikpKTs7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBSZXByZXNlbnRzIGEgZGlyZWN0b3J5IGluIHNvdXJjZSBjb250cm9sXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LklDb21taXRGaWxlc0RpcmVjdG9yeSkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgQ29tbWl0RmlsZXNEaXJlY3RvcnkgOiBSZXBvRmlsZVNjb3BlRW50aXR5LCBDb2RleC5JQ29tbWl0RmlsZXNEaXJlY3Rvcnkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb21taXRGaWxlTGluaz4gbV9GaWxlcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PENvbW1pdEZpbGVMaW5rPigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb21taXRGaWxlc0RpcmVjdG9yeSgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvbW1pdEZpbGVzRGlyZWN0b3J5KENvZGV4LklDb21taXRGaWxlc0RpcmVjdG9yeSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPENvbW1pdEZpbGVzRGlyZWN0b3J5Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBDb21taXRGaWxlc0RpcmVjdG9yeShDb2RleC5JUmVwb0ZpbGVTY29wZUVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIENvbW1pdEZpbGVzRGlyZWN0b3J5KENvZGV4LklSZXBvU2NvcGVFbnRpdHkgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGZpbGVzIGluIHRoZSBkaXJlY3RvcnlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLklSZWFkT25seUxpc3Q8Q29kZXguSUNvbW1pdEZpbGVMaW5rPiBDb2RleC5JQ29tbWl0RmlsZXNEaXJlY3RvcnkuRmlsZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuRmlsZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZmlsZXMgaW4gdGhlIGRpcmVjdG9yeVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdDxDb21taXRGaWxlTGluaz4gRmlsZXMge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9GaWxlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0ZpbGVzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JQ29tbWl0RmlsZXNEaXJlY3RvcnkgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBDb21taXRGaWxlc0RpcmVjdG9yeSB7XHJcbiAgICAgICAgICAgIHRoaXMubV9GaWxlcyA9IG5ldyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0PENvbW1pdEZpbGVMaW5rPihTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlNlbGVjdDxnbG9iYWw6OkNvZGV4LklDb21taXRGaWxlTGluayxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdEZpbGVMaW5rPigoKENvZGV4LklDb21taXRGaWxlc0RpcmVjdG9yeSkodmFsdWUpKS5GaWxlcywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5JQ29tbWl0RmlsZUxpbmssIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ29tbWl0RmlsZUxpbms+KSh2ID0+IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguSUNvbW1pdEZpbGVMaW5rLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQ29tbWl0RmlsZUxpbms+KHYsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguSUNvbW1pdEZpbGVMaW5rLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdEZpbGVMaW5rPikoX3YgPT4gbmV3IENvbW1pdEZpbGVMaW5rKCkuQ29weUZyb208Q29tbWl0RmlsZUxpbms+KF92KSkpKSkpO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFJlcG9GaWxlU2NvcGVFbnRpdHk+KCgoQ29kZXguSVJlcG9GaWxlU2NvcGVFbnRpdHkpKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVN0b3JlZEJvdW5kU291cmNlRmlsZSkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgU3RvcmVkQm91bmRTb3VyY2VGaWxlIDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSVN0b3JlZEJvdW5kU291cmNlRmlsZSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBCb3VuZFNvdXJjZUZpbGUgbV9Cb3VuZFNvdXJjZUZpbGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBDb2RleC5JQ2xhc3NpZmljYXRpb25MaXN0IG1fQ29tcHJlc3NlZENsYXNzaWZpY2F0aW9ucztcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIENvZGV4LklSZWZlcmVuY2VMaXN0IG1fQ29tcHJlc3NlZFJlZmVyZW5jZXM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFN0b3JlZEJvdW5kU291cmNlRmlsZSgpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgU3RvcmVkQm91bmRTb3VyY2VGaWxlKENvZGV4LklTdG9yZWRCb3VuZFNvdXJjZUZpbGUgdmFsdWUpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFN0b3JlZEJvdW5kU291cmNlRmlsZT4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBDb2RleC5JQm91bmRTb3VyY2VGaWxlIENvZGV4LklTdG9yZWRCb3VuZFNvdXJjZUZpbGUuQm91bmRTb3VyY2VGaWxlIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkJvdW5kU291cmNlRmlsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBCb3VuZFNvdXJjZUZpbGUgQm91bmRTb3VyY2VGaWxlIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQm91bmRTb3VyY2VGaWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQm91bmRTb3VyY2VGaWxlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBDb21wcmVzc2VkIGxpc3Qgb2YgY2xhc3NpZmljYXRpb24gc3BhbnNcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIENvZGV4LklDbGFzc2lmaWNhdGlvbkxpc3QgQ29tcHJlc3NlZENsYXNzaWZpY2F0aW9ucyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NvbXByZXNzZWRDbGFzc2lmaWNhdGlvbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Db21wcmVzc2VkQ2xhc3NpZmljYXRpb25zID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBDb21wcmVzc2VkIGxpc3Qgb2YgcmVmZXJlbmNlIHNwYW5zXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBDb2RleC5JUmVmZXJlbmNlTGlzdCBDb21wcmVzc2VkUmVmZXJlbmNlcyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0NvbXByZXNzZWRSZWZlcmVuY2VzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fQ29tcHJlc3NlZFJlZmVyZW5jZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklTdG9yZWRCb3VuZFNvdXJjZUZpbGUgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBTdG9yZWRCb3VuZFNvdXJjZUZpbGUge1xyXG4gICAgICAgICAgICB0aGlzLm1fQm91bmRTb3VyY2VGaWxlID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Cb3VuZFNvdXJjZUZpbGUsZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Cb3VuZFNvdXJjZUZpbGU+KEJvdW5kU291cmNlRmlsZSwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5Cb3VuZFNvdXJjZUZpbGUsIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuQm91bmRTb3VyY2VGaWxlPikodiA9PiBuZXcgQm91bmRTb3VyY2VGaWxlKCkuQ29weUZyb208Qm91bmRTb3VyY2VGaWxlPih2KSkpOztcclxuICAgICAgICAgICAgdGhpcy5tX0NvbXByZXNzZWRDbGFzc2lmaWNhdGlvbnMgPSAoKENvZGV4LklTdG9yZWRCb3VuZFNvdXJjZUZpbGUpKHZhbHVlKSkuQ29tcHJlc3NlZENsYXNzaWZpY2F0aW9ucztcclxuICAgICAgICAgICAgdGhpcy5tX0NvbXByZXNzZWRSZWZlcmVuY2VzID0gKChDb2RleC5JU3RvcmVkQm91bmRTb3VyY2VGaWxlKSh2YWx1ZSkpLkNvbXByZXNzZWRSZWZlcmVuY2VzO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSURlZmluaXRpb25TeW1ib2wpKV1cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIERlZmluaXRpb25TeW1ib2wgOiBSZWZlcmVuY2VTeW1ib2wsIENvZGV4LklEZWZpbml0aW9uU3ltYm9sIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1VpZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0Rpc3BsYXlOYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fU2hvcnROYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fQ29udGFpbmVyUXVhbGlmaWVkTmFtZTtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZ1tdIG1fTW9kaWZpZXJzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgQ29kZXguT2JqZWN0TW9kZWwuR2x5cGggbV9HbHlwaDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIGludCBtX1N5bWJvbERlcHRoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgRG9jdW1lbnRhdGlvbkluZm8gbV9Eb2N1bWVudGF0aW9uSW5mbztcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1R5cGVOYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fRGVjbGFyYXRpb25OYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fQ29tbWVudDtcclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgRGVmaW5pdGlvblN5bWJvbCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIERlZmluaXRpb25TeW1ib2woQ29kZXguSURlZmluaXRpb25TeW1ib2wgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxEZWZpbml0aW9uU3ltYm9sPih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBEZWZpbml0aW9uU3ltYm9sKENvZGV4LklSZWZlcmVuY2VTeW1ib2wgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBEZWZpbml0aW9uU3ltYm9sKENvZGV4LklDb2RlU3ltYm9sIHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHN5bWJvbFxyXG4gICAgICAgIC8vLyBOT1RFOiBUaGlzIGlzIG5vdCBhcHBsaWNhYmxlIHRvIG1vc3Qgc3ltYm9scy4gT25seSBzZXQgZm9yIHN5bWJvbHNcclxuICAgICAgICAvLy8gd2hpY2ggYXJlIGFkZGVkIGluIGEgc2hhcmVkIGNvbnRleHQgYW5kIG5lZWQgdGhpcyBmb3IgZGVkdXBsaWNhdGlvbilcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBVaWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9VaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9VaWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBkaXNwbGF5IG5hbWUgb2YgdGhlIHN5bWJvbFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIERpc3BsYXlOYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9EaXNwbGF5TmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHNob3J0IG5hbWUgb2YgdGhlIHN5bWJvbCAoaS5lLiBUYXNrKS5cclxuICAgICAgICAvLy8gVGhpcyBpcyB1c2VkIHRvIGZpbmQgdGhlIHN5bWJvbCB3aGVuIHNlYXJjaCB0ZXJtIGRvZXMgbm90IGNvbnRhaW4gJy4nXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBzdHJpbmcgU2hvcnROYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkNvZXJjZVNob3J0TmFtZSh0aGlzLm1fU2hvcnROYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1Nob3J0TmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHF1YWxpZmllZCBuYW1lIG9mIHRoZSBzeW1ib2wgKGkuZS4gU3lzdGVtLlRocmVhZGluZy5UYXNrcy5UYXNrKS5cclxuICAgICAgICAvLy8gVGhpcyBpcyB1c2VkIHRvIGZpbmQgdGhlIHN5bWJvbCB3aGVuIHRoZSBzZWFyY2ggdGVybSBjb250YWlucyAnLidcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBDb250YWluZXJRdWFsaWZpZWROYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQ29udGFpbmVyUXVhbGlmaWVkTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NvbnRhaW5lclF1YWxpZmllZE5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIE1vZGlmaWVycyBmb3IgdGhlIHN5bWJvbCBzdWNoIGFzIHB1YmxpY1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nW10gTW9kaWZpZXJzIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fTW9kaWZpZXJzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fTW9kaWZpZXJzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZ2x5cGhcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIENvZGV4Lk9iamVjdE1vZGVsLkdseXBoIEdseXBoIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fR2x5cGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9HbHlwaCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGRlcHRoIG9mIHRoZSBzeW1ib2wgaW4gaXRzIHN5bWJvbGljIHRyZWVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGludCBTeW1ib2xEZXB0aCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1N5bWJvbERlcHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fU3ltYm9sRGVwdGggPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIERvY3VtZW50YXRpb24gZm9yIHRoZSBzeW1ib2wgKGlmIGFueSlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIENvZGV4LklEb2N1bWVudGF0aW9uSW5mbyBDb2RleC5JRGVmaW5pdGlvblN5bWJvbC5Eb2N1bWVudGF0aW9uSW5mbyB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5Eb2N1bWVudGF0aW9uSW5mbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIERvY3VtZW50YXRpb24gZm9yIHRoZSBzeW1ib2wgKGlmIGFueSlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIERvY3VtZW50YXRpb25JbmZvIERvY3VtZW50YXRpb25JbmZvIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fRG9jdW1lbnRhdGlvbkluZm87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Eb2N1bWVudGF0aW9uSW5mbyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG5hbWUgb2YgdGhlIHR5cGUgZm9yIHRoZSBzeW1ib2xcclxuICAgICAgICAvLy8gKGkuZS4gcmV0dXJuIHR5cGUgb2YgbWV0aG9kKVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIFR5cGVOYW1lIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fVHlwZU5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9UeXBlTmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGRlY2xhcmF0aW9uIG5hbWUgZm9yIHRoZSBzeW1ib2xcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBEZWNsYXJhdGlvbk5hbWUge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9EZWNsYXJhdGlvbk5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9EZWNsYXJhdGlvbk5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBjb21tZW50IGFwcGxpZWQgdG8gdGhlIGRlZmluaXRpb25cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBDb21tZW50IHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fQ29tbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0NvbW1lbnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LklEZWZpbml0aW9uU3ltYm9sIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogRGVmaW5pdGlvblN5bWJvbCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9VaWQgPSAoKENvZGV4LklEZWZpbml0aW9uU3ltYm9sKSh2YWx1ZSkpLlVpZDtcclxuICAgICAgICAgICAgdGhpcy5tX0Rpc3BsYXlOYW1lID0gKChDb2RleC5JRGVmaW5pdGlvblN5bWJvbCkodmFsdWUpKS5EaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX1Nob3J0TmFtZSA9ICgoQ29kZXguSURlZmluaXRpb25TeW1ib2wpKHZhbHVlKSkuU2hvcnROYW1lO1xyXG4gICAgICAgICAgICB0aGlzLm1fQ29udGFpbmVyUXVhbGlmaWVkTmFtZSA9ICgoQ29kZXguSURlZmluaXRpb25TeW1ib2wpKHZhbHVlKSkuQ29udGFpbmVyUXVhbGlmaWVkTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX01vZGlmaWVycyA9ICgoQ29kZXguSURlZmluaXRpb25TeW1ib2wpKHZhbHVlKSkuTW9kaWZpZXJzO1xyXG4gICAgICAgICAgICB0aGlzLm1fR2x5cGggPSAoKENvZGV4LklEZWZpbml0aW9uU3ltYm9sKSh2YWx1ZSkpLkdseXBoO1xyXG4gICAgICAgICAgICB0aGlzLm1fU3ltYm9sRGVwdGggPSAoKENvZGV4LklEZWZpbml0aW9uU3ltYm9sKSh2YWx1ZSkpLlN5bWJvbERlcHRoO1xyXG4gICAgICAgICAgICB0aGlzLm1fRG9jdW1lbnRhdGlvbkluZm8gPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRvY3VtZW50YXRpb25JbmZvLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRG9jdW1lbnRhdGlvbkluZm8+KERvY3VtZW50YXRpb25JbmZvLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRvY3VtZW50YXRpb25JbmZvLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRvY3VtZW50YXRpb25JbmZvPikodiA9PiBuZXcgRG9jdW1lbnRhdGlvbkluZm8oKS5Db3B5RnJvbTxEb2N1bWVudGF0aW9uSW5mbz4odikpKTs7XHJcbiAgICAgICAgICAgIHRoaXMubV9UeXBlTmFtZSA9ICgoQ29kZXguSURlZmluaXRpb25TeW1ib2wpKHZhbHVlKSkuVHlwZU5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMubV9EZWNsYXJhdGlvbk5hbWUgPSAoKENvZGV4LklEZWZpbml0aW9uU3ltYm9sKSh2YWx1ZSkpLkRlY2xhcmF0aW9uTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5tX0NvbW1lbnQgPSAoKENvZGV4LklEZWZpbml0aW9uU3ltYm9sKSh2YWx1ZSkpLkNvbW1lbnQ7XHJcbiAgICAgICAgICAgIGJhc2UuQ29weUZyb208UmVmZXJlbmNlU3ltYm9sPigoKENvZGV4LklSZWZlcmVuY2VTeW1ib2wpKHZhbHVlKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguSVJlZmVyZW5jZVN5bWJvbCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgUmVmZXJlbmNlU3ltYm9sIDogU3ltYm9sLCBDb2RleC5JUmVmZXJlbmNlU3ltYm9sIHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX1JlZmVyZW5jZUtpbmQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBib29sIG1fSXNJbXBsaWNpdGx5RGVjbGFyZWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBib29sIG1fRXhjbHVkZUZyb21EZWZhdWx0U2VhcmNoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgYm9vbCBtX0V4Y2x1ZGVGcm9tU2VhcmNoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZWZlcmVuY2VTeW1ib2woKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBSZWZlcmVuY2VTeW1ib2woQ29kZXguSVJlZmVyZW5jZVN5bWJvbCB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLkNvcHlGcm9tPFJlZmVyZW5jZVN5bWJvbD4odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgUmVmZXJlbmNlU3ltYm9sKENvZGV4LklDb2RlU3ltYm9sIHZhbHVlKSA6IFxyXG4gICAgICAgICAgICAgICAgYmFzZSh2YWx1ZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBraW5kIG9mIHJlZmVyZW5jZS4gVGhpcyBpcyB1c2VkIHRvIGdyb3VwIHJlZmVyZW5jZXMuXHJcbiAgICAgICAgLy8vIChpLmUuIGZvciBDIyhha2EgLk5FVCkgTWV0aG9kT3ZlcnJpZGUsIEludGVyZmFjZU1lbWJlckltcGxlbWVudGF0aW9uLCBJbnRlcmZhY2VJbXBsZW1lbnRhdGlvbiwgZXRjLilcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBSZWZlcmVuY2VLaW5kIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1fUmVmZXJlbmNlS2luZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX1JlZmVyZW5jZUtpbmQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEluZGljYXRlcyB0aGUgY29ycmVzcG9uZGluZyBkZWZpbml0aW9uIGlzIGltcGxpY2l0bHkgZGVjbGFyZWQgYW5kIHRoZXJlZm9yZSB0aGlzIHNob3VsZCBub3QgYmVcclxuICAgICAgICAvLy8gdXNlZCBmb3IgZmluZCBhbGwgcmVmZXJlbmNlcyBzZWFyY2hcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGJvb2wgSXNJbXBsaWNpdGx5RGVjbGFyZWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Jc0ltcGxpY2l0bHlEZWNsYXJlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0lzSW1wbGljaXRseURlY2xhcmVkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJbmRpY2F0ZXMgaWYgdGhlIHN5bWJvbCBzaG91bGQgYmUgZXhjbHVkZWQgZnJvbSB0aGUgZGVmaW5pdGlvbi9maW5kIGFsbCByZWZlcmVuY2VzIHNlYXJjaCAoYnkgZGVmYXVsdCkuXHJcbiAgICAgICAgLy8vIFN5bWJvbCB3aWxsIG9ubHkgYmUgaW5jbHVkZWQgaWYga2luZCBpcyBleHBsaWNpdGx5IHNwZWNpZmllZFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgYm9vbCBFeGNsdWRlRnJvbURlZmF1bHRTZWFyY2gge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9FeGNsdWRlRnJvbURlZmF1bHRTZWFyY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9FeGNsdWRlRnJvbURlZmF1bHRTZWFyY2ggPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEluZGljYXRlcyBpZiB0aGUgc3ltYm9sIHNob3VsZCBORVZFUiBiZSBpbmNsdWRlZCBpbiB0aGUgZGVmaW5pdGlvbi9maW5kIGFsbCByZWZlcmVuY2VzIHNlYXJjaC5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIGJvb2wgRXhjbHVkZUZyb21TZWFyY2gge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9FeGNsdWRlRnJvbVNlYXJjaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX0V4Y2x1ZGVGcm9tU2VhcmNoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5JUmVmZXJlbmNlU3ltYm9sIHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogUmVmZXJlbmNlU3ltYm9sIHtcclxuICAgICAgICAgICAgdGhpcy5tX1JlZmVyZW5jZUtpbmQgPSAoKENvZGV4LklSZWZlcmVuY2VTeW1ib2wpKHZhbHVlKSkuUmVmZXJlbmNlS2luZDtcclxuICAgICAgICAgICAgdGhpcy5tX0lzSW1wbGljaXRseURlY2xhcmVkID0gKChDb2RleC5JUmVmZXJlbmNlU3ltYm9sKSh2YWx1ZSkpLklzSW1wbGljaXRseURlY2xhcmVkO1xyXG4gICAgICAgICAgICB0aGlzLm1fRXhjbHVkZUZyb21EZWZhdWx0U2VhcmNoID0gKChDb2RleC5JUmVmZXJlbmNlU3ltYm9sKSh2YWx1ZSkpLkV4Y2x1ZGVGcm9tRGVmYXVsdFNlYXJjaDtcclxuICAgICAgICAgICAgdGhpcy5tX0V4Y2x1ZGVGcm9tU2VhcmNoID0gKChDb2RleC5JUmVmZXJlbmNlU3ltYm9sKSh2YWx1ZSkpLkV4Y2x1ZGVGcm9tU2VhcmNoO1xyXG4gICAgICAgICAgICBiYXNlLkNvcHlGcm9tPFN5bWJvbD4oKChDb2RleC5JQ29kZVN5bWJvbCkodmFsdWUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5JQ29kZVN5bWJvbCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgU3ltYm9sIDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguSUNvZGVTeW1ib2wge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fUHJvamVjdElkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgQ29kZXguT2JqZWN0TW9kZWwuU3ltYm9sSWQgbV9JZDtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIHN0cmluZyBtX0tpbmQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFN5bWJvbCgpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgU3ltYm9sKENvZGV4LklDb2RlU3ltYm9sIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxTeW1ib2w+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaWRlbnRpZmllciBvZiB0aGUgcHJvamVjdCBpbiB3aGljaCB0aGUgc3ltYm9sIGFwcGVhcnNcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHN0cmluZyBQcm9qZWN0SWQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9Qcm9qZWN0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9Qcm9qZWN0SWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBpZGVudGlmaWVyIGZvciB0aGUgc3ltYm9sXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBDb2RleC5PYmplY3RNb2RlbC5TeW1ib2xJZCBJZCB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0lkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fSWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBzeW1ib2wga2luZC4gKGkuZS4gaW50ZXJmYWNlLCBtZXRob2QsIGZpZWxkKVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgc3RyaW5nIEtpbmQge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9LaW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fS2luZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguSUNvZGVTeW1ib2wgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBTeW1ib2wge1xyXG4gICAgICAgICAgICB0aGlzLm1fUHJvamVjdElkID0gKChDb2RleC5JQ29kZVN5bWJvbCkodmFsdWUpKS5Qcm9qZWN0SWQ7XHJcbiAgICAgICAgICAgIHRoaXMubV9JZCA9ICgoQ29kZXguSUNvZGVTeW1ib2wpKHZhbHVlKSkuSWQ7XHJcbiAgICAgICAgICAgIHRoaXMubV9LaW5kID0gKChDb2RleC5JQ29kZVN5bWJvbCkodmFsdWUpKS5LaW5kO1xyXG4gICAgICAgICAgICByZXR1cm4gKChUVGFyZ2V0KSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBbQ29kZXguU2VyaWFsaXphdGlvbkludGVyZmFjZUF0dHJpYnV0ZSh0eXBlb2YoQ29kZXguU2RrLlNlYXJjaC5JUmVmZXJlbmNlU2VhcmNoUmVzdWx0KSldXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBSZWZlcmVuY2VTZWFyY2hSZXN1bHQgOiBQcm9qZWN0RmlsZVNjb3BlRW50aXR5LCBDb2RleC5TZGsuU2VhcmNoLklSZWZlcmVuY2VTZWFyY2hSZXN1bHQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgUmVmZXJlbmNlU3BhbiBtX1JlZmVyZW5jZVNwYW47XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlZmVyZW5jZVNlYXJjaFJlc3VsdCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlZmVyZW5jZVNlYXJjaFJlc3VsdChDb2RleC5TZGsuU2VhcmNoLklSZWZlcmVuY2VTZWFyY2hSZXN1bHQgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5Db3B5RnJvbTxSZWZlcmVuY2VTZWFyY2hSZXN1bHQ+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFJlZmVyZW5jZVNlYXJjaFJlc3VsdChDb2RleC5JUHJvamVjdEZpbGVTY29wZUVudGl0eSB2YWx1ZSkgOiBcclxuICAgICAgICAgICAgICAgIGJhc2UodmFsdWUpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgQ29kZXguSVJlZmVyZW5jZVNwYW4gQ29kZXguU2RrLlNlYXJjaC5JUmVmZXJlbmNlU2VhcmNoUmVzdWx0LlJlZmVyZW5jZVNwYW4ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuUmVmZXJlbmNlU3BhbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBSZWZlcmVuY2VTcGFuIFJlZmVyZW5jZVNwYW4ge1xyXG4gICAgICAgICAgICBnZXQge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9SZWZlcmVuY2VTcGFuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fUmVmZXJlbmNlU3BhbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRUYXJnZXQgQ29weUZyb208VFRhcmdldD4oQ29kZXguU2RrLlNlYXJjaC5JUmVmZXJlbmNlU2VhcmNoUmVzdWx0IHZhbHVlKVxyXG4gICAgICAgICAgICB3aGVyZSBUVGFyZ2V0IDogUmVmZXJlbmNlU2VhcmNoUmVzdWx0IHtcclxuICAgICAgICAgICAgdGhpcy5tX1JlZmVyZW5jZVNwYW4gPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZVNwYW4sZ2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VTcGFuPihSZWZlcmVuY2VTcGFuLCAoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZVNwYW4sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuUmVmZXJlbmNlU3Bhbj4pKHYgPT4gbmV3IFJlZmVyZW5jZVNwYW4oKS5Db3B5RnJvbTxSZWZlcmVuY2VTcGFuPih2KSkpOztcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxQcm9qZWN0RmlsZVNjb3BlRW50aXR5PigoKENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LlNkay5TZWFyY2guSVRleHRMaW5lU3BhblJlc3VsdCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgVGV4dExpbmVTcGFuUmVzdWx0IDogUHJvamVjdEZpbGVTY29wZUVudGl0eSwgQ29kZXguU2RrLlNlYXJjaC5JVGV4dExpbmVTcGFuUmVzdWx0IHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFRleHRMaW5lU3BhbiBtX1RleHRTcGFuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBUZXh0TGluZVNwYW5SZXN1bHQoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBUZXh0TGluZVNwYW5SZXN1bHQoQ29kZXguU2RrLlNlYXJjaC5JVGV4dExpbmVTcGFuUmVzdWx0IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208VGV4dExpbmVTcGFuUmVzdWx0Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBUZXh0TGluZVNwYW5SZXN1bHQoQ29kZXguSVByb2plY3RGaWxlU2NvcGVFbnRpdHkgdmFsdWUpIDogXHJcbiAgICAgICAgICAgICAgICBiYXNlKHZhbHVlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIENvZGV4LklUZXh0TGluZVNwYW4gQ29kZXguU2RrLlNlYXJjaC5JVGV4dExpbmVTcGFuUmVzdWx0LlRleHRTcGFuIHtcclxuICAgICAgICAgICAgZ2V0IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlRleHRTcGFuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRleHRMaW5lU3BhbiBUZXh0U3BhbiB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1RleHRTcGFuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fVGV4dFNwYW4gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgdmlydHVhbCBUVGFyZ2V0IENvcHlGcm9tPFRUYXJnZXQ+KENvZGV4LlNkay5TZWFyY2guSVRleHRMaW5lU3BhblJlc3VsdCB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IFRleHRMaW5lU3BhblJlc3VsdCB7XHJcbiAgICAgICAgICAgIHRoaXMubV9UZXh0U3BhbiA9IEVudGl0eVV0aWxpdGllcy5OdWxsT3JDb3B5PGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuVGV4dExpbmVTcGFuLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuVGV4dExpbmVTcGFuPihUZXh0U3BhbiwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5UZXh0TGluZVNwYW4sIGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuVGV4dExpbmVTcGFuPikodiA9PiBuZXcgVGV4dExpbmVTcGFuKCkuQ29weUZyb208VGV4dExpbmVTcGFuPih2KSkpOztcclxuICAgICAgICAgICAgYmFzZS5Db3B5RnJvbTxQcm9qZWN0RmlsZVNjb3BlRW50aXR5PigoKENvZGV4LklQcm9qZWN0RmlsZVNjb3BlRW50aXR5KSh2YWx1ZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgW0NvZGV4LlNlcmlhbGl6YXRpb25JbnRlcmZhY2VBdHRyaWJ1dGUodHlwZW9mKENvZGV4LlNkay5TZWFyY2guSVNlYXJjaFJlc3VsdCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgU2VhcmNoUmVzdWx0IDogQ29kZXguRW50aXR5QmFzZSwgQ29kZXguU2RrLlNlYXJjaC5JU2VhcmNoUmVzdWx0IHtcclxuICAgICAgICBcclxuICAgICAgICBwcml2YXRlIFRleHRMaW5lU3BhblJlc3VsdCBtX1RleHRMaW5lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHByaXZhdGUgRGVmaW5pdGlvblN5bWJvbCBtX0RlZmluaXRpb247XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFNlYXJjaFJlc3VsdCgpIHtcclxuICAgICAgICAgICAgSW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwdWJsaWMgU2VhcmNoUmVzdWx0KENvZGV4LlNkay5TZWFyY2guSVNlYXJjaFJlc3VsdCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208U2VhcmNoUmVzdWx0Pih2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHRleHQgc3BhbiBmb3IgYSB0ZXh0IHJlc3VsdFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgQ29kZXguU2RrLlNlYXJjaC5JVGV4dExpbmVTcGFuUmVzdWx0IENvZGV4LlNkay5TZWFyY2guSVNlYXJjaFJlc3VsdC5UZXh0TGluZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5UZXh0TGluZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSB0ZXh0IHNwYW4gZm9yIGEgdGV4dCByZXN1bHRcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIFRleHRMaW5lU3BhblJlc3VsdCBUZXh0TGluZSB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX1RleHRMaW5lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldCB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fVGV4dExpbmUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBkZWZpbml0aW9uIG9mIHRoZSBzZWFyY2ggcmVzdWx0XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBDb2RleC5JRGVmaW5pdGlvblN5bWJvbCBDb2RleC5TZGsuU2VhcmNoLklTZWFyY2hSZXN1bHQuRGVmaW5pdGlvbiB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5EZWZpbml0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGRlZmluaXRpb24gb2YgdGhlIHNlYXJjaCByZXN1bHRcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIERlZmluaXRpb25TeW1ib2wgRGVmaW5pdGlvbiB7XHJcbiAgICAgICAgICAgIGdldCB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tX0RlZmluaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9EZWZpbml0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5TZGsuU2VhcmNoLklTZWFyY2hSZXN1bHQgdmFsdWUpXHJcbiAgICAgICAgICAgIHdoZXJlIFRUYXJnZXQgOiBTZWFyY2hSZXN1bHQge1xyXG4gICAgICAgICAgICB0aGlzLm1fVGV4dExpbmUgPSBFbnRpdHlVdGlsaXRpZXMuTnVsbE9yQ29weTxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlRleHRMaW5lU3BhblJlc3VsdCxnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlRleHRMaW5lU3BhblJlc3VsdD4oVGV4dExpbmUsIChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuVGV4dExpbmVTcGFuUmVzdWx0LCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLlRleHRMaW5lU3BhblJlc3VsdD4pKHYgPT4gbmV3IFRleHRMaW5lU3BhblJlc3VsdCgpLkNvcHlGcm9tPFRleHRMaW5lU3BhblJlc3VsdD4odikpKTs7XHJcbiAgICAgICAgICAgIHRoaXMubV9EZWZpbml0aW9uID0gRW50aXR5VXRpbGl0aWVzLk51bGxPckNvcHk8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3ltYm9sLGdsb2JhbDo6Q29kZXguT2JqZWN0TW9kZWwuRGVmaW5pdGlvblN5bWJvbD4oRGVmaW5pdGlvbiwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3ltYm9sLCBnbG9iYWw6OkNvZGV4Lk9iamVjdE1vZGVsLkRlZmluaXRpb25TeW1ib2w+KSh2ID0+IG5ldyBEZWZpbml0aW9uU3ltYm9sKCkuQ29weUZyb208RGVmaW5pdGlvblN5bWJvbD4odikpKTs7XHJcbiAgICAgICAgICAgIHJldHVybiAoKFRUYXJnZXQpKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFtDb2RleC5TZXJpYWxpemF0aW9uSW50ZXJmYWNlQXR0cmlidXRlKHR5cGVvZihDb2RleC5TZGsuU2VhcmNoLklJbmRleCkpXVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgSW5kZXggOiBDb2RleC5FbnRpdHlCYXNlLCBDb2RleC5TZGsuU2VhcmNoLklJbmRleCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIEluZGV4KCkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBJbmRleChDb2RleC5TZGsuU2VhcmNoLklJbmRleCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29weUZyb208SW5kZXg+KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgVFRhcmdldCBDb3B5RnJvbTxUVGFyZ2V0PihDb2RleC5TZGsuU2VhcmNoLklJbmRleCB2YWx1ZSlcclxuICAgICAgICAgICAgd2hlcmUgVFRhcmdldCA6IEluZGV4IHtcclxuICAgICAgICAgICAgcmV0dXJuICgoVFRhcmdldCkodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5uYW1lc3BhY2UgQ29kZXguRnJhbWV3b3JrLlR5cGVzIHtcclxuICAgIHVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7XHJcbiAgICB1c2luZyBDb21taXQgPSBDb2RleC5PYmplY3RNb2RlbC5Db21taXQ7XHJcbiAgICB1c2luZyBDb21taXRDaGFuZ2VkRmlsZSA9IENvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdENoYW5nZWRGaWxlO1xyXG4gICAgdXNpbmcgQ29tbWl0RmlsZUxpbmsgPSBDb2RleC5PYmplY3RNb2RlbC5Db21taXRGaWxlTGluaztcclxuICAgIHVzaW5nIEJyYW5jaCA9IENvZGV4Lk9iamVjdE1vZGVsLkJyYW5jaDtcclxuICAgIHVzaW5nIEJvdW5kU291cmNlRmlsZSA9IENvZGV4Lk9iamVjdE1vZGVsLkJvdW5kU291cmNlRmlsZTtcclxuICAgIHVzaW5nIEJvdW5kU291cmNlSW5mbyA9IENvZGV4Lk9iamVjdE1vZGVsLkJvdW5kU291cmNlSW5mbztcclxuICAgIHVzaW5nIFNvdXJjZUNvbnRyb2xGaWxlSW5mbyA9IENvZGV4Lk9iamVjdE1vZGVsLlNvdXJjZUNvbnRyb2xGaWxlSW5mbztcclxuICAgIHVzaW5nIFNvdXJjZUZpbGVJbmZvID0gQ29kZXguT2JqZWN0TW9kZWwuU291cmNlRmlsZUluZm87XHJcbiAgICB1c2luZyBFbmNvZGluZ0Rlc2NyaXB0aW9uID0gQ29kZXguT2JqZWN0TW9kZWwuRW5jb2RpbmdEZXNjcmlwdGlvbjtcclxuICAgIHVzaW5nIFNvdXJjZUZpbGUgPSBDb2RleC5PYmplY3RNb2RlbC5Tb3VyY2VGaWxlO1xyXG4gICAgdXNpbmcgT3V0bGluaW5nUmVnaW9uID0gQ29kZXguT2JqZWN0TW9kZWwuT3V0bGluaW5nUmVnaW9uO1xyXG4gICAgdXNpbmcgRGVmaW5pdGlvblNwYW4gPSBDb2RleC5PYmplY3RNb2RlbC5EZWZpbml0aW9uU3BhbjtcclxuICAgIHVzaW5nIFBhcmFtZXRlckRlZmluaXRpb25TcGFuID0gQ29kZXguT2JqZWN0TW9kZWwuUGFyYW1ldGVyRGVmaW5pdGlvblNwYW47XHJcbiAgICB1c2luZyBSZWZlcmVuY2VTcGFuID0gQ29kZXguT2JqZWN0TW9kZWwuUmVmZXJlbmNlU3BhbjtcclxuICAgIHVzaW5nIFBhcmFtZXRlclJlZmVyZW5jZVNwYW4gPSBDb2RleC5PYmplY3RNb2RlbC5QYXJhbWV0ZXJSZWZlcmVuY2VTcGFuO1xyXG4gICAgdXNpbmcgQ2xhc3NpZmljYXRpb25TcGFuID0gQ29kZXguT2JqZWN0TW9kZWwuQ2xhc3NpZmljYXRpb25TcGFuO1xyXG4gICAgdXNpbmcgU3ltYm9sU3BhbiA9IENvZGV4Lk9iamVjdE1vZGVsLlN5bWJvbFNwYW47XHJcbiAgICB1c2luZyBUZXh0TGluZVNwYW4gPSBDb2RleC5PYmplY3RNb2RlbC5UZXh0TGluZVNwYW47XHJcbiAgICB1c2luZyBMaW5lU3BhbiA9IENvZGV4Lk9iamVjdE1vZGVsLkxpbmVTcGFuO1xyXG4gICAgdXNpbmcgU3BhbiA9IENvZGV4Lk9iamVjdE1vZGVsLlNwYW47XHJcbiAgICB1c2luZyBDb2RlUmV2aWV3ID0gQ29kZXguT2JqZWN0TW9kZWwuQ29kZVJldmlldztcclxuICAgIHVzaW5nIENvZGVSZXZpZXdJdGVyYXRpb24gPSBDb2RleC5PYmplY3RNb2RlbC5Db2RlUmV2aWV3SXRlcmF0aW9uO1xyXG4gICAgdXNpbmcgQ29kZVJldmlld2VySW5mbyA9IENvZGV4Lk9iamVjdE1vZGVsLkNvZGVSZXZpZXdlckluZm87XHJcbiAgICB1c2luZyBDb2RlUmV2aWV3RmlsZSA9IENvZGV4Lk9iamVjdE1vZGVsLkNvZGVSZXZpZXdGaWxlO1xyXG4gICAgdXNpbmcgQ29kZVJldmlld0NvbW1lbnRUaHJlYWQgPSBDb2RleC5PYmplY3RNb2RlbC5Db2RlUmV2aWV3Q29tbWVudFRocmVhZDtcclxuICAgIHVzaW5nIENvZGVSZXZpZXdDb21tZW50ID0gQ29kZXguT2JqZWN0TW9kZWwuQ29kZVJldmlld0NvbW1lbnQ7XHJcbiAgICB1c2luZyBMYW5ndWFnZUluZm8gPSBDb2RleC5PYmplY3RNb2RlbC5MYW5ndWFnZUluZm87XHJcbiAgICB1c2luZyBDbGFzc2lmaWNhdGlvblN0eWxlID0gQ29kZXguT2JqZWN0TW9kZWwuQ2xhc3NpZmljYXRpb25TdHlsZTtcclxuICAgIHVzaW5nIEFuYWx5emVkUHJvamVjdCA9IENvZGV4Lk9iamVjdE1vZGVsLkFuYWx5emVkUHJvamVjdDtcclxuICAgIHVzaW5nIFJlZmVyZW5jZWRQcm9qZWN0ID0gQ29kZXguT2JqZWN0TW9kZWwuUmVmZXJlbmNlZFByb2plY3Q7XHJcbiAgICB1c2luZyBQcm9qZWN0RmlsZUxpbmsgPSBDb2RleC5PYmplY3RNb2RlbC5Qcm9qZWN0RmlsZUxpbms7XHJcbiAgICB1c2luZyBEb2N1bWVudGF0aW9uSW5mbyA9IENvZGV4Lk9iamVjdE1vZGVsLkRvY3VtZW50YXRpb25JbmZvO1xyXG4gICAgdXNpbmcgUGFyYW1ldGVyRG9jdW1lbnRhdGlvbiA9IENvZGV4Lk9iamVjdE1vZGVsLlBhcmFtZXRlckRvY3VtZW50YXRpb247XHJcbiAgICB1c2luZyBUeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb24gPSBDb2RleC5PYmplY3RNb2RlbC5UeXBlZFBhcmFtZXRlckRvY3VtZW50YXRpb247XHJcbiAgICB1c2luZyBEb2N1bWVudGF0aW9uUmVmZXJlbmNlU3ltYm9sID0gQ29kZXguT2JqZWN0TW9kZWwuRG9jdW1lbnRhdGlvblJlZmVyZW5jZVN5bWJvbDtcclxuICAgIHVzaW5nIFByb3BlcnR5U2VhcmNoTW9kZWwgPSBDb2RleC5PYmplY3RNb2RlbC5Qcm9wZXJ0eVNlYXJjaE1vZGVsO1xyXG4gICAgdXNpbmcgUHJvcGVydHlNYXAgPSBDb2RleC5PYmplY3RNb2RlbC5Qcm9wZXJ0eU1hcDtcclxuICAgIHVzaW5nIFJlcG9zaXRvcnkgPSBDb2RleC5PYmplY3RNb2RlbC5SZXBvc2l0b3J5O1xyXG4gICAgdXNpbmcgUmVwb3NpdG9yeVJlZmVyZW5jZSA9IENvZGV4Lk9iamVjdE1vZGVsLlJlcG9zaXRvcnlSZWZlcmVuY2U7XHJcbiAgICB1c2luZyBTZWFyY2hFbnRpdHkgPSBDb2RleC5PYmplY3RNb2RlbC5TZWFyY2hFbnRpdHk7XHJcbiAgICB1c2luZyBSZXBvU2NvcGVFbnRpdHkgPSBDb2RleC5PYmplY3RNb2RlbC5SZXBvU2NvcGVFbnRpdHk7XHJcbiAgICB1c2luZyBDb21taXRTY29wZUVudGl0eSA9IENvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdFNjb3BlRW50aXR5O1xyXG4gICAgdXNpbmcgUHJvamVjdFNjb3BlRW50aXR5ID0gQ29kZXguT2JqZWN0TW9kZWwuUHJvamVjdFNjb3BlRW50aXR5O1xyXG4gICAgdXNpbmcgUmVwb0ZpbGVTY29wZUVudGl0eSA9IENvZGV4Lk9iamVjdE1vZGVsLlJlcG9GaWxlU2NvcGVFbnRpdHk7XHJcbiAgICB1c2luZyBQcm9qZWN0RmlsZVNjb3BlRW50aXR5ID0gQ29kZXguT2JqZWN0TW9kZWwuUHJvamVjdEZpbGVTY29wZUVudGl0eTtcclxuICAgIHVzaW5nIFJlZ2lzdGVyZWRFbnRpdHkgPSBDb2RleC5PYmplY3RNb2RlbC5SZWdpc3RlcmVkRW50aXR5O1xyXG4gICAgdXNpbmcgU3RvcmVkRmlsdGVyID0gQ29kZXguT2JqZWN0TW9kZWwuU3RvcmVkRmlsdGVyO1xyXG4gICAgdXNpbmcgRGVmaW5pdGlvblNlYXJjaE1vZGVsID0gQ29kZXguT2JqZWN0TW9kZWwuRGVmaW5pdGlvblNlYXJjaE1vZGVsO1xyXG4gICAgdXNpbmcgTGFuZ3VhZ2VTZWFyY2hNb2RlbCA9IENvZGV4Lk9iamVjdE1vZGVsLkxhbmd1YWdlU2VhcmNoTW9kZWw7XHJcbiAgICB1c2luZyBSZWZlcmVuY2VTZWFyY2hNb2RlbCA9IENvZGV4Lk9iamVjdE1vZGVsLlJlZmVyZW5jZVNlYXJjaE1vZGVsO1xyXG4gICAgdXNpbmcgU291cmNlU2VhcmNoTW9kZWxCYXNlID0gQ29kZXguT2JqZWN0TW9kZWwuU291cmNlU2VhcmNoTW9kZWxCYXNlO1xyXG4gICAgdXNpbmcgQm91bmRTb3VyY2VTZWFyY2hNb2RlbCA9IENvZGV4Lk9iamVjdE1vZGVsLkJvdW5kU291cmNlU2VhcmNoTW9kZWw7XHJcbiAgICB1c2luZyBUZXh0U291cmNlU2VhcmNoTW9kZWwgPSBDb2RleC5PYmplY3RNb2RlbC5UZXh0U291cmNlU2VhcmNoTW9kZWw7XHJcbiAgICB1c2luZyBSZXBvc2l0b3J5U2VhcmNoTW9kZWwgPSBDb2RleC5PYmplY3RNb2RlbC5SZXBvc2l0b3J5U2VhcmNoTW9kZWw7XHJcbiAgICB1c2luZyBQcm9qZWN0U2VhcmNoTW9kZWwgPSBDb2RleC5PYmplY3RNb2RlbC5Qcm9qZWN0U2VhcmNoTW9kZWw7XHJcbiAgICB1c2luZyBQcm9qZWN0UmVmZXJlbmNlU2VhcmNoTW9kZWwgPSBDb2RleC5PYmplY3RNb2RlbC5Qcm9qZWN0UmVmZXJlbmNlU2VhcmNoTW9kZWw7XHJcbiAgICB1c2luZyBDb21taXRTZWFyY2hNb2RlbCA9IENvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdFNlYXJjaE1vZGVsO1xyXG4gICAgdXNpbmcgQ29tbWl0RmlsZXNTZWFyY2hNb2RlbCA9IENvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdEZpbGVzU2VhcmNoTW9kZWw7XHJcbiAgICB1c2luZyBGaWxlU3RhdGlzdGljcyA9IENvZGV4Lk9iamVjdE1vZGVsLkZpbGVTdGF0aXN0aWNzO1xyXG4gICAgdXNpbmcgUmVwb3NpdG9yeVN0b3JlSW5mbyA9IENvZGV4Lk9iamVjdE1vZGVsLlJlcG9zaXRvcnlTdG9yZUluZm87XHJcbiAgICB1c2luZyBDb21taXRGaWxlc0RpcmVjdG9yeSA9IENvZGV4Lk9iamVjdE1vZGVsLkNvbW1pdEZpbGVzRGlyZWN0b3J5O1xyXG4gICAgdXNpbmcgU3RvcmVkQm91bmRTb3VyY2VGaWxlID0gQ29kZXguT2JqZWN0TW9kZWwuU3RvcmVkQm91bmRTb3VyY2VGaWxlO1xyXG4gICAgdXNpbmcgRGVmaW5pdGlvblN5bWJvbCA9IENvZGV4Lk9iamVjdE1vZGVsLkRlZmluaXRpb25TeW1ib2w7XHJcbiAgICB1c2luZyBSZWZlcmVuY2VTeW1ib2wgPSBDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VTeW1ib2w7XHJcbiAgICB1c2luZyBTeW1ib2wgPSBDb2RleC5PYmplY3RNb2RlbC5TeW1ib2w7XHJcbiAgICB1c2luZyBSZWZlcmVuY2VTZWFyY2hSZXN1bHQgPSBDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VTZWFyY2hSZXN1bHQ7XHJcbiAgICB1c2luZyBUZXh0TGluZVNwYW5SZXN1bHQgPSBDb2RleC5PYmplY3RNb2RlbC5UZXh0TGluZVNwYW5SZXN1bHQ7XHJcbiAgICB1c2luZyBTZWFyY2hSZXN1bHQgPSBDb2RleC5PYmplY3RNb2RlbC5TZWFyY2hSZXN1bHQ7XHJcbiAgICB1c2luZyBJbmRleCA9IENvZGV4Lk9iamVjdE1vZGVsLkluZGV4O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHB1YmxpYyBwYXJ0aWFsIGludGVyZmFjZSBJU3RvcmUge1xyXG4gICAgfVxyXG59XHJcbiIsInVzaW5nIFN5c3RlbTtcclxuXHJcbm5hbWVzcGFjZSBDb2RleC5PYmplY3RNb2RlbFxyXG57XHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gRGVmaW5lcyBDb2RleCBnbHlwaHNcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgZW51bSBHbHlwaFxyXG4gICAge1xyXG4gICAgICAgIFVua25vd24gPSAtMSxcclxuICAgICAgICBBc3NlbWJseSxcclxuXHJcbiAgICAgICAgQmFzaWNGaWxlLFxyXG4gICAgICAgIEJhc2ljUHJvamVjdCxcclxuXHJcbiAgICAgICAgQ2xhc3NQdWJsaWMsXHJcbiAgICAgICAgQ2xhc3NQcm90ZWN0ZWQsXHJcbiAgICAgICAgQ2xhc3NQcml2YXRlLFxyXG4gICAgICAgIENsYXNzSW50ZXJuYWwsXHJcblxyXG4gICAgICAgIENTaGFycEZpbGUsXHJcbiAgICAgICAgQ1NoYXJwUHJvamVjdCxcclxuXHJcbiAgICAgICAgQ29uc3RhbnRQdWJsaWMsXHJcbiAgICAgICAgQ29uc3RhbnRQcm90ZWN0ZWQsXHJcbiAgICAgICAgQ29uc3RhbnRQcml2YXRlLFxyXG4gICAgICAgIENvbnN0YW50SW50ZXJuYWwsXHJcblxyXG4gICAgICAgIERlbGVnYXRlUHVibGljLFxyXG4gICAgICAgIERlbGVnYXRlUHJvdGVjdGVkLFxyXG4gICAgICAgIERlbGVnYXRlUHJpdmF0ZSxcclxuICAgICAgICBEZWxlZ2F0ZUludGVybmFsLFxyXG5cclxuICAgICAgICBFbnVtUHVibGljLFxyXG4gICAgICAgIEVudW1Qcm90ZWN0ZWQsXHJcbiAgICAgICAgRW51bVByaXZhdGUsXHJcbiAgICAgICAgRW51bUludGVybmFsLFxyXG5cclxuICAgICAgICBFbnVtTWVtYmVyLFxyXG5cclxuICAgICAgICBFcnJvcixcclxuXHJcbiAgICAgICAgRXZlbnRQdWJsaWMsXHJcbiAgICAgICAgRXZlbnRQcm90ZWN0ZWQsXHJcbiAgICAgICAgRXZlbnRQcml2YXRlLFxyXG4gICAgICAgIEV2ZW50SW50ZXJuYWwsXHJcblxyXG4gICAgICAgIEV4dGVuc2lvbk1ldGhvZFB1YmxpYyxcclxuICAgICAgICBFeHRlbnNpb25NZXRob2RQcm90ZWN0ZWQsXHJcbiAgICAgICAgRXh0ZW5zaW9uTWV0aG9kUHJpdmF0ZSxcclxuICAgICAgICBFeHRlbnNpb25NZXRob2RJbnRlcm5hbCxcclxuXHJcbiAgICAgICAgRmllbGRQdWJsaWMsXHJcbiAgICAgICAgRmllbGRQcm90ZWN0ZWQsXHJcbiAgICAgICAgRmllbGRQcml2YXRlLFxyXG4gICAgICAgIEZpZWxkSW50ZXJuYWwsXHJcblxyXG4gICAgICAgIEludGVyZmFjZVB1YmxpYyxcclxuICAgICAgICBJbnRlcmZhY2VQcm90ZWN0ZWQsXHJcbiAgICAgICAgSW50ZXJmYWNlUHJpdmF0ZSxcclxuICAgICAgICBJbnRlcmZhY2VJbnRlcm5hbCxcclxuXHJcbiAgICAgICAgSW50cmluc2ljLFxyXG5cclxuICAgICAgICBLZXl3b3JkLFxyXG5cclxuICAgICAgICBMYWJlbCxcclxuXHJcbiAgICAgICAgTG9jYWwsXHJcblxyXG4gICAgICAgIE5hbWVzcGFjZSxcclxuXHJcbiAgICAgICAgTWV0aG9kUHVibGljLFxyXG4gICAgICAgIE1ldGhvZFByb3RlY3RlZCxcclxuICAgICAgICBNZXRob2RQcml2YXRlLFxyXG4gICAgICAgIE1ldGhvZEludGVybmFsLFxyXG5cclxuICAgICAgICBNb2R1bGVQdWJsaWMsXHJcbiAgICAgICAgTW9kdWxlUHJvdGVjdGVkLFxyXG4gICAgICAgIE1vZHVsZVByaXZhdGUsXHJcbiAgICAgICAgTW9kdWxlSW50ZXJuYWwsXHJcblxyXG4gICAgICAgIE9wZW5Gb2xkZXIsXHJcblxyXG4gICAgICAgIE9wZXJhdG9yLFxyXG5cclxuICAgICAgICBQYXJhbWV0ZXIsXHJcblxyXG4gICAgICAgIFByb3BlcnR5UHVibGljLFxyXG4gICAgICAgIFByb3BlcnR5UHJvdGVjdGVkLFxyXG4gICAgICAgIFByb3BlcnR5UHJpdmF0ZSxcclxuICAgICAgICBQcm9wZXJ0eUludGVybmFsLFxyXG5cclxuICAgICAgICBSYW5nZVZhcmlhYmxlLFxyXG5cclxuICAgICAgICBSZWZlcmVuY2UsXHJcblxyXG4gICAgICAgIFN0cnVjdHVyZVB1YmxpYyxcclxuICAgICAgICBTdHJ1Y3R1cmVQcm90ZWN0ZWQsXHJcbiAgICAgICAgU3RydWN0dXJlUHJpdmF0ZSxcclxuICAgICAgICBTdHJ1Y3R1cmVJbnRlcm5hbCxcclxuXHJcbiAgICAgICAgVHlwZVBhcmFtZXRlcixcclxuXHJcbiAgICAgICAgVXAsXHJcbiAgICAgICAgRG93bixcclxuICAgICAgICBMZWZ0LFxyXG4gICAgICAgIFJpZ2h0LFxyXG4gICAgICAgIERvdCxcclxuXHJcbiAgICAgICAgU25pcHBldFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgR2x5cGhVdGlsaXRpZXNcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIHVzaG9ydCBHZXRHbHlwaE51bWJlcih0aGlzIEdseXBoIGdseXBoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdXNob3J0IHJlc3VsdCA9ICh1c2hvcnQpKCh1c2hvcnQpR2V0U3RhbmRhcmRHbHlwaEdyb3VwKGdseXBoKSArICh1c2hvcnQpR2V0U3RhbmRhcmRHbHlwaEl0ZW0oZ2x5cGgpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFN0YW5kYXJkR2x5cGhHcm91cCBHZXRTdGFuZGFyZEdseXBoR3JvdXAoR2x5cGggZ2x5cGgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGdseXBoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkFzc2VtYmx5OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhBc3NlbWJseTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkNsYXNzUHVibGljOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5DbGFzc1Byb3RlY3RlZDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguQ2xhc3NQcml2YXRlOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5DbGFzc0ludGVybmFsOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhHcm91cENsYXNzO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguQ29uc3RhbnRQdWJsaWM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkNvbnN0YW50UHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5Db25zdGFudFByaXZhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkNvbnN0YW50SW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhHcm91cC5HbHlwaEdyb3VwQ29uc3RhbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5DU2hhcnBGaWxlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhDU2hhcnBGaWxlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRGVsZWdhdGVQdWJsaWM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkRlbGVnYXRlUHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5EZWxlZ2F0ZVByaXZhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkRlbGVnYXRlSW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhHcm91cC5HbHlwaEdyb3VwRGVsZWdhdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5FbnVtUHVibGljOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5FbnVtUHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5FbnVtUHJpdmF0ZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRW51bUludGVybmFsOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhHcm91cEVudW07XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5FbnVtTWVtYmVyOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhHcm91cEVudW1NZW1iZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5FcnJvcjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhbmRhcmRHbHlwaEdyb3VwLkdseXBoR3JvdXBFcnJvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkV4dGVuc2lvbk1ldGhvZFB1YmxpYzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhbmRhcmRHbHlwaEdyb3VwLkdseXBoRXh0ZW5zaW9uTWV0aG9kO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRXh0ZW5zaW9uTWV0aG9kUHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhFeHRlbnNpb25NZXRob2RQcm90ZWN0ZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5FeHRlbnNpb25NZXRob2RQcml2YXRlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhFeHRlbnNpb25NZXRob2RQcml2YXRlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRXh0ZW5zaW9uTWV0aG9kSW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhHcm91cC5HbHlwaEV4dGVuc2lvbk1ldGhvZEludGVybmFsO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRXZlbnRQdWJsaWM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkV2ZW50UHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5FdmVudFByaXZhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkV2ZW50SW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhHcm91cC5HbHlwaEdyb3VwRXZlbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5GaWVsZFB1YmxpYzpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRmllbGRQcm90ZWN0ZWQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkZpZWxkUHJpdmF0ZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRmllbGRJbnRlcm5hbDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhbmRhcmRHbHlwaEdyb3VwLkdseXBoR3JvdXBGaWVsZDtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkludGVyZmFjZVB1YmxpYzpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguSW50ZXJmYWNlUHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5JbnRlcmZhY2VQcml2YXRlOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5JbnRlcmZhY2VJbnRlcm5hbDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhbmRhcmRHbHlwaEdyb3VwLkdseXBoR3JvdXBJbnRlcmZhY2U7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5JbnRyaW5zaWM6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhHcm91cC5HbHlwaEdyb3VwSW50cmluc2ljO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguS2V5d29yZDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhbmRhcmRHbHlwaEdyb3VwLkdseXBoS2V5d29yZDtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkxhYmVsOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhHcm91cEludHJpbnNpYztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkxvY2FsOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhHcm91cFZhcmlhYmxlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguTmFtZXNwYWNlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhHcm91cE5hbWVzcGFjZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLk1ldGhvZFB1YmxpYzpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguTWV0aG9kUHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5NZXRob2RQcml2YXRlOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5NZXRob2RJbnRlcm5hbDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhbmRhcmRHbHlwaEdyb3VwLkdseXBoR3JvdXBNZXRob2Q7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5Nb2R1bGVQdWJsaWM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLk1vZHVsZVByb3RlY3RlZDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguTW9kdWxlUHJpdmF0ZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguTW9kdWxlSW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhHcm91cC5HbHlwaEdyb3VwTW9kdWxlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguT3BlbkZvbGRlcjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhbmRhcmRHbHlwaEdyb3VwLkdseXBoT3BlbkZvbGRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLk9wZXJhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhHcm91cE9wZXJhdG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguUGFyYW1ldGVyOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhHcm91cFZhcmlhYmxlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguUHJvcGVydHlQdWJsaWM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLlByb3BlcnR5UHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5Qcm9wZXJ0eVByaXZhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLlByb3BlcnR5SW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhHcm91cC5HbHlwaEdyb3VwUHJvcGVydHk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5SYW5nZVZhcmlhYmxlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhHcm91cFZhcmlhYmxlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguUmVmZXJlbmNlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoR3JvdXAuR2x5cGhSZWZlcmVuY2U7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5TdHJ1Y3R1cmVQdWJsaWM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLlN0cnVjdHVyZVByb3RlY3RlZDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguU3RydWN0dXJlUHJpdmF0ZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguU3RydWN0dXJlSW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhHcm91cC5HbHlwaEdyb3VwU3RydWN0O1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguVHlwZVBhcmFtZXRlcjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhbmRhcmRHbHlwaEdyb3VwLkdseXBoR3JvdXBUeXBlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguVXA6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkRvd246XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkxlZnQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5Eb3Q6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhHcm91cC5HbHlwaEFycm93O1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uKFwiZ2x5cGhcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFN0YW5kYXJkR2x5cGhJdGVtIEdldFN0YW5kYXJkR2x5cGhJdGVtKEdseXBoIGljb24pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGljb24pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguQ2xhc3NQcm90ZWN0ZWQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkNvbnN0YW50UHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5EZWxlZ2F0ZVByb3RlY3RlZDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRW51bVByb3RlY3RlZDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRXZlbnRQcm90ZWN0ZWQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkZpZWxkUHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5JbnRlcmZhY2VQcm90ZWN0ZWQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLk1ldGhvZFByb3RlY3RlZDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguTW9kdWxlUHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5Qcm9wZXJ0eVByb3RlY3RlZDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguU3RydWN0dXJlUHJvdGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGFuZGFyZEdseXBoSXRlbS5HbHlwaEl0ZW1Qcm90ZWN0ZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5DbGFzc1ByaXZhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkNvbnN0YW50UHJpdmF0ZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRGVsZWdhdGVQcml2YXRlOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5FbnVtUHJpdmF0ZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRXZlbnRQcml2YXRlOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5GaWVsZFByaXZhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkludGVyZmFjZVByaXZhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLk1ldGhvZFByaXZhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLk1vZHVsZVByaXZhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLlByb3BlcnR5UHJpdmF0ZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguU3RydWN0dXJlUHJpdmF0ZTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhbmRhcmRHbHlwaEl0ZW0uR2x5cGhJdGVtUHJpdmF0ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkNsYXNzSW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkNvbnN0YW50SW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkRlbGVnYXRlSW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLkVudW1JbnRlcm5hbDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRXZlbnRJbnRlcm5hbDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguRmllbGRJbnRlcm5hbDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguSW50ZXJmYWNlSW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdseXBoLk1ldGhvZEludGVybmFsOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBHbHlwaC5Nb2R1bGVJbnRlcm5hbDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguUHJvcGVydHlJbnRlcm5hbDpcclxuICAgICAgICAgICAgICAgIGNhc2UgR2x5cGguU3RydWN0dXJlSW50ZXJuYWw6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhJdGVtLkdseXBoSXRlbUZyaWVuZDtcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgYW55IG92ZXJsYXlzXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YW5kYXJkR2x5cGhJdGVtLkdseXBoSXRlbVB1YmxpYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgIC8vICAgICBEZXNjcmliZXMgdGhlIGRpZmZlcmVudCB0eXBlcyBvZiBnbHlwaHMgdGhhdCBjYW4gYmUgZGlzcGxheWVkIGluIHRoZSBkZWZhdWx0XHJcbiAgICAgICAgLy8gICAgIGNvbXBsZXRpb24gdG9vbCBpbXBsZW1lbnRhdGlvbi5cclxuICAgICAgICBwdWJsaWMgZW51bSBTdGFuZGFyZEdseXBoR3JvdXBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgY2xhc3Nlcy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cENsYXNzID0gMCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBjb25zdGFudHMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBDb25zdGFudCA9IDYsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgZGVsZWdhdGVzLlxyXG4gICAgICAgICAgICBHbHlwaEdyb3VwRGVsZWdhdGUgPSAxMixcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBlbnVtZXJhdGlvbnMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBFbnVtID0gMTgsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgZW51bWVyYXRpb24gbWVtYmVycy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cEVudW1NZW1iZXIgPSAyNCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBldmVudHMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBFdmVudCA9IDMwLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGV4Y2VwdGlvbnMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBFeGNlcHRpb24gPSAzNixcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBmaWVsZHMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBGaWVsZCA9IDQyLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGludGVyZmFjZXMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBJbnRlcmZhY2UgPSA0OCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBtYWNyb3MuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBNYWNybyA9IDU0LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIG1hcHMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBNYXAgPSA2MCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBtYXAgaXRlbXMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBNYXBJdGVtID0gNjYsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgbWV0aG9kcy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cE1ldGhvZCA9IDcyLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIG92ZXJsb2Fkcy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cE92ZXJsb2FkID0gNzgsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgbW9kdWxlcy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cE1vZHVsZSA9IDg0LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIG5hbWVzcGFjZXMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBOYW1lc3BhY2UgPSA5MCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBvcGVyYXRvcnMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBPcGVyYXRvciA9IDk2LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIHByb3BlcnRpZXMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBQcm9wZXJ0eSA9IDEwMixcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBzdHJ1Y3R1cmVzLlxyXG4gICAgICAgICAgICBHbHlwaEdyb3VwU3RydWN0ID0gMTA4LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIHRlbXBsYXRlcy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cFRlbXBsYXRlID0gMTE0LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIHR5cGVkZWZzLlxyXG4gICAgICAgICAgICBHbHlwaEdyb3VwVHlwZWRlZiA9IDEyMCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciB0eXBlcy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cFR5cGUgPSAxMjYsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgdW5pb25zLlxyXG4gICAgICAgICAgICBHbHlwaEdyb3VwVW5pb24gPSAxMzIsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgdmFyaWFibGVzLlxyXG4gICAgICAgICAgICBHbHlwaEdyb3VwVmFyaWFibGUgPSAxMzgsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgdmFsdWUgdHlwZXMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBWYWx1ZVR5cGUgPSAxNDQsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgaW50cmluc2ljIHN5bWJvbHMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBJbnRyaW5zaWMgPSAxNTAsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgSiMgbWV0aG9kcy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cEpTaGFycE1ldGhvZCA9IDE1NixcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBKIyBmaWVsZHMuXHJcbiAgICAgICAgICAgIEdseXBoR3JvdXBKU2hhcnBGaWVsZCA9IDE2MixcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBKIyBjbGFzc2VzLlxyXG4gICAgICAgICAgICBHbHlwaEdyb3VwSlNoYXJwQ2xhc3MgPSAxNjgsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgSiMgbmFtZXNwYWNlcy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cEpTaGFycE5hbWVzcGFjZSA9IDE3NCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBKIyBpbnRlcmZhY2VzLlxyXG4gICAgICAgICAgICBHbHlwaEdyb3VwSlNoYXJwSW50ZXJmYWNlID0gMTgwLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGVycm9ycy5cclxuICAgICAgICAgICAgR2x5cGhHcm91cEVycm9yID0gMTg2LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIEJTQyBmaWxlcy5cclxuICAgICAgICAgICAgR2x5cGhCc2NGaWxlID0gMTkxLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGFzc2VtYmxpZXMuXHJcbiAgICAgICAgICAgIEdseXBoQXNzZW1ibHkgPSAxOTIsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgbGlicmFyaWVzLlxyXG4gICAgICAgICAgICBHbHlwaExpYnJhcnkgPSAxOTMsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgVkIgcHJvamVjdHMuXHJcbiAgICAgICAgICAgIEdseXBoVkJQcm9qZWN0ID0gMTk0LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIEMjIHByb2plY3RzLlxyXG4gICAgICAgICAgICBHbHlwaENvb2xQcm9qZWN0ID0gMTk2LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIEMrKyBwcm9qZWN0cy5cclxuICAgICAgICAgICAgR2x5cGhDcHBQcm9qZWN0ID0gMTk5LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGRpYWxvZyBpZGVudGlmaWVycy5cclxuICAgICAgICAgICAgR2x5cGhEaWFsb2dJZCA9IDIwMCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBvcGVuIGZvbGRlcnMuXHJcbiAgICAgICAgICAgIEdseXBoT3BlbkZvbGRlciA9IDIwMSxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBjbG9zZWQgZm9sZGVycy5cclxuICAgICAgICAgICAgR2x5cGhDbG9zZWRGb2xkZXIgPSAyMDIsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgYXJyb3cgc3ltYm9scy5cclxuICAgICAgICAgICAgR2x5cGhBcnJvdyA9IDIwMyxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBDIyBmaWxlcy5cclxuICAgICAgICAgICAgR2x5cGhDU2hhcnBGaWxlID0gMjA0LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIEMjIGV4cGFuc2lvbnMuXHJcbiAgICAgICAgICAgIEdseXBoQ1NoYXJwRXhwYW5zaW9uID0gMjA1LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGtleXdvcmRzLlxyXG4gICAgICAgICAgICBHbHlwaEtleXdvcmQgPSAyMDYsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgaW5mb3JtYXRpb24uXHJcbiAgICAgICAgICAgIEdseXBoSW5mb3JtYXRpb24gPSAyMDcsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgcmVmZXJlbmNlcy5cclxuICAgICAgICAgICAgR2x5cGhSZWZlcmVuY2UgPSAyMDgsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgcmVjdXJzaW9uLlxyXG4gICAgICAgICAgICBHbHlwaFJlY3Vyc2lvbiA9IDIwOSxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBYTUwgaXRlbXMuXHJcbiAgICAgICAgICAgIEdseXBoWG1sSXRlbSA9IDIxMCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBKIyBwcm9qZWN0cy5cclxuICAgICAgICAgICAgR2x5cGhKU2hhcnBQcm9qZWN0ID0gMjExLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIEojIGRvY3VtZW50cy5cclxuICAgICAgICAgICAgR2x5cGhKU2hhcnBEb2N1bWVudCA9IDIxMixcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBmb3J3YXJkZWQgdHlwZXMuXHJcbiAgICAgICAgICAgIEdseXBoRm9yd2FyZFR5cGUgPSAyMTMsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgY2FsbGVycyBncmFwaHMuXHJcbiAgICAgICAgICAgIEdseXBoQ2FsbGVyc0dyYXBoID0gMjE0LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGNhbGwgZ3JhcGhzLlxyXG4gICAgICAgICAgICBHbHlwaENhbGxHcmFwaCA9IDIxNSxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBidWlsZCB3YXJuaW5ncy5cclxuICAgICAgICAgICAgR2x5cGhXYXJuaW5nID0gMjE2LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIHNvbWV0aGluZyB0aGF0IG1heSBiZSBhIHJlZmVyZW5jZS5cclxuICAgICAgICAgICAgR2x5cGhNYXliZVJlZmVyZW5jZSA9IDIxNyxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBzb21ldGhpbmcgdGhhdCBtYXkgYmUgYSBjYWxsZXIuXHJcbiAgICAgICAgICAgIEdseXBoTWF5YmVDYWxsZXIgPSAyMTgsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3Igc29tZXRoaW5nIHRoYXQgbWF5IGJlIGEgY2FsbC5cclxuICAgICAgICAgICAgR2x5cGhNYXliZUNhbGwgPSAyMTksXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgZXh0ZW5zaW9uIG1ldGhvZHMuXHJcbiAgICAgICAgICAgIEdseXBoRXh0ZW5zaW9uTWV0aG9kID0gMjIwLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGludGVybmFsIGV4dGVuc2lvbiBtZXRob2RzLlxyXG4gICAgICAgICAgICBHbHlwaEV4dGVuc2lvbk1ldGhvZEludGVybmFsID0gMjIxLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGZyaWVuZCBleHRlbnNpb24gbWV0aG9kcy5cclxuICAgICAgICAgICAgR2x5cGhFeHRlbnNpb25NZXRob2RGcmllbmQgPSAyMjIsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgcHJvdGVjdGVkIGV4dGVuc2lvbiBtZXRob2RzLlxyXG4gICAgICAgICAgICBHbHlwaEV4dGVuc2lvbk1ldGhvZFByb3RlY3RlZCA9IDIyMyxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBwcml2YXRlIGV4dGVuc2lvbiBtZXRob2RzLlxyXG4gICAgICAgICAgICBHbHlwaEV4dGVuc2lvbk1ldGhvZFByaXZhdGUgPSAyMjQsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgZXh0ZW5zaW9uIG1ldGhvZCBzaG9ydGN1dHMuXHJcbiAgICAgICAgICAgIEdseXBoRXh0ZW5zaW9uTWV0aG9kU2hvcnRjdXQgPSAyMjUsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyBmb3IgWE1MIGF0dHJpYnV0ZXMuXHJcbiAgICAgICAgICAgIEdseXBoWG1sQXR0cmlidXRlID0gMjI2LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGNoaWxkIFhNTCBlbGVtZW50cy5cclxuICAgICAgICAgICAgR2x5cGhYbWxDaGlsZCA9IDIyNyxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciBkZXNjZW5kYW50IFhNTCBlbGVtZW50cy5cclxuICAgICAgICAgICAgR2x5cGhYbWxEZXNjZW5kYW50ID0gMjI4LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIFhNTCBuYW1lc3BhY2VzLlxyXG4gICAgICAgICAgICBHbHlwaFhtbE5hbWVzcGFjZSA9IDIyOSxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIHdpdGggYSBxdWVzdGlvbiBtYXJrIGZvciBYTUwgYXR0cmlidXRlcy5cclxuICAgICAgICAgICAgR2x5cGhYbWxBdHRyaWJ1dGVRdWVzdGlvbiA9IDIzMCxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIHdpdGggYSBjaGVjayBtYXJrIGZvciBYTUwgYXR0cmlidXRlcy5cclxuICAgICAgICAgICAgR2x5cGhYbWxBdHRyaWJ1dGVDaGVjayA9IDIzMSxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIHdpdGggYSBxdWVzdGlvbiBtYXJrIGZvciBYTUwgY2hpbGQgZWxlbWVudHMuXHJcbiAgICAgICAgICAgIEdseXBoWG1sQ2hpbGRRdWVzdGlvbiA9IDIzMixcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIHdpdGggYSBjaGVjayBtYXJrIGZvciBYTUwgY2hpbGQgZWxlbWVudHMuXHJcbiAgICAgICAgICAgIEdseXBoWG1sQ2hpbGRDaGVjayA9IDIzMyxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIHdpdGggYSBxdWVzdGlvbiBtYXJrIGZvciBYTUwgZGVzY2VuZGFudCBlbGVtZW50cy5cclxuICAgICAgICAgICAgR2x5cGhYbWxEZXNjZW5kYW50UXVlc3Rpb24gPSAyMzQsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgc3ltYm9scyB3aXRoIGEgY2hlY2sgbWFyayBmb3IgWE1MIGRlc2NlbmRhbnQgZWxlbWVudHMuXHJcbiAgICAgICAgICAgIEdseXBoWG1sRGVzY2VuZGFudENoZWNrID0gMjM1LFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIHN5bWJvbHMgZm9yIGNvbXBsZXRpb24gd2FybmluZ3NcclxuICAgICAgICAgICAgR2x5cGhDb21wbGV0aW9uV2FybmluZyA9IDIzNixcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBzeW1ib2xzIGZvciB1bmtub3duIHR5cGVzLlxyXG4gICAgICAgICAgICBHbHlwaEdyb3VwVW5rbm93biA9IDIzN1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgIC8vICAgICBEZXNjcmliZXMgaWNvbnMgb3IgZ2x5cGhzIHRoYXQgYXJlIHVzZWQgaW4gc3RhdGVtZW50IGNvbXBsZXRpb24uXHJcbiAgICAgICAgcHVibGljIGVudW0gU3RhbmRhcmRHbHlwaEl0ZW1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgYSBwdWJsaWMgc3ltYm9sLlxyXG4gICAgICAgICAgICBHbHlwaEl0ZW1QdWJsaWMgPSAwLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIGFuIGludGVybmFsIHN5bWJvbC5cclxuICAgICAgICAgICAgR2x5cGhJdGVtSW50ZXJuYWwgPSAxLFxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBTdW1tYXJ5OlxyXG4gICAgICAgICAgICAvLyAgICAgRGVzY3JpYmVzIGEgZnJpZW5kIHN5bWJvbC5cclxuICAgICAgICAgICAgR2x5cGhJdGVtRnJpZW5kID0gMixcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBhIHByb3RlY3RlZCBzeW1ib2wuXHJcbiAgICAgICAgICAgIEdseXBoSXRlbVByb3RlY3RlZCA9IDMsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgYSBwcml2YXRlIHN5bWJvbC5cclxuICAgICAgICAgICAgR2x5cGhJdGVtUHJpdmF0ZSA9IDQsXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFN1bW1hcnk6XHJcbiAgICAgICAgICAgIC8vICAgICBEZXNjcmliZXMgYSBzaG9ydGN1dCBzeW1ib2wuXHJcbiAgICAgICAgICAgIEdseXBoSXRlbVNob3J0Y3V0ID0gNSxcclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gU3VtbWFyeTpcclxuICAgICAgICAgICAgLy8gICAgIERlc2NyaWJlcyBhIHN5bWJvbCB0aGF0IGhhcyBhbGwgKG9yIG5vbmUpIG9mIHRoZSBzdGFuZGFyZCBhdHRyaWJ1dGVzLlxyXG4gICAgICAgICAgICBUb3RhbEdseXBoSXRlbXMgPSA2XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsInVzaW5nIE5ld3RvbnNvZnQuSnNvbjtcclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLkxpbnE7XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG51c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzO1xyXG5cclxubmFtZXNwYWNlIFN5c3RlbVxyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIENvbXBhdGliaWxpdHlFeHRlbnNpb25zXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgVG9Mb3dlckludmFyaWFudCh0aGlzIHN0cmluZyB2YWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5Ub0xvd2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5uYW1lc3BhY2UgQ29kZXguT2JqZWN0TW9kZWxcclxue1xyXG4gICAgcGFydGlhbCBzdHJ1Y3QgU3ltYm9sSWRcclxuICAgIHtcclxuICAgICAgICBbSnNvbkNvbnN0cnVjdG9yXVxyXG4gICAgICAgIHB1YmxpYyBTeW1ib2xJZChzdHJpbmcgdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJ1c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7XHJcblxyXG5uYW1lc3BhY2UgQ29kZXguU2RrLlNlYXJjaFxyXG57XHJcbiAgICBwdWJsaWMgcGFydGlhbCBpbnRlcmZhY2UgSUluZGV4XHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBIaWdoIGxldmVsIHF1ZXJ5IG9wZXJhdGlvbnMgZm9yIGluZGV4ZWQgY29kZVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBwYXJ0aWFsIGNsYXNzIEluZGV4PFQ+XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IEluZGV4UXVlcnk8VD4gQ3JlYXRlUXVlcnkoKTtcclxuXHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IElQcmVmaXhQcm9wZXJ0eTxUPiBDcmVhdGVQcmVmaXhQcm9wZXJ0eSgpO1xyXG5cclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgSVRlcm1Qcm9wZXJ0eTxUPiBDcmVhdGVUZXJtUHJvcGVydHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgSW5kZXhRdWVyeTxUPlxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBJbmRleEZpbHRlcjxUPiBGaWx0ZXIgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVyblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIGludCBNYXhSZXN1bHRzIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IFRhc2s8SW5kZXhRdWVyeUhpdHNSZXNwb25zZTxUPj4gRXhlY3V0ZUFzeW5jKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGNsYXNzIFByZWZpeEZ1bGxOYW1lSW5kZXhQcm9wZXJ0eTxUPiA6IFRlcm1JbmRleFByb3BlcnR5PFQ+XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IEluZGV4RmlsdGVyPFQ+IFByZWZpeEZ1bGxOYW1lKHN0cmluZyBwcmVmaXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjbGFzcyBQcmVmaXhJbmRleFByb3BlcnR5PFQ+IDogVGVybUluZGV4UHJvcGVydHk8VD5cclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgSW5kZXhGaWx0ZXI8VD4gUHJlZml4KHN0cmluZyBwcmVmaXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjbGFzcyBOb3JtYWxpemVkS2V5d29yZEluZGV4UHJvcGVydHk8VD4gOiBUZXJtSW5kZXhQcm9wZXJ0eTxUPlxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjbGFzcyBGdWxsVGV4dEluZGV4UHJvcGVydHk8VD4gOiBUZXJtSW5kZXhQcm9wZXJ0eTxUPlxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBJbmRleEZpbHRlcjxUPiBDb250YWlucyhzdHJpbmcgcGhyYXNlKTtcclxuXHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IEluZGV4RmlsdGVyPFQ+IENvbnRhaW5zQWxsKHN0cmluZ1tdIHRlcm1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBTb3J0d29yZCBpcyBub3JtYWxseSBhbHNvIGEgbm9ybWFsaXplZCBrZXl3b3JkLiBJcyB0aGlzIGFsd2F5cyB0aGUgY2FzZT9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjbGFzcyBTb3J0d29yZEluZGV4UHJvcGVydHk8VD4gOiBUZXJtSW5kZXhQcm9wZXJ0eTxUPlxyXG4gICAge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgVGVybUluZGV4UHJvcGVydHk8VD5cclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgSW5kZXhGaWx0ZXI8VD4gTWF0Y2g8VFZhbHVlPihUVmFsdWUgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSVByZWZpeFByb3BlcnR5PFQ+IDogSVRlcm1Qcm9wZXJ0eTxUPlxyXG4gICAge1xyXG4gICAgICAgIEluZGV4RmlsdGVyPFQ+IFByZWZpeChzdHJpbmcgcHJlZml4KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElUZXJtUHJvcGVydHk8VD5cclxuICAgIHtcclxuICAgICAgICBJbmRleEZpbHRlcjxUPiBNYXRjaDxUVmFsdWU+KFRWYWx1ZSB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVudW0gQmluYXJ5T3BlcmF0b3JcclxuICAgIHtcclxuICAgICAgICBBbmQsXHJcbiAgICAgICAgT3IsXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIEJpbmFyeUZpbHRlcjxUPiA6IEluZGV4RmlsdGVyPFQ+XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IEJpbmFyeU9wZXJhdG9yIE9wZXJhdG9yO1xyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBJbmRleEZpbHRlcjxUPiBMZWZ0O1xyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBJbmRleEZpbHRlcjxUPiBSaWdodDtcclxuXHJcbiAgICAgICAgcHVibGljIEJpbmFyeUZpbHRlcihCaW5hcnlPcGVyYXRvciBvcCwgSW5kZXhGaWx0ZXI8VD4gbGVmdCwgSW5kZXhGaWx0ZXI8VD4gcmlnaHQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBPcGVyYXRvciA9IG9wO1xyXG4gICAgICAgICAgICBMZWZ0ID0gbGVmdDtcclxuICAgICAgICAgICAgUmlnaHQgPSByaWdodDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIEluZGV4RmlsdGVyPFQ+XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBJbmRleEZpbHRlcjxUPiBvcGVyYXRvciAmKEluZGV4RmlsdGVyPFQ+IGxlZnQsIEluZGV4RmlsdGVyPFQ+IHJpZ2h0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCaW5hcnlGaWx0ZXI8VD4oQmluYXJ5T3BlcmF0b3IuQW5kLCBsZWZ0LCByaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIEluZGV4RmlsdGVyPFQ+IG9wZXJhdG9yIHwoSW5kZXhGaWx0ZXI8VD4gbGVmdCwgSW5kZXhGaWx0ZXI8VD4gcmlnaHQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUZpbHRlcjxUPihCaW5hcnlPcGVyYXRvci5PciwgbGVmdCwgcmlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElJbmRleFF1ZXJ5PFQ+XHJcbiAgICB7XHJcbiAgICAgICAgSUluZGV4UXVlcnlGaWx0ZXI8VD4gRmlsdGVyIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIGludCBNYXhSZXN1bHRzIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgVGFzazxJbmRleFF1ZXJ5UmVzcG9uc2U8VD4+IEV4ZWN1dGVBc3luYygpO1xyXG5cclxuICAgICAgICB2b2lkIEV4Y2x1ZGUoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJSW5kZXhRdWVyeUZpbHRlcjxUPlxyXG4gICAge1xyXG4gICAgICAgIHZvaWQgRXhjbHVkZSgpO1xyXG4gICAgfVxyXG59XHJcbiIsInVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxuXHJcbm5hbWVzcGFjZSBDb2RleC5TZGsuU2VhcmNoXHJcbntcclxuICAgIC8vICtUT0RPOiBHZW5lcmF0ZSBBU1AuTmV0IGVuZHBvaW50IHdoaWNoIGhhbmRsZXMgYWxsIHRoZXNlIGNhbGxzLiBQb3RlbnRpYWxseSBhbHNvIGltcGxlbWVudFxyXG4gICAgLy8gY2FsbGVyIChpLmUuIFdlYkFwaUNvZGV4IDogSUNvZGV4KVxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIEhpZ2ggbGV2ZWwgb3BlcmF0aW9ucyBmb3IgY29kZXggXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIGludGVyZmFjZSBJQ29kZXhcclxuICAgIHtcclxuICAgICAgICBUYXNrPEluZGV4UXVlcnlIaXRzUmVzcG9uc2U8SVNlYXJjaFJlc3VsdD4+IFNlYXJjaEFzeW5jKFNlYXJjaEFyZ3VtZW50cyBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICBUYXNrPEluZGV4UXVlcnlSZXNwb25zZTxSZWZlcmVuY2VzUmVzdWx0Pj4gRmluZEFsbFJlZmVyZW5jZXNBc3luYyhGaW5kQWxsUmVmZXJlbmNlc0FyZ3VtZW50cyBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEZpbmQgZGVmaW5pdGlvbiBmb3IgYSBzeW1ib2xcclxuICAgICAgICAvLy8gVXNhZ2U6IERvY3VtZW50YXRpb24gaG92ZXIgdG9vbHRpcFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgVGFzazxJbmRleFF1ZXJ5SGl0c1Jlc3BvbnNlPElEZWZpbml0aW9uU2VhcmNoTW9kZWw+PiBGaW5kRGVmaW5pdGlvbkFzeW5jKEZpbmREZWZpbml0aW9uQXJndW1lbnRzIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gRmluZCBkZWZpbml0aW9uIGxvY2F0aW9uIGZvciBhIHN5bWJvbFxyXG4gICAgICAgIC8vLyBVc2FnZTogR28gVG8gRGVmaW5pdGlvblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgVGFzazxJbmRleFF1ZXJ5UmVzcG9uc2U8UmVmZXJlbmNlc1Jlc3VsdD4+IEZpbmREZWZpbml0aW9uTG9jYXRpb25Bc3luYyhGaW5kRGVmaW5pdGlvbkxvY2F0aW9uQXJndW1lbnRzIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgICAgIFRhc2s8SW5kZXhRdWVyeVJlc3BvbnNlPElCb3VuZFNvdXJjZUZpbGU+PiBHZXRTb3VyY2VBc3luYyhHZXRTb3VyY2VBcmd1bWVudHMgYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW51bSBDb2RleFNlcnZpY2VNZXRob2RcclxuICAgIHtcclxuICAgICAgICBTZWFyY2gsXHJcbiAgICAgICAgRmluZEFsbFJlZnMsXHJcbiAgICAgICAgRmluZERlZixcclxuICAgICAgICBGaW5kRGVmTG9jYXRpb24sXHJcbiAgICAgICAgR2V0U291cmNlXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIENvZGV4QXJndW1lbnRzQmFzZVxyXG4gICAge1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgaW50IE1heFJlc3VsdHMgeyBnZXQ7IHNldDsgfVxyXG5cbiAgICBcbnByaXZhdGUgaW50IF9fUHJvcGVydHlfX0luaXRpYWxpemVyX19NYXhSZXN1bHRzPTEwMDt9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIENvbnRleHRDb2RleEFyZ3VtZW50c0Jhc2UgOiBDb2RleEFyZ3VtZW50c0Jhc2VcclxuICAgIHtcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBpZCBvZiB0aGUgcmVwb3NpdG9yeSB0byB3aGljaCB0byBzY29wZSBzZWFyY2ggcmVzdWx0c1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHN0cmluZyBSZXBvc2l0b3J5U2NvcGVJZCB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGlkIG9mIHRoZSBwcm9qZWN0IHRvIHdoaWNoIHRvIHNjb3BlIHNlYXJjaCByZXN1bHRzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIFByb2plY3RTY29wZUlkIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaWQgb2YgdGhlIHJlcG9zaXRvcnkgcmVmZXJlbmNpbmcgdGhlIHN5bWJvbC5cclxuICAgICAgICAvLy8gTk9URTogVGhpcyBpcyB1c2VkIHRvIHByaW9yaXR5IGludGVyLXJlcG9zaXRvcnkgbWF0Y2hlcyBvdmVyXHJcbiAgICAgICAgLy8vIG1hdGNoZXMgZnJvbSBvdXRzaWRlIHRoZSByZXBvc2l0b3J5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIFJlZmVyZW5jaW5nUmVwb3NpdG9yeUlkIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaWQgb2YgdGhlIHByb2plY3QgcmVmZXJlbmNpbmcgdGhlIHN5bWJvbC5cclxuICAgICAgICAvLy8gTk9URTogVGhpcyBpcyB1c2VkIHRvIHByaW9yaXR5IGludGVyLXJlcG9zaXRvcnkgbWF0Y2hlcyBvdmVyXHJcbiAgICAgICAgLy8vIG1hdGNoZXMgZnJvbSBvdXRzaWRlIHRoZSByZXBvc2l0b3J5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIFJlZmVyZW5jaW5nUHJvamVjdElkIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaWQgb2YgdGhlIGZpbGUgcmVmZXJlbmNpbmcgdGhlIHN5bWJvbC5cclxuICAgICAgICAvLy8gTk9URTogVGhpcyBpcyB1c2VkIHRvIHByaW9yaXR5IGludGVyLXJlcG9zaXRvcnkgbWF0Y2hlcyBvdmVyXHJcbiAgICAgICAgLy8vIG1hdGNoZXMgZnJvbSBvdXRzaWRlIHRoZSByZXBvc2l0b3J5XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIFJlZmVyZW5jaW5nRmlsZUlkIHsgZ2V0OyBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xhc3MgRmluZFN5bWJvbEFyZ3VtZW50c0Jhc2UgOiBDb250ZXh0Q29kZXhBcmd1bWVudHNCYXNlXHJcbiAgICB7XHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgc3ltYm9sIGlkIG9mIHRoZSBzeW1ib2xcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgU3ltYm9sSWQgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBwcm9qZWN0IGlkIG9mIHRoZSBzeW1ib2xcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgUHJvamVjdElkIHsgZ2V0OyBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xhc3MgRmluZERlZmluaXRpb25Bcmd1bWVudHMgOiBGaW5kU3ltYm9sQXJndW1lbnRzQmFzZVxyXG4gICAge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xhc3MgRmluZEFsbFJlZmVyZW5jZXNBcmd1bWVudHMgOiBGaW5kU3ltYm9sQXJndW1lbnRzQmFzZVxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGFzcyBGaW5kRGVmaW5pdGlvbkxvY2F0aW9uQXJndW1lbnRzIDogRmluZFN5bWJvbEFyZ3VtZW50c0Jhc2VcclxuICAgIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xhc3MgU2VhcmNoQXJndW1lbnRzIDogQ29udGV4dENvZGV4QXJndW1lbnRzQmFzZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgU2VhcmNoU3RyaW5nIHsgZ2V0OyBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xhc3MgR2V0U291cmNlQXJndW1lbnRzIDogQ29udGV4dENvZGV4QXJndW1lbnRzQmFzZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgUHJvamVjdElkIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBQcm9qZWN0UmVsYXRpdmVQYXRoIHsgZ2V0OyBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElSZWZlcmVuY2VTZWFyY2hSZXN1bHQgOiBJUHJvamVjdEZpbGVTY29wZUVudGl0eVxyXG4gICAge1xyXG4gICAgICAgIElSZWZlcmVuY2VTcGFuIFJlZmVyZW5jZVNwYW4geyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJVGV4dExpbmVTcGFuUmVzdWx0IDogSVByb2plY3RGaWxlU2NvcGVFbnRpdHlcclxuICAgIHtcclxuICAgICAgICBJVGV4dExpbmVTcGFuIFRleHRTcGFuIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSVNlYXJjaFJlc3VsdFxyXG4gICAge1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHRleHQgc3BhbiBmb3IgYSB0ZXh0IHJlc3VsdFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgSVRleHRMaW5lU3BhblJlc3VsdCBUZXh0TGluZSB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZGVmaW5pdGlvbiBvZiB0aGUgc2VhcmNoIHJlc3VsdFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgSURlZmluaXRpb25TeW1ib2wgRGVmaW5pdGlvbiB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RydWN0IFNlcmlhbGl6YWJsZVRpbWVTcGFuXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIGxvbmcgVGlja3MgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgU2VyaWFsaXphYmxlVGltZVNwYW4oVGltZVNwYW4gdGltZXNwYW4pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBUaWNrcyA9IHRpbWVzcGFuLlRpY2tzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFRpbWVTcGFuIEFzVGltZVNwYW4oKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRpbWVTcGFuLkZyb21UaWNrcyhUaWNrcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGltcGxpY2l0IG9wZXJhdG9yIFRpbWVTcGFuKFNlcmlhbGl6YWJsZVRpbWVTcGFuIHZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLkFzVGltZVNwYW4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaW1wbGljaXQgb3BlcmF0b3IgU2VyaWFsaXphYmxlVGltZVNwYW4oVGltZVNwYW4gdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlcmlhbGl6YWJsZVRpbWVTcGFuKHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBvdmVycmlkZSBzdHJpbmcgVG9TdHJpbmcoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIEFzVGltZVNwYW4oKS5Ub1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xhc3MgSW5kZXhRdWVyeVJlc3BvbnNlXHJcbiAgICB7XHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJZiB0aGUgcXVlcnkgZmFpbGVkLCB0aGlzIHdpbGwgY29udGFpbiB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIHN0cmluZyBFcnJvciB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHJhdyBxdWVyeSBzZW50IHRvIHRoZSBpbmRleCBzZXJ2ZXJcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyBMaXN0PHN0cmluZz4gUmF3UXVlcmllcyB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHNwZW50IGV4ZWN1dGluZyB0aGUgcXVlcnlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyBTZXJpYWxpemFibGVUaW1lU3BhbiBEdXJhdGlvbiB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHNwZW50IGV4ZWN1dGluZyB0aGUgcXVlcnlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyBTZXJpYWxpemFibGVUaW1lU3BhbiBTZXJ2ZXJUaW1lIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIG92ZXJyaWRlIHN0cmluZyBUb1N0cmluZygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLkZvcm1hdChcIkVycm9yOiB7MH0sIER1cmF0aW9uOiB7MX1cIixFcnJvcixEdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGFzcyBJbmRleFF1ZXJ5UmVzcG9uc2U8VD4gOiBJbmRleFF1ZXJ5UmVzcG9uc2VcclxuICAgIHtcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgcHVibGljIFQgUmVzdWx0IHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIG92ZXJyaWRlIHN0cmluZyBUb1N0cmluZygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLkZvcm1hdChcIlJlc3VsdDogezB9LCB7MX1cIixSZXN1bHQsYmFzZS5Ub1N0cmluZygpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIEluZGV4UXVlcnlIaXRzPFQ+XHJcbiAgICB7XHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgdG90YWwgbnVtYmVyIG9mIHJlc3VsdHMgbWF0Y2hpbmcgdGhlIHF1ZXJ5LiBcclxuICAgICAgICAvLy8gTk9URTogVGhpcyBtYXkgYmUgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2YgaGl0cyByZXR1cm5lZC5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyBsb25nIFRvdGFsIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcmVzdWx0cyBvZiB0aGUgcXVlcnlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHB1YmxpYyBMaXN0PFQ+IEhpdHMgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgb3ZlcnJpZGUgc3RyaW5nIFRvU3RyaW5nKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcuRm9ybWF0KFwiVG90YWw6IHswfSwgezF9XCIsVG90YWwsYmFzZS5Ub1N0cmluZygpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIFJlZmVyZW5jZXNSZXN1bHQgOiBJbmRleFF1ZXJ5SGl0czxJUmVmZXJlbmNlU2VhcmNoUmVzdWx0PlxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgU3ltYm9sRGlzcGxheU5hbWUgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIFN5bWJvbElkIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBQcm9qZWN0SWQgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgTGlzdDxJRGVmaW5pdGlvblN5bWJvbD4gUmVsYXRlZERlZmluaXRpb25zIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cbiAgICBcbnByaXZhdGUgTGlzdDxJRGVmaW5pdGlvblN5bWJvbD4gX19Qcm9wZXJ0eV9fSW5pdGlhbGl6ZXJfX1JlbGF0ZWREZWZpbml0aW9ucz1uZXcgTGlzdDxJRGVmaW5pdGlvblN5bWJvbD4oKTt9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIEluZGV4UXVlcnlIaXRzUmVzcG9uc2U8VD4gOiBJbmRleFF1ZXJ5UmVzcG9uc2U8SW5kZXhRdWVyeUhpdHM8VD4+XHJcbiAgICB7XHJcbiAgICB9XHJcbn1cclxuIiwidXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLkxpbnE7XHJcbnVzaW5nIFN5c3RlbS5MaW5xLkV4cHJlc3Npb25zO1xyXG51c2luZyBTeXN0ZW0uUnVudGltZS5Db21waWxlclNlcnZpY2VzO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxuXHJcbm5hbWVzcGFjZSBDb2RleFxyXG57XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgU2VhcmNoVHlwZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgTmFtZSB7IGdldDsgcHJvdGVjdGVkIHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgSW5kZXhOYW1lIHsgZ2V0OyBwcm90ZWN0ZWQgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGludCBJZCB7IGdldDsgcHJvdGVjdGVkIHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIFNlYXJjaFR5cGU8VD4gQ3JlYXRlPFQ+KExpc3Q8U2VhcmNoVHlwZT4gcmVnaXN0ZXJlZFNlYXJjaFR5cGVzLCBbQ2FsbGVyTWVtYmVyTmFtZV1zdHJpbmcgbmFtZSA9IG51bGwpXHJcbiAgICAgICAgICAgIHdoZXJlIFQgOiBjbGFzcywgSVNlYXJjaEVudGl0eVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaFR5cGUgPSBuZXcgU2VhcmNoVHlwZTxUPihuYW1lKTtcclxuICAgICAgICAgICAgc2VhcmNoVHlwZS5JZCA9IHJlZ2lzdGVyZWRTZWFyY2hUeXBlcy5Db3VudDtcclxuICAgICAgICAgICAgcmVnaXN0ZXJlZFNlYXJjaFR5cGVzLkFkZChzZWFyY2hUeXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlYXJjaFR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgVHlwZSBUeXBlIHsgZ2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIFNlYXJjaFR5cGU8VFNlYXJjaFR5cGU+IDogU2VhcmNoVHlwZVxyXG4gICAgICAgIHdoZXJlIFRTZWFyY2hUeXBlIDogY2xhc3MsIElTZWFyY2hFbnRpdHlcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgb3ZlcnJpZGUgVHlwZSBUeXBlIHtnZXR7cmV0dXJuIHR5cGVvZihUU2VhcmNoVHlwZSk7fX1cclxuXHJcbiAgICAgICAgcHVibGljIExpc3Q8VHVwbGU8RXhwcmVzc2lvbjxGdW5jPFRTZWFyY2hUeXBlLCBvYmplY3Q+PiwgRXhwcmVzc2lvbjxGdW5jPFRTZWFyY2hUeXBlLCBvYmplY3Q+Pj4+IENvcHlUb0ZpZWxkcyA9IG5ldyBMaXN0PFR1cGxlPEV4cHJlc3Npb248RnVuYzxUU2VhcmNoVHlwZSwgb2JqZWN0Pj4sIEV4cHJlc3Npb248RnVuYzxUU2VhcmNoVHlwZSwgb2JqZWN0Pj4+PigpO1xyXG5cclxuICAgICAgICBwdWJsaWMgTGlzdDxUdXBsZTxFeHByZXNzaW9uPEZ1bmM8VFNlYXJjaFR5cGUsIG9iamVjdD4+LCBFeHByZXNzaW9uPEZ1bmM8VFNlYXJjaFR5cGUsIG9iamVjdD4+Pj4gSW5oZXJpdEZpZWxkcyA9IG5ldyBMaXN0PFR1cGxlPEV4cHJlc3Npb248RnVuYzxUU2VhcmNoVHlwZSwgb2JqZWN0Pj4sIEV4cHJlc3Npb248RnVuYzxUU2VhcmNoVHlwZSwgb2JqZWN0Pj4+PigpO1xyXG5cclxuICAgICAgICBwdWJsaWMgU2VhcmNoVHlwZShzdHJpbmcgbmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICBJbmRleE5hbWUgPSBOYW1lLlRvTG93ZXJJbnZhcmlhbnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBTZWFyY2hUeXBlPFRTZWFyY2hUeXBlPiBJbmhlcml0PFQ+KFxyXG4gICAgICAgICAgICBFeHByZXNzaW9uPEZ1bmM8VFNlYXJjaFR5cGUsIFQ+PiBwcm92aWRlckZpZWxkLFxyXG4gICAgICAgICAgICBFeHByZXNzaW9uPEZ1bmM8VFNlYXJjaFR5cGUsIFQ+PiBzZWFyY2hGaWVsZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFNlYXJjaFR5cGU8VFNlYXJjaFR5cGU+IENvcHlUbyhcclxuICAgICAgICAgICAgRXhwcmVzc2lvbjxGdW5jPFRTZWFyY2hUeXBlLCBvYmplY3Q+PiBzb3VyY2VGaWVsZCxcclxuICAgICAgICAgICAgRXhwcmVzc2lvbjxGdW5jPFRTZWFyY2hUeXBlLCBvYmplY3Q+PiB0YXJnZXRGaWVsZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFNlYXJjaFR5cGU8VFNlYXJjaFR5cGU+IEV4Y2x1ZGUoXHJcbiAgICAgICAgICAgIEV4cHJlc3Npb248RnVuYzxUU2VhcmNoVHlwZSwgb2JqZWN0Pj4gc2VhcmNoRmllbGQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBTZWFyY2hUeXBlPFRTZWFyY2hUeXBlPiBTZWFyY2hBczxUPihcclxuICAgICAgICAgICAgRXhwcmVzc2lvbjxGdW5jPFRTZWFyY2hUeXBlLCBUPj4gc2VhcmNoRmllbGQsXHJcbiAgICAgICAgICAgIFNlYXJjaEJlaGF2aW9yIGJlaGF2aW9yKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJ1c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxudXNpbmcgU3lzdGVtLkxpbnEuRXhwcmVzc2lvbnM7XHJcbnVzaW5nIFN5c3RlbS5SdW50aW1lLkNvbXBpbGVyU2VydmljZXM7XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG51c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzO1xyXG5cclxubmFtZXNwYWNlIENvZGV4XHJcbntcclxuICAgIC8qXHJcbiAgICAgKiBUeXBlcyBpbiB0aGlzIGZpbGUgZGVmaW5lIHNlYXJjaCBiZWhhdmlvcnMuIENoYW5nZXMgc2hvdWxkIGJlIG1hZGUgd2l0aCBjYXV0aW9uIGFzIHRoZXkgY2FuIGFmZmVjdFxyXG4gICAgICogdGhlIG1hcHBpbmcgc2NoZW1hIGZvciBpbmRpY2VzIGFuZCB3aWxsIGdlbmVyYWxseSBuZWVkIHRvIGJlIGJhY2t3YXJkIGNvbXBhdGlibGUuXHJcbiAgICAgKiBBZGRpdGlvbnMgc2hvdWxkIGJlIGdlbmVyYWxseSBzYWZlLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY2xhc3MgU2VhcmNoVHlwZXNcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExpc3Q8U2VhcmNoVHlwZT4gUmVnaXN0ZXJlZFNlYXJjaFR5cGVzID0gbmV3IExpc3Q8U2VhcmNoVHlwZT4oKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTZWFyY2hUeXBlIERlZmluaXRpb24gPSBTZWFyY2hUeXBlLkNyZWF0ZTxJRGVmaW5pdGlvblNlYXJjaE1vZGVsPihSZWdpc3RlcmVkU2VhcmNoVHlwZXMpO1xyXG4gICAgICAgIC8vLkNvcHlUbyhkcyA9PiBkcy5EZWZpbml0aW9uLk1vZGlmaWVycywgZHMgPT4gZHMuS2V5d29yZHMpXHJcbiAgICAgICAgLy8uQ29weVRvKGRzID0+IGRzLkRlZmluaXRpb24uS2luZCwgZHMgPT4gZHMuS2luZClcclxuICAgICAgICAvLy5Db3B5VG8oZHMgPT4gZHMuRGVmaW5pdGlvbi5FeGNsdWRlRnJvbURlZmF1bHRTZWFyY2gsIGRzID0+IGRzLkV4Y2x1ZGVGcm9tRGVmYXVsdFNlYXJjaClcclxuICAgICAgICAvLy5Db3B5VG8oZHMgPT4gZHMuRGVmaW5pdGlvbi5LaW5kLCBkcyA9PiBkcy5LZXl3b3JkcylcclxuICAgICAgICAvLy5Db3B5VG8oZHMgPT4gZHMuRGVmaW5pdGlvbi5TaG9ydE5hbWUsIGRzID0+IGRzLlNob3J0TmFtZSlcclxuICAgICAgICAvLy8vLkNvcHlUbyhkcyA9PiBkcy5MYW5ndWFnZSwgZHMgPT4gZHMuS2V5d29yZHMpXHJcbiAgICAgICAgLy8uQ29weVRvKGRzID0+IGRzLkRlZmluaXRpb24uUHJvamVjdElkLCBkcyA9PiBkcy5Qcm9qZWN0SWQpXHJcbiAgICAgICAgLy8uQ29weVRvKGRzID0+IGRzLkRlZmluaXRpb24uUHJvamVjdElkLCBkcyA9PiBkcy5LZXl3b3Jkcyk7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2VhcmNoVHlwZSBSZWZlcmVuY2UgPSBTZWFyY2hUeXBlLkNyZWF0ZTxJUmVmZXJlbmNlU2VhcmNoTW9kZWw+KFJlZ2lzdGVyZWRTZWFyY2hUeXBlcyk7XHJcbiAgICAgICAgLy8uQ29weVRvKHJzID0+IHJzLlNwYW5zLkZpcnN0KCkuUmVmZXJlbmNlLCBycyA9PiBycy5SZWZlcmVuY2UpO1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIFNlYXJjaFR5cGUgVGV4dFNvdXJjZSA9IFNlYXJjaFR5cGUuQ3JlYXRlPElUZXh0U291cmNlU2VhcmNoTW9kZWw+KFJlZ2lzdGVyZWRTZWFyY2hUeXBlcyk7XHJcbiAgICAgICAgLy8uQ29weVRvKHNzID0+IHNzLkZpbGUuU291cmNlRmlsZS5Db250ZW50LCBzcyA9PiBzcy5Db250ZW50KVxyXG4gICAgICAgIC8vLkNvcHlUbyhzcyA9PiBzcy5GaWxlLlNvdXJjZUZpbGUuSW5mby5SZXBvUmVsYXRpdmVQYXRoLCBzcyA9PiBzcy5SZXBvUmVsYXRpdmVQYXRoKVxyXG4gICAgICAgIC8vLkNvcHlUbyhzcyA9PiBzcy5GaWxlLlByb2plY3RJZCwgc3MgPT4gc3MuUHJvamVjdElkKVxyXG4gICAgICAgIC8vLkNvcHlUbyhzcyA9PiBzcy5GaWxlLkluZm8uUGF0aCwgc3MgPT4gc3MuRmlsZVBhdGgpO1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIFNlYXJjaFR5cGUgQm91bmRTb3VyY2UgPSBTZWFyY2hUeXBlLkNyZWF0ZTxJQm91bmRTb3VyY2VTZWFyY2hNb2RlbD4oUmVnaXN0ZXJlZFNlYXJjaFR5cGVzKTtcclxuICAgICAgICAgICAgLy8uQ29weVRvKHNzID0+IHNzLkZpbGUuU291cmNlRmlsZS5Db250ZW50LCBzcyA9PiBzcy5Db250ZW50KVxyXG4gICAgICAgICAgICAvLy5Db3B5VG8oc3MgPT4gc3MuRmlsZS5Tb3VyY2VGaWxlLkluZm8uUmVwb1JlbGF0aXZlUGF0aCwgc3MgPT4gc3MuUmVwb1JlbGF0aXZlUGF0aClcclxuICAgICAgICAgICAgLy8uQ29weVRvKHNzID0+IHNzLkJpbmRpbmdJbmZvLlByb2plY3RJZCwgc3MgPT4gc3MuUHJvamVjdElkKVxyXG4gICAgICAgICAgICAvLy5Db3B5VG8oc3MgPT4gc3MuRmlsZVBhdGgsIHNzID0+IHNzLkZpbGVQYXRoKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTZWFyY2hUeXBlIExhbmd1YWdlID0gU2VhcmNoVHlwZS5DcmVhdGU8SUxhbmd1YWdlU2VhcmNoTW9kZWw+KFJlZ2lzdGVyZWRTZWFyY2hUeXBlcyk7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2VhcmNoVHlwZSBSZXBvc2l0b3J5ID0gU2VhcmNoVHlwZS5DcmVhdGU8SVJlcG9zaXRvcnlTZWFyY2hNb2RlbD4oUmVnaXN0ZXJlZFNlYXJjaFR5cGVzKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTZWFyY2hUeXBlIFByb2plY3QgPSBTZWFyY2hUeXBlLkNyZWF0ZTxJUHJvamVjdFNlYXJjaE1vZGVsPihSZWdpc3RlcmVkU2VhcmNoVHlwZXMpXHJcbiAgICAgICAgICAgIC5FeGNsdWRlKHNtID0+IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuRmlyc3Q8Z2xvYmFsOjpDb2RleC5JUmVmZXJlbmNlZFByb2plY3Q+KHNtLlByb2plY3QuUHJvamVjdFJlZmVyZW5jZXMpLkRlZmluaXRpb25zKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTZWFyY2hUeXBlIENvbW1pdCA9IFNlYXJjaFR5cGUuQ3JlYXRlPElDb21taXRTZWFyY2hNb2RlbD4oUmVnaXN0ZXJlZFNlYXJjaFR5cGVzKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTZWFyY2hUeXBlIENvbW1pdEZpbGVzID0gU2VhcmNoVHlwZS5DcmVhdGU8SUNvbW1pdEZpbGVzU2VhcmNoTW9kZWw+KFJlZ2lzdGVyZWRTZWFyY2hUeXBlcyk7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2VhcmNoVHlwZSBQcm9qZWN0UmVmZXJlbmNlID0gU2VhcmNoVHlwZS5DcmVhdGU8SVByb2plY3RSZWZlcmVuY2VTZWFyY2hNb2RlbD4oUmVnaXN0ZXJlZFNlYXJjaFR5cGVzKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTZWFyY2hUeXBlIFByb3BlcnR5ID0gU2VhcmNoVHlwZS5DcmVhdGU8SVByb3BlcnR5U2VhcmNoTW9kZWw+KFJlZ2lzdGVyZWRTZWFyY2hUeXBlcyk7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU2VhcmNoVHlwZSBTdG9yZWRGaWx0ZXIgPSBTZWFyY2hUeXBlLkNyZWF0ZTxJU3RvcmVkRmlsdGVyPihSZWdpc3RlcmVkU2VhcmNoVHlwZXMpO1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIFNlYXJjaFR5cGUgUmVnaXN0ZXJlZEVudGl0eSA9IFNlYXJjaFR5cGUuQ3JlYXRlPElSZWdpc3RlcmVkRW50aXR5PihSZWdpc3RlcmVkU2VhcmNoVHlwZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBJbiBvcmRlciB0byBjb21wdXRlIGEgc3RhYmxlIGludGVncmFsIGlkIGZvciBlYWNoIGVudGl0eS4gVGhpcyB0eXBlIGlzIHVzZWQgdG8gc3RvcmUgaW50byBhICdmb2xsb3cnIGluZGV4IHdoaWNoXHJcbiAgICAvLy8gc3RvcmVzIGVudGl0aWVzIG9mIHRoaXMgdHlwZSB1c2luZyB0aGUgPHNlZSBjcmVmPVwiSVNlYXJjaEVudGl0eS5VaWRcIi8+IG9mIHRoZSBjb3JyZXNwb25kaW5nIHNlYXJjaCBlbnRpdHkuIFRoZW4gdGhlXHJcbiAgICAvLy8gc2VxdWVuY2UgbnVtYmVyIGFzc2lnbmVkIGJ5IEVsYXN0aWNTZWFyY2ggaXMgdXNlZCBhcyB0aGUgc2hhcmQgc3RhYmxlIGlkICg8c2VlIGNyZWY9XCJJU2VhcmNoRW50aXR5LlNoYXJkU3RhYmxlSWRcIi8+KVxyXG4gICAgLy8vIGZvciB0aGUgZW50aXR5LiBUaGlzIGFwcHJvYWNoIGlzIHVzZWQgaW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgdGhlIHN0YWJsZSBpZCBhcHBlYXJzIGFzIGFuIGV4cGxpY2l0IGZpZWxkIGluIHRoZSBkb2N1bWVudCByYXRoZXJcclxuICAgIC8vLyB3aGljaCBhbGxvd3MgY29uZmlndXJhdGlvbiBvZiBob3cgdGhlIGZpZWxkIGlzIGluZGV4ZWQgKG5vdCB0cnVlIGZvciBzZXF1ZW5jZSBudW1iZXIgZmllbGQgd2l0aG91dCBjb2RlIGNoYW5nZXMgdG8gRVMpLlxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSVJlZ2lzdGVyZWRFbnRpdHkgOiBJU2VhcmNoRW50aXR5XHJcbiAgICB7XHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgZGF0ZSBpbiB3aGljaCB0aGUgZW50aXR5IHdhcyByZWdpc3RlcmVkIChpLmUuIGFkZGVkIHRvIHRoZSBzdG9yZSlcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIERhdGVUaW1lIERhdGVBZGRlZCB7IGdldDsgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIERlZmluZXMgYSBzdG9yZWQgZmlsdGVyIHdoaWNoIG1hdGNoZXMgZW50aXRpZXMgaW4gYSBwYXJ0aWN1bGFyIGluZGV4IHNoYXJkIGluIGEgc3RhYmxlIG1hbm5lclxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSVN0b3JlZEZpbHRlciA6IElTZWFyY2hFbnRpdHlcclxuICAgIHtcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSB0aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZSB0byB0aGUgc3RvcmVkIGZpbHRlclxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgRGF0ZVRpbWUgRGF0ZVVwZGF0ZWQgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSBpbmRleCB0byB3aGljaCB0aGUgc3RvcmVkIGZpbHRlciBhcHBsaWVzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBzdHJpbmcgSW5kZXhOYW1lIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBzaGFyZCB0byB3aGljaCB0aGUgc3RvcmVkIGZpbHRlciBhcHBsaWVzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBpbnQgU2hhcmQgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gTGlzdCBvZiBzdGFibGUgaWRzIHRvIGluY2x1ZGUgaW4gdGhlIHN0b3JlZCBmaWx0ZXIuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBJUmVhZE9ubHlMaXN0PGxvbmc+IFN0YWJsZUlkcyB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBMaXN0IG9mIHVpZHMgdG8gZm9yIHN0b3JlZCBmaWx0ZXJzIHdoaWNoIHdpbGwgYmUgdW5pb25lZCB3aXRoIHRoZSBnaXZlbiBzdG9yZWQgZmlsdGVyXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBJUmVhZE9ubHlMaXN0PHN0cmluZz4gQmFzZVVpZHMgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gTGlzdCBvZiBzdG9yZWQgZmlsdGVycyB3aGljaCB3aWxsIGJlIHVuaW9uZWQgd2l0aCB0aGUgZ2l2ZW4gc3RvcmVkIGZpbHRlclxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgSVJlYWRPbmx5TGlzdDxieXRlW10+IFVuaW9uRmlsdGVycyB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgc3RvcmVkIGZpbHRlciBiaXQgc2V0IHdoaWNoIG1hdGNoZXMgdGhlIHN0b3JlZCBmaWx0ZXIgZG9jdW1lbnRzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBieXRlW10gRmlsdGVyIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBoYXNoIG9mIDxzZWUgY3JlZj1cIkZpbHRlclwiLz5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHN0cmluZyBGaWx0ZXJIYXNoIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBjb3VudCBvZiBlbGVtZW50cyBtYXRjaGVkIGJ5IDxzZWUgY3JlZj1cIkZpbHRlclwiLz5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIGludCBGaWx0ZXJDb3VudCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElEZWZpbml0aW9uU2VhcmNoTW9kZWwgOiBJU2VhcmNoRW50aXR5XHJcbiAgICB7XHJcbiAgICAgICAgSURlZmluaXRpb25TeW1ib2wgRGVmaW5pdGlvbiB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8gVE9ETzogTm90IHN1cmUgdGhhdCB0aGlzIGlzIGFjdHVhbGx5IG5lZWRlZFxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gS2V5d29yZHMgYXJlIGFkZGl0aW9uYWwgdGVybXMgd2hpY2ggY2FuIGJlIHVzZWQgdG8gZmluZCBhIGdpdmVuIHN5bWJvbC5cclxuICAgICAgICAvLy8gTk9URTogS2V5d29yZHMgY2FuIG9ubHkgYmUgdXNlZCB0byBzZWxlY3QgZnJvbSBzeW1ib2xzIHdoaWNoIGhhdmVcclxuICAgICAgICAvLy8gYSBwcmltYXJ5IHRlcm0gbWF0Y2hcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIFtTZWFyY2hCZWhhdmlvcihTZWFyY2hCZWhhdmlvci5Ob3JtYWxpemVkS2V5d29yZCldXHJcbiAgICAgICAgSVJlYWRPbmx5TGlzdDxzdHJpbmc+IEtleXdvcmRzIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSUxhbmd1YWdlU2VhcmNoTW9kZWwgOiBJU2VhcmNoRW50aXR5XHJcbiAgICB7XHJcbiAgICAgICAgSUxhbmd1YWdlSW5mbyBMYW5ndWFnZSB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElSZWZlcmVuY2VTZWFyY2hNb2RlbCA6IElQcm9qZWN0RmlsZVNjb3BlRW50aXR5LCBJU2VhcmNoRW50aXR5XHJcbiAgICB7XHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcmVmZXJlbmNlIHN5bWJvbFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgSVJlZmVyZW5jZVN5bWJvbCBSZWZlcmVuY2UgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vIFRPRE86IE5lZWQgc29tZSBzb3J0IG9mIG92ZXJyaWRlIGZvciBzZWFyY2hpbmcgUmVsYXRlZERlZmluaXRpb24gb2YgdGhlXHJcbiAgICAgICAgLy8gUmVmZXJlbmNlU3BhblxyXG4gICAgICAgIFtTZWFyY2hCZWhhdmlvcihTZWFyY2hCZWhhdmlvci5Ob25lKV1cclxuICAgICAgICBbUmVhZE9ubHlMaXN0XVxyXG4gICAgICAgIFtDb2VyY2VHZXRdXHJcbiAgICAgICAgSVJlYWRPbmx5TGlzdDxJU3ltYm9sU3Bhbj4gU3BhbnMgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gQ29tcHJlc3NlZCBsaXN0IG9mIHNwYW5zXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbU2VhcmNoQmVoYXZpb3IoU2VhcmNoQmVoYXZpb3IuTm9uZSldXHJcbiAgICAgICAgSVN5bWJvbExpbmVTcGFuTGlzdCBDb21wcmVzc2VkU3BhbnMgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJU291cmNlU2VhcmNoTW9kZWxCYXNlIDogSVNlYXJjaEVudGl0eVxyXG4gICAge1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gSW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZSBmaWxlIGZyb20gc291cmNlIGNvbnRyb2wgcHJvdmlkZXIgKG1heSBiZSBudWxsKVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgSVNvdXJjZUNvbnRyb2xGaWxlSW5mbyBTb3VyY2VDb250cm9sSW5mbyB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElCb3VuZFNvdXJjZVNlYXJjaE1vZGVsIDogSVNvdXJjZVNlYXJjaE1vZGVsQmFzZVxyXG4gICAge1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBhc3NvY2lhdGVkIDxzZWUgY3JlZj1cIklTb3VyY2VGaWxlXCIvPlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgc3RyaW5nIFRleHRVaWQgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gSW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZSBmaWxlXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBJU291cmNlRmlsZUluZm8gU291cmNlSW5mbyB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgYmluZGluZyBpbmZvXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBJQm91bmRTb3VyY2VJbmZvIEJpbmRpbmdJbmZvIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIENvbXByZXNzZWQgbGlzdCBvZiBjbGFzc2lmaWNhdGlvbiBzcGFuc1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgW1NlYXJjaEJlaGF2aW9yKFNlYXJjaEJlaGF2aW9yLk5vbmUpXVxyXG4gICAgICAgIElDbGFzc2lmaWNhdGlvbkxpc3QgQ29tcHJlc3NlZENsYXNzaWZpY2F0aW9ucyB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBDb21wcmVzc2VkIGxpc3Qgb2YgcmVmZXJlbmNlIHNwYW5zXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbU2VhcmNoQmVoYXZpb3IoU2VhcmNoQmVoYXZpb3IuTm9uZSldXHJcbiAgICAgICAgSVJlZmVyZW5jZUxpc3QgQ29tcHJlc3NlZFJlZmVyZW5jZXMgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJVGV4dFNvdXJjZVNlYXJjaE1vZGVsIDogSVNvdXJjZVNlYXJjaE1vZGVsQmFzZVxyXG4gICAge1xyXG4gICAgICAgIElTb3VyY2VGaWxlIEZpbGUgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJUmVwb3NpdG9yeVNlYXJjaE1vZGVsIDogSVNlYXJjaEVudGl0eVxyXG4gICAge1xyXG4gICAgICAgIElSZXBvc2l0b3J5IFJlcG9zaXRvcnkgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJUHJvamVjdFNlYXJjaE1vZGVsIDogSVNlYXJjaEVudGl0eVxyXG4gICAge1xyXG4gICAgICAgIElQcm9qZWN0IFByb2plY3QgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJUHJvamVjdFJlZmVyZW5jZVNlYXJjaE1vZGVsIDogSVByb2plY3RTY29wZUVudGl0eSwgSVNlYXJjaEVudGl0eVxyXG4gICAge1xyXG4gICAgICAgIElSZWZlcmVuY2VkUHJvamVjdCBQcm9qZWN0UmVmZXJlbmNlIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSUNvbW1pdFNlYXJjaE1vZGVsIDogSVNlYXJjaEVudGl0eVxyXG4gICAge1xyXG4gICAgICAgIElDb21taXQgQ29tbWl0IHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBUaGUgc2V0IG9mIGZpbGVzIHByZXNlbnQgaW4gdGhlIHJlcG9zaXRvcnkgYXQgYSBnaXZlbiBjb21taXQuXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIGludGVyZmFjZSBJQ29tbWl0RmlsZXNTZWFyY2hNb2RlbCA6IElDb21taXRTY29wZUVudGl0eSwgSVJlcG9TY29wZUVudGl0eSwgSVNlYXJjaEVudGl0eVxyXG4gICAge1xyXG4gICAgICAgIElSZWFkT25seUxpc3Q8SUNvbW1pdEZpbGVMaW5rPiBDb21taXRGaWxlcyB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxufVxyXG5cclxuIiwidXNpbmcgQ29kZXguT2JqZWN0TW9kZWw7XHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxuXHJcbm5hbWVzcGFjZSBDb2RleFxyXG57XHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gUmVwcmVzZW50cyBhIHNvdXJjZSBmaWxlIHdpdGggYXNzb2NpYXRlZCBzZW1hbnRpYyBiaW5kaW5nc1xyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSUJvdW5kU291cmNlRmlsZSA6IElCb3VuZFNvdXJjZUluZm9cclxuICAgIHtcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBzb3VyY2UgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgSVNvdXJjZUZpbGUgU291cmNlRmlsZSB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElCb3VuZFNvdXJjZUluZm8gOiBJUHJvamVjdEZpbGVTY29wZUVudGl0eVxyXG4gICAge1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG51bWJlciBvZiByZWZlcmVuY2VzIGluIHRoZSBmaWxlXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbQ29lcmNlR2V0KHR5cGVvZihpbnQ/KSldXHJcbiAgICAgICAgaW50IFJlZmVyZW5jZUNvdW50IHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBudW1iZXIgb2YgZGVmaW5pdGlvbnMgaW4gdGhlIGZpbGVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIFtDb2VyY2VHZXQodHlwZW9mKGludD8pKV1cclxuICAgICAgICBpbnQgRGVmaW5pdGlvbkNvdW50IHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBsYW5ndWFnZSBvZiB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyBUT0RPOiBSZW1vdmVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHN0cmluZyBMYW5ndWFnZSB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBSZWZlcmVuY2VzIGZvciB0aGUgZG9jdW1lbnQuIFNvcnRlZC4gTWF5IG92ZXJsYXAuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbUmVhZE9ubHlMaXN0XVxyXG4gICAgICAgIFtTZWFyY2hCZWhhdmlvcihTZWFyY2hCZWhhdmlvci5Ob25lKV1cclxuICAgICAgICBbSW5jbHVkZShPYmplY3RTdGFnZS5BbmFseXNpcyldXHJcbiAgICAgICAgSVJlYWRPbmx5TGlzdDxJUmVmZXJlbmNlU3Bhbj4gUmVmZXJlbmNlcyB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8gVE9ETzogU2hvdWxkIHRoaXMgYmUganVzdCB0aGUgc3ltYm9sXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBEZWZpbml0aW9ucyBmb3IgdGhlIGRvY3VtZW50LiBTb3J0ZWQuIE5vIG92ZXJsYXA/XHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbU2VhcmNoQmVoYXZpb3IoU2VhcmNoQmVoYXZpb3IuTm9uZSldXHJcbiAgICAgICAgSVJlYWRPbmx5TGlzdDxJRGVmaW5pdGlvblNwYW4+IERlZmluaXRpb25zIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIENsYXNzaWZpY2F0aW9ucyBmb3IgdGhlIGRvY3VtZW50LiBTb3J0ZWQgYnkgc3RhcnQgaW5kZXguIE5vIG92ZXJsYXAuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbUmVhZE9ubHlMaXN0XVxyXG4gICAgICAgIFtTZWFyY2hCZWhhdmlvcihTZWFyY2hCZWhhdmlvci5Ob25lKV1cclxuICAgICAgICBbSW5jbHVkZShPYmplY3RTdGFnZS5BbmFseXNpcyldXHJcbiAgICAgICAgSVJlYWRPbmx5TGlzdDxJQ2xhc3NpZmljYXRpb25TcGFuPiBDbGFzc2lmaWNhdGlvbnMgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gT3V0bGluaW5nIHJlZ2lvbnMgZm9yIHRoZSBkb2N1bWVudC4gTWF5IG92ZXJsYXAuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbU2VhcmNoQmVoYXZpb3IoU2VhcmNoQmVoYXZpb3IuTm9uZSldXHJcbiAgICAgICAgSVJlYWRPbmx5TGlzdDxJT3V0bGluaW5nUmVnaW9uPiBPdXRsaW5pbmdSZWdpb25zIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEluZGljYXRlcyB0aGF0IHRoZSBmaWxlIHNob3VsZCBiZSBleGNsdWRlZCBmcm9tIHRleHQgc2VhcmNoXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbU2VhcmNoQmVoYXZpb3IoU2VhcmNoQmVoYXZpb3IuVGVybSldXHJcbiAgICAgICAgYm9vbCBFeGNsdWRlRnJvbVNlYXJjaCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gSW5mb3JtYXRpb24gYWJvdXQgYSBzb3VyY2UgZmlsZSBhcyBkZWZpbmVkIGJ5IHRoZSBzb3VyY2UgY29udHJvbCBwcm92aWRlclxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSVNvdXJjZUNvbnRyb2xGaWxlSW5mb1xyXG4gICAge1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVW5pcXVlIGlkIGZvciB0aGUgc291cmNlIGZpbGUgY29udGVudCBhcyBkZWZpbmVkIGJ5IHRoZSBzb3VyY2UgY29udHJvbCBwcm92aWRlciAoaS5lLiBnaXQgU0hBKVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgW1NlYXJjaEJlaGF2aW9yKFNlYXJjaEJlaGF2aW9yLk5vcm1hbGl6ZWRLZXl3b3JkKV1cclxuICAgICAgICBzdHJpbmcgU291cmNlQ29udHJvbENvbnRlbnRJZCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElTb3VyY2VGaWxlSW5mbyA6IElSZXBvRmlsZVNjb3BlRW50aXR5LCBJU291cmNlQ29udHJvbEZpbGVJbmZvLFxyXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBhbmQgam9pbiBzb3VyY2UgZmlsZXMgYnkgcmVwb3NpdG9yeSByZWxhdGl2ZSBwYXRoIHdpdGggbWFwcGluZyBmcm9tIHJlcG9zaXRvcnkgcmVsYXRpdmUgcGF0aCB0byAocHJvamVjdCwgcHJvamVjdCByZWxhdGl2ZSBwYXRoKVxyXG4gICAgICAgIElQcm9qZWN0RmlsZVNjb3BlRW50aXR5XHJcbiAgICB7XHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgbnVtYmVyIG9mIGxpbmVzIGluIHRoZSBmaWxlXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBpbnQgTGluZXMgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIHNpemUgb2YgdGhlIGZpbGUgaW4gYnl0ZXNcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIGludCBTaXplIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBsYW5ndWFnZSBvZiB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyBUT0RPOiBSZW1vdmVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHN0cmluZyBMYW5ndWFnZSB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgd2ViIGFkZHJlc3Mgb2YgdGhlIGZpbGUuIFRPRE86IFJlbW92ZT8gSXMgcmVwbyByZWxhdGl2ZSBwYXRoIGVub3VnaD9cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIHN0cmluZyBXZWJBZGRyZXNzIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBlbmNvZGluZyB1c2VkIGZvciB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgSUVuY29kaW5nRGVzY3JpcHRpb24gRW5jb2RpbmcgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gRXh0ZW5zaWJsZSBrZXkgdmFsdWUgcHJvcGVydGllcyBmb3IgdGhlIGRvY3VtZW50LlxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgW0luY2x1ZGUoT2JqZWN0U3RhZ2UuQW5hbHlzaXMpXVxyXG4gICAgICAgIElQcm9wZXJ0eU1hcCBQcm9wZXJ0aWVzIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBEZXNjcmliZXMgZW5jb2Rpbmcgc28gdGhhdCBmaWxlIG1heSBiZSByZWNvbnN0aXR1dGVkIGluIGEgYnl0ZS1pZGVudGljYWwgZm9ybVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSUVuY29kaW5nRGVzY3JpcHRpb25cclxuICAgIHtcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSBlbmNvZGluZ1xyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgc3RyaW5nIE5hbWUgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGVuY29kaW5nIHByZWFtYmxlXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBieXRlW10gUHJlYW1ibGUgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIERlZmluZXMgdGV4dCBjb250ZW50cyBvZiBhIGZpbGUgYW5kIGFzc29jaWF0ZWQgZGF0YVxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSVNvdXJjZUZpbGVcclxuICAgIHtcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlIGZpbGVcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIFtTZWFyY2hCZWhhdmlvcihTZWFyY2hCZWhhdmlvci5Ob25lKV1cclxuICAgICAgICBJU291cmNlRmlsZUluZm8gSW5mbyB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgY29udGVudCBvZiB0aGUgZmlsZVxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgW1NlYXJjaEJlaGF2aW9yKFNlYXJjaEJlaGF2aW9yLkZ1bGxUZXh0KV1cclxuICAgICAgICBzdHJpbmcgQ29udGVudCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBJbmRpY2F0ZXMgdGhhdCB0aGUgZmlsZSBzaG91bGQgYmUgZXhjbHVkZWQgZnJvbSB0ZXh0IHNlYXJjaFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgW1NlYXJjaEJlaGF2aW9yKFNlYXJjaEJlaGF2aW9yLlRlcm0pXVxyXG4gICAgICAgIGJvb2wgRXhjbHVkZUZyb21TZWFyY2ggeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJT3V0bGluaW5nUmVnaW9uXHJcbiAgICB7XHJcbiAgICAgICAgc3RyaW5nIEtpbmQgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gRGVmaW5lcyB0aGUgcmVnaW9uIGNvbnRhaW5pbmcgdGhlIGhlYWRlciB0ZXh0IG9mIHRoZSBvdXRsaW5pbmcgcmVnaW9uXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBJTGluZVNwYW4gSGVhZGVyIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIERlZmluZXMgdGhlIHJlZ2lvbiBjb250YWluaW5nIHRoZSBjb2xsYXBzaWJsZSBjb250ZW50IHJlZ2lvbiBvZiB0aGUgb3V0bGluaW5nIHJlZ2lvblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgSUxpbmVTcGFuIENvbnRlbnQgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJRGVmaW5pdGlvblNwYW4gOiBJU3BhblxyXG4gICAge1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGRlZmluaXRpb24gc3ltYm9sIHJlZmVycmVkIHRvIGJ5IHRoZSBzcGFuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBJRGVmaW5pdGlvblN5bWJvbCBEZWZpbml0aW9uIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIEdldHMgdGhlIGRlZmluaXRpb25zIGZvciBwYXJhbWV0ZXJzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbUmVhZE9ubHlMaXN0XVxyXG4gICAgICAgIElSZWFkT25seUxpc3Q8SVBhcmFtZXRlckRlZmluaXRpb25TcGFuPiBQYXJhbWV0ZXJzIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBBIHNwZWNpYWxpemVkIGRlZmluaXRpb24gc3BhbiByZWZlcnJpbmcgdG8gYSBwYXJhbWV0ZXIgb2YgYSBtZXRob2QvcHJvcGVydHlcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElQYXJhbWV0ZXJEZWZpbml0aW9uU3BhbiA6IElMaW5lU3BhblxyXG4gICAge1xyXG4gICAgICAgIC8vIFRPRE86IFRoaXMgaXMgaW4gdGhlb3J5IGltcGxpZWQgZnJvbSB0aGUgb3JkZXJpbmcgaW4gSURlZmluaXRpb25TcGFuLlBhcmFtZXRlcnMuIFNvIG5vIG5lZWRcclxuICAgICAgICAvLyB0byBzZXJpYWxpemUgaWYgaXRzIHRoZSBzYW1lIGFzIHRoZSBpbXBsaWVkIHZhbHVlXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaW5kZXggb2YgdGhlIHBhcmFtZXRlciBpbiB0aGUgbGlzdCBvZiBwYXJhbWV0ZXJzIGZvciB0aGUgbWV0aG9kXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBpbnQgUGFyYW1ldGVySW5kZXggeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIG5hbWUgb2YgdGhlIHBhcmFtZXRlclxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgc3RyaW5nIE5hbWUgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJUmVmZXJlbmNlU3BhbiA6IElTeW1ib2xTcGFuXHJcbiAgICB7XHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBHZXRzIHRoZSBzeW1ib2wgaWQgb2YgdGhlIGRlZmluaXRpb24gd2hpY2ggcHJvdmlkZXMgdGhpcyByZWZlcmVuY2UgXHJcbiAgICAgICAgLy8vIChpLmUuIG1ldGhvZCBkZWZpbml0aW9uIGZvciBpbnRlcmZhY2UgaW1wbGVtZW50YXRpb24pXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBTeW1ib2xJZCBSZWxhdGVkRGVmaW5pdGlvbiB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgcmVmZXJlbmNlIHN5bWJvbCByZWZlcnJlZCB0byBieSB0aGUgc3BhblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgSVJlZmVyZW5jZVN5bWJvbCBSZWZlcmVuY2UgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gR2V0cyB0aGUgcmVmZXJlbmNlcyB0byBwYXJhbWV0ZXJzXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbUmVhZE9ubHlMaXN0XVxyXG4gICAgICAgIElSZWFkT25seUxpc3Q8SVBhcmFtZXRlclJlZmVyZW5jZVNwYW4+IFBhcmFtZXRlcnMgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIEEgc3BlY2lhbGl6ZWQgcmVmZXJlbmNlIHNwYW4gcmVmZXJyaW5nIHRvIGEgcGFyYW1ldGVyIHRvIGEgbWV0aG9kL3Byb3BlcnR5XHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIGludGVyZmFjZSBJUGFyYW1ldGVyUmVmZXJlbmNlU3BhbiA6IElTeW1ib2xTcGFuXHJcbiAgICB7XHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgaW5kZXggb2YgdGhlIHBhcmFtZXRlciBpbiB0aGUgbGlzdCBvZiBwYXJhbWV0ZXJzIGZvciB0aGUgbWV0aG9kXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbU2VhcmNoQmVoYXZpb3IoU2VhcmNoQmVoYXZpb3IuVGVybSldXHJcbiAgICAgICAgaW50IFBhcmFtZXRlckluZGV4IHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBEZWZpbmVzIGEgY2xhc3NpZmllZCBzcGFuIG9mIHRleHRcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElDbGFzc2lmaWNhdGlvblNwYW4gOiBJU3BhblxyXG4gICAge1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGRlZmF1bHQgY2xhc3NpZmljYXRpb24gY29sb3IgZm9yIHRoZSBzcGFuLiBUaGlzIGlzIHVzZWQgZm9yXHJcbiAgICAgICAgLy8vIGNvbnRleHRzIHdoZXJlIGEgbWFwcGluZyBmcm9tIGNsYXNzaWZpY2F0aW9uIGlkIHRvIGNvbG9yIGlzIG5vdFxyXG4gICAgICAgIC8vLyBhdmFpbGFibGUuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBpbnQgRGVmYXVsdENsYXNzaWZpY2F0aW9uQ29sb3IgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGNsYXNzaWZpY2F0aW9uIGlkZW50aWZpZXIgZm9yIHRoZSBzcGFuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBzdHJpbmcgQ2xhc3NpZmljYXRpb24geyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vIFRPRE86IFNob3VsZCBsb2NhbHMgYmUgbW92ZWQgZnJvbSBoZXJlP1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGlkZW50aWZpZXIgdG8gdGhlIGxvY2FsIGdyb3VwIG9mIHNwYW5zIHdoaWNoIHJlZmVyIHRvIHRoZSBzYW1lIGNvbW1vbiBzeW1ib2xcclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIGludCBMb2NhbEdyb3VwSWQgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJU3ltYm9sU3BhbiA6IElUZXh0TGluZVNwYW5cclxuICAgIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElUZXh0TGluZVNwYW4gOiBJTGluZVNwYW5cclxuICAgIHtcclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBsaW5lIHRleHRcclxuICAgICAgICAvLy8gVE9ETzogSXQgd291bGQgYmUgbmljZSB0byBub3Qgc3RvcmUgdGhpcyBoZXJlIGFuZCBpbnN0ZWFkIGFwcGx5IGl0IGFzIGEgam9pblxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgc3RyaW5nIExpbmVTcGFuVGV4dCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElMaW5lU3BhbiA6IElTcGFuXHJcbiAgICB7XHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgMC1iYXNlZCBpbmRleCBvZiB0aGUgbGluZSBjb250YWluaW5nIHRoZSBzcGFuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbSW5jbHVkZShPYmplY3RTdGFnZS5Ob25lKV1cclxuICAgICAgICBbQ29lcmNlR2V0KHR5cGVvZihpbnQ/KSldXHJcbiAgICAgICAgaW50IExpbmVJbmRleCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgICAgIC8vLyBUaGUgMS1iYXNlZCBsaW5lIG51bWJlciBvZiB0aGUgbGluZSBjb250YWluaW5nIHRoZSBzcGFuXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBbQ29lcmNlR2V0KHR5cGVvZihpbnQ/KSldXHJcbiAgICAgICAgaW50IExpbmVOdW1iZXIgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGNoYXJhY3RlciBwb3NpdGlvbiB3aGVyZSB0aGUgc3BhbiBzdGFydHMgaW4gdGhlIGxpbmUgdGV4dFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgaW50IExpbmVTcGFuU3RhcnQgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gSWYgcG9zaXRpdmUsIHRoZSBvZmZzZXQgb2YgdGhlIGxpbmUgc3BhbiBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpbmVcclxuICAgICAgICAvLy8gSWYgbmVnYXRpdmUsIHRoZSBvZmZzZXQgb2YgdGhlIGxpbmVzcGFuIGZyb20gdGhlIGVuZCBvZiB0aGUgbmV4dCBsaW5lXHJcbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cclxuICAgICAgICBpbnQgTGluZU9mZnNldCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIFNwYW5FeHRlbnNpb25zXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBpbnQgTGluZVNwYW5FbmQodGhpcyBJTGluZVNwYW4gbGluZVNwYW4pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gbGluZVNwYW4uTGluZVNwYW5TdGFydCArIGxpbmVTcGFuLkxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaW50IEVuZCh0aGlzIElTcGFuIGxpbmVTcGFuKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxpbmVTcGFuLlN0YXJ0ICsgbGluZVNwYW4uTGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBib29sIFNwYW5FcXVhbHModGhpcyBJU3BhbiBzcGFuLCBJU3BhbiBvdGhlclNwYW4pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoc3BhbiA9PSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzcGFuLlN0YXJ0ID09IG90aGVyU3Bhbi5TdGFydCAmJiBzcGFuLkxlbmd0aCA9PSBvdGhlclNwYW4uTGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBib29sIENvbnRhaW5zKHRoaXMgU3BhbiBzcGFuLCBJU3BhbiBvdGhlclNwYW4pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoc3BhbiA9PSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvdGhlclNwYW4uU3RhcnQgPj0gc3Bhbi5TdGFydCAmJiBvdGhlclNwYW4uRW5kKCkgPD0gc3Bhbi5FbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJU3BhblxyXG4gICAge1xyXG4gICAgICAgIC8vLyA8c3VtbWFyeT5cclxuICAgICAgICAvLy8gVGhlIGFic29sdXRlIGNoYXJhY3RlciBvZmZzZXQgb2YgdGhlIHNwYW4gd2l0aGluIHRoZSBkb2N1bWVudFxyXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAgICAgaW50IFN0YXJ0IHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAgICAgLy8vIFRoZSBsZW5ndGggb2YgdGhlIHNwYW5cclxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgICAgIGludCBMZW5ndGggeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcbn1cclxuIiwidXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLkxpbnE7XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG51c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzO1xyXG51c2luZyBDb2RleC5PYmplY3RNb2RlbDtcclxuXHJcbm5hbWVzcGFjZSBDb2RleC5VdGlsaXRpZXNcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBwYXJ0aWFsIGNsYXNzIENvbGxlY3Rpb25VdGlsaXRpZXNcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgY2xhc3MgRW1wdHk8VD5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTGlzdDxUPiBMaXN0ID0gbmV3IExpc3Q8VD4oMCk7XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFRbXSBBcnJheSA9IG5ldyBUWzBdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJ1c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7XHJcblxyXG5uYW1lc3BhY2UgQ29kZXguVXRpbGl0aWVzXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgU2VyaWFsaXphdGlvblV0aWxpdGllc1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgVCBBc3NpZ25EdXBsaWNhdGU8VD4oVCB2YWx1ZSwgcmVmIFQgbGFzdFZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKEVxdWFsaXR5Q29tcGFyZXI8VD4uRGVmYXVsdC5FcXVhbHModmFsdWUsIGRlZmF1bHQoVCkpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgVCBSZW1vdmVEdXBsaWNhdGU8VD4oVCB2YWx1ZSwgcmVmIFQgbGFzdFZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKEVxdWFsaXR5Q29tcGFyZXI8VD4uRGVmYXVsdC5FcXVhbHModmFsdWUsIGRlZmF1bHQoVCkpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdChUKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsInVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZztcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuVGhyZWFkaW5nO1xyXG4jaWYgQlJJREdFXHJcbnVzaW5nIENvZGV4LlZpZXcuV2ViO1xyXG4jZWxzZVxyXG51c2luZyBDb2RleC5FbGFzdGljU2VhcmNoLlNlYXJjaDtcclxuI2VuZGlmXHJcbm5hbWVzcGFjZSBDb2RleC5WaWV3XHJcbntcclxuICAgIHBhcnRpYWwgY2xhc3MgQXBwXHJcbiAgICB7XHJcblxyXG4gICAgICAgIHB1YmxpYyBBcHAoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU3R5bGVzLkluaXRpYWxpemUoKTtcclxuI2lmIEJSSURHRVxyXG4gICAgICAgICAgICAvLyBUT0RPOiBUaGlzIHNob3VsZCBiZSBjb25maWd1cmFibGUgdGhyb3VnaCBidWlsZCBwcm9wZXJ0aWVzIHNvbWVob3dcclxuICAgICAgICAgICAgQ29kZXhQcm92aWRlci5JbnN0YW5jZSA9IG5ldyBXZWJBcGlDb2RleChcImh0dHA6Ly9sb2NhbGhvc3Q6OTQ5MS9hcGkvY29kZXgvXCIpO1xyXG4jZWxzZVxyXG4gICAgICAgICAgICAvLyBUT0RPOiBUaGlzIHNob3VsZCBiZSBjb25maWd1cmFibGUgdGhyb3VnaCBidWlsZCBwcm9wZXJ0aWVzIHNvbWVob3dcclxuICAgICAgICAgICAgQ29kZXhQcm92aWRlci5JbnN0YW5jZSA9IG5ldyBFbGFzdGljU2VhcmNoQ29kZXgobmV3IEVsYXN0aWNTZWFyY2guRWxhc3RpY1NlYXJjaFN0b3JlQ29uZmlndXJhdGlvbigpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFByZWZpeCA9IFwiYXBwdGVzdFwiXHJcbiAgICAgICAgICAgIH0sIG5ldyBFbGFzdGljU2VhcmNoLkVsYXN0aWNTZWFyY2hTZXJ2aWNlKG5ldyBFbGFzdGljU2VhcmNoLkVsYXN0aWNTZWFyY2hTZXJ2aWNlQ29uZmlndXJhdGlvbihcImh0dHA6Ly9sb2NhbGhvc3Q6OTIwMFwiKSkpO1xyXG4jZW5kaWZcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwidXNpbmcgQ29kZXguT2JqZWN0TW9kZWw7XHJcbnVzaW5nIENvZGV4LlNkay5TZWFyY2g7XHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5PYmplY3RNb2RlbDtcclxudXNpbmcgU3lzdGVtLkNvbXBvbmVudE1vZGVsO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxudXNpbmcgU3lzdGVtLlJ1bnRpbWUuQ29tcGlsZXJTZXJ2aWNlcztcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5JbnB1dDtcclxuXHJcbm5hbWVzcGFjZSBDb2RleC5WaWV3XHJcbntcclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFRleHRTcGFuU2VhcmNoUmVzdWx0Vmlld01vZGVsIDogRmlsZUl0ZW1SZXN1bHRWaWV3TW9kZWxcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgSUNvbW1hbmQgQ29tbWFuZCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgSVRleHRMaW5lU3BhblJlc3VsdCBUZXh0UmVzdWx0O1xyXG4gICAgICAgIHB1YmxpYyBJUmVmZXJlbmNlU2VhcmNoUmVzdWx0IFJlZmVyZW5jZVJlc3VsdDtcclxuICAgICAgICBwdWJsaWMgb2JqZWN0IFNlYXJjaFJlc3VsdCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIGludCBMaW5lTnVtYmVyIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgUHJlZml4VGV4dCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIENvbnRlbnRUZXh0IHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgU3VmZml4VGV4dCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIFRleHRTcGFuU2VhcmNoUmVzdWx0Vmlld01vZGVsKElUZXh0TGluZVNwYW5SZXN1bHQgcmVzdWx0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQ29tbWFuZCA9IENvbW1hbmRzLkdvVG9TcGFuO1xyXG4gICAgICAgICAgICBUZXh0UmVzdWx0ID0gcmVzdWx0O1xyXG4gICAgICAgICAgICBTZWFyY2hSZXN1bHQgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIHZhciByZWZlcnJpbmdTcGFuID0gcmVzdWx0LlRleHRTcGFuO1xyXG4gICAgICAgICAgICBMaW5lTnVtYmVyID0gcmVmZXJyaW5nU3Bhbi5MaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICBzdHJpbmcgbGluZVNwYW5UZXh0ID0gcmVmZXJyaW5nU3Bhbi5MaW5lU3BhblRleHQ7XHJcbiAgICAgICAgICAgIGlmIChsaW5lU3BhblRleHQgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgUHJlZml4VGV4dCA9IGxpbmVTcGFuVGV4dC5TdWJzdHJpbmcoMCwgcmVmZXJyaW5nU3Bhbi5MaW5lU3BhblN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIENvbnRlbnRUZXh0ID0gbGluZVNwYW5UZXh0LlN1YnN0cmluZyhyZWZlcnJpbmdTcGFuLkxpbmVTcGFuU3RhcnQsIHJlZmVycmluZ1NwYW4uTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIFN1ZmZpeFRleHQgPSBsaW5lU3BhblRleHQuU3Vic3RyaW5nKHJlZmVycmluZ1NwYW4uTGluZVNwYW5TdGFydCArIHJlZmVycmluZ1NwYW4uTGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFRleHRTcGFuU2VhcmNoUmVzdWx0Vmlld01vZGVsKElSZWZlcmVuY2VTZWFyY2hSZXN1bHQgcmVzdWx0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQ29tbWFuZCA9IENvbW1hbmRzLkdvVG9SZWZlcmVuY2U7XHJcbiAgICAgICAgICAgIFJlZmVyZW5jZVJlc3VsdCA9IHJlc3VsdDtcclxuICAgICAgICAgICAgU2VhcmNoUmVzdWx0ID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB2YXIgcmVmZXJyaW5nU3BhbiA9IHJlc3VsdC5SZWZlcmVuY2VTcGFuO1xyXG4gICAgICAgICAgICBMaW5lTnVtYmVyID0gcmVmZXJyaW5nU3Bhbi5MaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICBzdHJpbmcgbGluZVNwYW5UZXh0ID0gcmVmZXJyaW5nU3Bhbi5MaW5lU3BhblRleHQ7XHJcbiAgICAgICAgICAgIGlmIChsaW5lU3BhblRleHQgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgUHJlZml4VGV4dCA9IGxpbmVTcGFuVGV4dC5TdWJzdHJpbmcoMCwgcmVmZXJyaW5nU3Bhbi5MaW5lU3BhblN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIENvbnRlbnRUZXh0ID0gbGluZVNwYW5UZXh0LlN1YnN0cmluZyhyZWZlcnJpbmdTcGFuLkxpbmVTcGFuU3RhcnQsIHJlZmVycmluZ1NwYW4uTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIFN1ZmZpeFRleHQgPSBsaW5lU3BhblRleHQuU3Vic3RyaW5nKHJlZmVycmluZ1NwYW4uTGluZVNwYW5TdGFydCArIHJlZmVycmluZ1NwYW4uTGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBQcm9qZWN0SXRlbVJlc3VsdFZpZXdNb2RlbFxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIEZpbGVJdGVtUmVzdWx0Vmlld01vZGVsXHJcbiAgICB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgRmlsZVJlc3VsdHNWaWV3TW9kZWwgOiBQcm9qZWN0SXRlbVJlc3VsdFZpZXdNb2RlbCwgSVJlc3VsdHNTdGF0c1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBDb3VudGVyIENvdW50ZXIgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIHN0cmluZyBQYXRoIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgSVJlYWRPbmx5TGlzdDxGaWxlSXRlbVJlc3VsdFZpZXdNb2RlbD4gSXRlbXMgeyBnZXQ7IHNldDsgfVxyXG5cbiAgICBcbnByaXZhdGUgQ291bnRlciBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fQ291bnRlcj1uZXcgQ291bnRlcigpO31cclxuXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBTeW1ib2xSZXN1bHRWaWV3TW9kZWwgOiBQcm9qZWN0SXRlbVJlc3VsdFZpZXdNb2RlbFxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBJRGVmaW5pdGlvblN5bWJvbCBTeW1ib2wgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIHN0cmluZyBTaG9ydE5hbWUgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRGlzcGxheU5hbWUgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgU3ltYm9sS2luZCB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIHN0cmluZyBQcm9qZWN0SWQgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEltYWdlTW9uaWtlciB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGludCBTb3J0T3JkZXIgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBpbnQgSWRlbnRpZmllckxlbmd0aCB7Z2V0e3JldHVybiBTaG9ydE5hbWUuTGVuZ3RoO319XHJcblxyXG4gICAgICAgIHB1YmxpYyBTeW1ib2xSZXN1bHRWaWV3TW9kZWwoSURlZmluaXRpb25TeW1ib2wgc3ltYm9sKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU3ltYm9sID0gc3ltYm9sO1xyXG4gICAgICAgICAgICBTaG9ydE5hbWUgPSBzeW1ib2wuU2hvcnROYW1lO1xyXG4gICAgICAgICAgICBEaXNwbGF5TmFtZSA9IHN5bWJvbC5EaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgUHJvamVjdElkID0gc3ltYm9sLlByb2plY3RJZDtcclxuICAgICAgICAgICAgU3ltYm9sS2luZCA9IGdsb2JhbDo6QnJpZGdlLlNjcmlwdC5Ub1RlbXAoXCJrZXkxXCIsc3ltYm9sLktpbmQpIT1udWxsP2dsb2JhbDo6QnJpZGdlLlNjcmlwdC5Gcm9tVGVtcDxzdHJpbmc+KFwia2V5MVwiKS5Ub0xvd2VySW52YXJpYW50KCk6KHN0cmluZyludWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBQcm9qZWN0R3JvdXBSZXN1bHRzVmlld01vZGVsIDogSVJlc3VsdHNTdGF0c1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBDb3VudGVyIENvdW50ZXIgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgUHJvamVjdE5hbWUgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBJUmVhZE9ubHlMaXN0PFByb2plY3RJdGVtUmVzdWx0Vmlld01vZGVsPiBJdGVtcyB7IGdldDsgc2V0OyB9XHJcblxuICAgIFxucHJpdmF0ZSBDb3VudGVyIF9fUHJvcGVydHlfX0luaXRpYWxpemVyX19Db3VudGVyPW5ldyBDb3VudGVyKCk7fVxyXG5cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFByb2plY3RSZXN1bHRzVmlld01vZGVsIDogTGVmdFBhbmVDb250ZW50LCBJUmVzdWx0c1N0YXRzXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIENvdW50ZXIgQ291bnRlciB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIExpc3Q8UHJvamVjdEdyb3VwUmVzdWx0c1ZpZXdNb2RlbD4gUHJvamVjdEdyb3VwcyB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0UmVzdWx0c1ZpZXdNb2RlbCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBQcm9qZWN0R3JvdXBzID0gbmV3IExpc3Q8UHJvamVjdEdyb3VwUmVzdWx0c1ZpZXdNb2RlbD4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBQcm9qZWN0UmVzdWx0c1ZpZXdNb2RlbChzdHJpbmcgc2VhcmNoU3RyaW5nLCBJbmRleFF1ZXJ5SGl0c1Jlc3BvbnNlPElTZWFyY2hSZXN1bHQ+IHJlc3BvbnNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgUHJvamVjdEdyb3VwcyA9IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuU2VsZWN0PGdsb2JhbDo6Q29kZXguU2RrLlNlYXJjaC5JU2VhcmNoUmVzdWx0LGdsb2JhbDo6Q29kZXguSURlZmluaXRpb25TeW1ib2w+KHJlc3BvbnNlLlJlc3VsdC5IaXRzLChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6Q29kZXguU2RrLlNlYXJjaC5JU2VhcmNoUmVzdWx0LCBnbG9iYWw6OkNvZGV4LklEZWZpbml0aW9uU3ltYm9sPikoc3IgPT4gc3IuRGVmaW5pdGlvbikpLkdyb3VwQnk8c3RyaW5nPigoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklEZWZpbml0aW9uU3ltYm9sLCBzdHJpbmc+KShzciA9PiBzci5Qcm9qZWN0SWQpKS5TZWxlY3Q8Z2xvYmFsOjpDb2RleC5WaWV3LlByb2plY3RHcm91cFJlc3VsdHNWaWV3TW9kZWw+KChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6U3lzdGVtLkxpbnEuR3JvdXBpbmc8c3RyaW5nLCBnbG9iYWw6OkNvZGV4LklEZWZpbml0aW9uU3ltYm9sPiwgZ2xvYmFsOjpDb2RleC5WaWV3LlByb2plY3RHcm91cFJlc3VsdHNWaWV3TW9kZWw+KShwcm9qZWN0R3JvdXAgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2plY3RDb3VudGVyID0gbmV3IENvdW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb2RleC5WaWV3LlZpZXdVdGlsaXRpZXMuQWRkVG88Z2xvYmFsOjpDb2RleC5WaWV3LlByb2plY3RHcm91cFJlc3VsdHNWaWV3TW9kZWw+KENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5BZGRGcm9tPGdsb2JhbDo6Q29kZXguVmlldy5Qcm9qZWN0R3JvdXBSZXN1bHRzVmlld01vZGVsPihuZXcgUHJvamVjdEdyb3VwUmVzdWx0c1ZpZXdNb2RlbCgpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvamVjdE5hbWUgPSBwcm9qZWN0R3JvdXAuS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIEl0ZW1zID0gcHJvamVjdEdyb3VwLlNlbGVjdDxnbG9iYWw6OkNvZGV4LlZpZXcuU3ltYm9sUmVzdWx0Vmlld01vZGVsPigoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LklEZWZpbml0aW9uU3ltYm9sLCBnbG9iYWw6OkNvZGV4LlZpZXcuU3ltYm9sUmVzdWx0Vmlld01vZGVsPikoc3ltYm9sID0+IENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5JbmNyZW1lbnQ8Z2xvYmFsOjpDb2RleC5WaWV3LlN5bWJvbFJlc3VsdFZpZXdNb2RlbD4obmV3IFN5bWJvbFJlc3VsdFZpZXdNb2RlbChzeW1ib2wpLHByb2plY3RDb3VudGVyKSkpLlRvTGlzdCgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbixwcm9qZWN0Q291bnRlcilcclxuLENvdW50ZXIpO1xyXG4gICAgICAgICAgICB9KSkuVG9MaXN0KCk7XHJcbiAgICAgICAgfVxyXG5cbiAgICBcbnByaXZhdGUgQ291bnRlciBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fQ291bnRlcj1uZXcgQ291bnRlcigpO31cclxuXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBDYXRlZ29yeUdyb3VwU2VhcmNoUmVzdWx0c1ZpZXdNb2RlbCA6IElSZXN1bHRzU3RhdHNcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgQ291bnRlciBDb3VudGVyIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgVmlzaWJpbGl0eSBIZWFkZXJWaXNpYmlsaXR5IHtnZXR7cmV0dXJuIHN0cmluZy5Jc051bGxPckVtcHR5KEhlYWRlcikgPyBWaXNpYmlsaXR5LkNvbGxhcHNlZCA6IFZpc2liaWxpdHkuVmlzaWJsZTt9fVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEhlYWRlciB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIFByb2plY3RSZXN1bHRzVmlld01vZGVsIFByb2plY3RSZXN1bHRzIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIENhdGVnb3J5R3JvdXBTZWFyY2hSZXN1bHRzVmlld01vZGVsKHN0cmluZyBzZWFyY2hTdHJpbmcsIEluZGV4UXVlcnlIaXRzUmVzcG9uc2U8SVNlYXJjaFJlc3VsdD4gcmVzcG9uc2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuUmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgUG9wdWxhdGVQcm9qZWN0R3JvdXBzPGdsb2JhbDo6Q29kZXguU2RrLlNlYXJjaC5JVGV4dExpbmVTcGFuUmVzdWx0PihTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlNlbGVjdDxnbG9iYWw6OkNvZGV4LlNkay5TZWFyY2guSVNlYXJjaFJlc3VsdCxnbG9iYWw6OkNvZGV4LlNkay5TZWFyY2guSVRleHRMaW5lU3BhblJlc3VsdD4ocmVzdWx0LkhpdHMsKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5TZGsuU2VhcmNoLklTZWFyY2hSZXN1bHQsIGdsb2JhbDo6Q29kZXguU2RrLlNlYXJjaC5JVGV4dExpbmVTcGFuUmVzdWx0Pikoc3IgPT4gc3IuVGV4dExpbmUpKSwgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5TZGsuU2VhcmNoLklUZXh0TGluZVNwYW5SZXN1bHQsIGdsb2JhbDo6Q29kZXguVmlldy5UZXh0U3BhblNlYXJjaFJlc3VsdFZpZXdNb2RlbD4pKHNyID0+IG5ldyBUZXh0U3BhblNlYXJjaFJlc3VsdFZpZXdNb2RlbChzcikpKTtcclxuICAgICAgICAgICAgSGVhZGVyID0gc3RyaW5nLkZvcm1hdChcInswfSB0ZXh0IHNlYXJjaCBoaXRzIGZvciAnezF9J1wiLHJlc3VsdC5IaXRzLkNvdW50LHNlYXJjaFN0cmluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgQ2F0ZWdvcnlHcm91cFNlYXJjaFJlc3VsdHNWaWV3TW9kZWwoUmVmZXJlbmNlS2luZCBraW5kLCBzdHJpbmcgc3ltYm9sTmFtZSwgSUVudW1lcmFibGU8SVJlZmVyZW5jZVNlYXJjaFJlc3VsdD4gcmVmZXJlbmNlcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFBvcHVsYXRlUHJvamVjdEdyb3VwczxnbG9iYWw6OkNvZGV4LlNkay5TZWFyY2guSVJlZmVyZW5jZVNlYXJjaFJlc3VsdD4ocmVmZXJlbmNlcywgKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5TZGsuU2VhcmNoLklSZWZlcmVuY2VTZWFyY2hSZXN1bHQsIGdsb2JhbDo6Q29kZXguVmlldy5UZXh0U3BhblNlYXJjaFJlc3VsdFZpZXdNb2RlbD4pKHNyID0+IG5ldyBUZXh0U3BhblNlYXJjaFJlc3VsdFZpZXdNb2RlbChzcikpKTtcclxuICAgICAgICAgICAgSGVhZGVyID0gVmlld1V0aWxpdGllcy5HZXRSZWZlcmVuY2VzSGVhZGVyKGtpbmQsIFN5c3RlbS5MaW5xLkVudW1lcmFibGUuQ291bnQ8Z2xvYmFsOjpDb2RleC5TZGsuU2VhcmNoLklSZWZlcmVuY2VTZWFyY2hSZXN1bHQ+KHJlZmVyZW5jZXMpLCBzeW1ib2xOYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdm9pZCBQb3B1bGF0ZVByb2plY3RHcm91cHM8VD4oSUVudW1lcmFibGU8VD4gaXRlbXMsIEZ1bmM8VCwgVGV4dFNwYW5TZWFyY2hSZXN1bHRWaWV3TW9kZWw+IHZpZXdNb2RlbEZhY3RvcnkpIHdoZXJlIFQgOiBJUHJvamVjdEZpbGVTY29wZUVudGl0eVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgUHJvamVjdFJlc3VsdHMuUHJvamVjdEdyb3Vwcy5BZGRSYW5nZShTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkdyb3VwQnk8VCxzdHJpbmc+KGl0ZW1zLChnbG9iYWw6OlN5c3RlbS5GdW5jPFQsIHN0cmluZz4pKHNyID0+IHNyLlByb2plY3RJZCkpLlNlbGVjdDxnbG9iYWw6OkNvZGV4LlZpZXcuUHJvamVjdEdyb3VwUmVzdWx0c1ZpZXdNb2RlbD4oKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpTeXN0ZW0uTGlucS5Hcm91cGluZzxzdHJpbmcsIFQ+LCBnbG9iYWw6OkNvZGV4LlZpZXcuUHJvamVjdEdyb3VwUmVzdWx0c1ZpZXdNb2RlbD4pKHByb2plY3RHcm91cCA9PiBuZXcgUHJvamVjdEdyb3VwUmVzdWx0c1ZpZXdNb2RlbCgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFByb2plY3ROYW1lID0gcHJvamVjdEdyb3VwLktleSxcclxuICAgICAgICAgICAgICAgIEl0ZW1zID0gcHJvamVjdEdyb3VwLkdyb3VwQnk8c3RyaW5nPigoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxULCBzdHJpbmc+KShzciA9PiBzci5Qcm9qZWN0UmVsYXRpdmVQYXRoKSkuU2VsZWN0PGdsb2JhbDo6Q29kZXguVmlldy5GaWxlUmVzdWx0c1ZpZXdNb2RlbD4oKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpTeXN0ZW0uTGlucS5Hcm91cGluZzxzdHJpbmcsIFQ+LCBnbG9iYWw6OkNvZGV4LlZpZXcuRmlsZVJlc3VsdHNWaWV3TW9kZWw+KShmaWxlR3JvdXAgPT4gQ29kZXguVmlldy5WaWV3VXRpbGl0aWVzLkFkZFRvPGdsb2JhbDo6Q29kZXguVmlldy5GaWxlUmVzdWx0c1ZpZXdNb2RlbD4oQ29kZXguVmlldy5WaWV3VXRpbGl0aWVzLkFkZDxnbG9iYWw6OkNvZGV4LlZpZXcuRmlsZVJlc3VsdHNWaWV3TW9kZWw+KG5ldyBGaWxlUmVzdWx0c1ZpZXdNb2RlbCgpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGF0aCA9IGZpbGVHcm91cC5LZXksXHJcbiAgICAgICAgICAgICAgICAgICAgSXRlbXMgPSBmaWxlR3JvdXAuU2VsZWN0PGdsb2JhbDo6Q29kZXguVmlldy5UZXh0U3BhblNlYXJjaFJlc3VsdFZpZXdNb2RlbD4oKGdsb2JhbDo6U3lzdGVtLkZ1bmM8VCwgZ2xvYmFsOjpDb2RleC5WaWV3LlRleHRTcGFuU2VhcmNoUmVzdWx0Vmlld01vZGVsPikoc3IgPT4gdmlld01vZGVsRmFjdG9yeShzcikpKS5Ub0xpc3QoKVxyXG4gICAgICAgICAgICAgICAgfSwoZ2xvYmFsOjpTeXN0ZW0uRnVuYzxnbG9iYWw6OkNvZGV4LlZpZXcuRmlsZVJlc3VsdHNWaWV3TW9kZWwsIGludD4pKGYgPT4gZi5JdGVtcy5Db3VudCkpLENvdW50ZXIpKSkuVG9MaXN0KClcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICB9XHJcblxuICAgIFxucHJpdmF0ZSBDb3VudGVyIF9fUHJvcGVydHlfX0luaXRpYWxpemVyX19Db3VudGVyPW5ldyBDb3VudGVyKCk7cHJpdmF0ZSBQcm9qZWN0UmVzdWx0c1ZpZXdNb2RlbCBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fUHJvamVjdFJlc3VsdHM9bmV3IFByb2plY3RSZXN1bHRzVmlld01vZGVsKCk7fVxyXG5cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIENhdGVnb3JpemVkU2VhcmNoUmVzdWx0c1ZpZXdNb2RlbCA6IExlZnRQYW5lQ29udGVudCwgSVJlc3VsdHNTdGF0c1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBMaXN0PENhdGVnb3J5R3JvdXBTZWFyY2hSZXN1bHRzVmlld01vZGVsPiBDYXRlZ29yaWVzIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgQ291bnRlciBDb3VudGVyIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgQ2F0ZWdvcml6ZWRTZWFyY2hSZXN1bHRzVmlld01vZGVsKHN0cmluZyBzZWFyY2hTdHJpbmcsIEluZGV4UXVlcnlIaXRzUmVzcG9uc2U8SVNlYXJjaFJlc3VsdD4gcmVzcG9uc2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gZ2xvYmFsOjpCcmlkZ2UuU2NyaXB0LkNhbGxGb3IobmV3IExpc3Q8Q2F0ZWdvcnlHcm91cFNlYXJjaFJlc3VsdHNWaWV3TW9kZWw+KCksKF9vMSk9PntfbzEuQWRkKENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5BZGRUbzxnbG9iYWw6OkNvZGV4LlZpZXcuQ2F0ZWdvcnlHcm91cFNlYXJjaFJlc3VsdHNWaWV3TW9kZWw+KCAgICAgICAgICAgICAgICBuZXcgQ2F0ZWdvcnlHcm91cFNlYXJjaFJlc3VsdHNWaWV3TW9kZWwoc2VhcmNoU3RyaW5nLCByZXNwb25zZSksQ291bnRlcikpO3JldHVybiBfbzE7fSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgQ2F0ZWdvcml6ZWRTZWFyY2hSZXN1bHRzVmlld01vZGVsKHN0cmluZyBzeW1ib2xOYW1lLCBJRW51bWVyYWJsZTxJUmVmZXJlbmNlU2VhcmNoUmVzdWx0PiByZWZlcmVuY2VzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQ2F0ZWdvcmllcyA9IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuR3JvdXBCeTxnbG9iYWw6OkNvZGV4LlNkay5TZWFyY2guSVJlZmVyZW5jZVNlYXJjaFJlc3VsdCxzdHJpbmc+KHJlZmVyZW5jZXMsKGdsb2JhbDo6U3lzdGVtLkZ1bmM8Z2xvYmFsOjpDb2RleC5TZGsuU2VhcmNoLklSZWZlcmVuY2VTZWFyY2hSZXN1bHQsIHN0cmluZz4pKHIgPT4gci5SZWZlcmVuY2VTcGFuLlJlZmVyZW5jZS5SZWZlcmVuY2VLaW5kLlRvTG93ZXIoKSkpLlNlbGVjdDxnbG9iYWw6OkNvZGV4LlZpZXcuQ2F0ZWdvcnlHcm91cFNlYXJjaFJlc3VsdHNWaWV3TW9kZWw+KChnbG9iYWw6OlN5c3RlbS5GdW5jPGdsb2JhbDo6U3lzdGVtLkxpbnEuR3JvdXBpbmc8c3RyaW5nLCBnbG9iYWw6OkNvZGV4LlNkay5TZWFyY2guSVJlZmVyZW5jZVNlYXJjaFJlc3VsdD4sIGdsb2JhbDo6Q29kZXguVmlldy5DYXRlZ29yeUdyb3VwU2VhcmNoUmVzdWx0c1ZpZXdNb2RlbD4pKHJlZmVyZW5jZUdyb3VwID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFJlZmVyZW5jZUtpbmQgcmVmZXJlbmNlS2luZDtcclxuICAgICAgICAgICAgICAgIEVudW0uVHJ5UGFyc2U8Z2xvYmFsOjpDb2RleC5PYmplY3RNb2RlbC5SZWZlcmVuY2VLaW5kPihyZWZlcmVuY2VHcm91cC5LZXksIHRydWUsIG91dCByZWZlcmVuY2VLaW5kKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb2RleC5WaWV3LlZpZXdVdGlsaXRpZXMuQWRkVG88Z2xvYmFsOjpDb2RleC5WaWV3LkNhdGVnb3J5R3JvdXBTZWFyY2hSZXN1bHRzVmlld01vZGVsPihuZXcgQ2F0ZWdvcnlHcm91cFNlYXJjaFJlc3VsdHNWaWV3TW9kZWwocmVmZXJlbmNlS2luZCwgc3ltYm9sTmFtZSwgcmVmZXJlbmNlR3JvdXApLENvdW50ZXIpO1xyXG4gICAgICAgICAgICB9KSkuVG9MaXN0KCk7XHJcbiAgICAgICAgfVxyXG5cbiAgICBcbnByaXZhdGUgQ291bnRlciBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fQ291bnRlcj1uZXcgQ291bnRlcigpO31cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcGFydGlhbCBjbGFzcyBMZWZ0UGFuZUNvbnRlbnRcclxuICAgIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBMZWZ0UGFuZVZpZXdNb2RlbCA6IFBhbmVWaWV3TW9kZWxCYXNlXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIFZpc2liaWxpdHkgU2VhcmNoSW5mb1Zpc2liaWxpdHkge2dldHtyZXR1cm4gIXN0cmluZy5Jc051bGxPckVtcHR5KFNlYXJjaEluZm8pID8gVmlzaWJpbGl0eS5WaXNpYmxlIDogVmlzaWJpbGl0eS5Db2xsYXBzZWQ7fX1cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBTZWFyY2hJbmZvIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIFZpc2liaWxpdHkgQ29udGVudFZpc2liaWxpdHkge2dldHtyZXR1cm4gQ29udGVudCAhPSBudWxsID8gVmlzaWJpbGl0eS5WaXNpYmxlIDogVmlzaWJpbGl0eS5Db2xsYXBzZWQ7fX1cclxuXHJcbiAgICAgICAgcHVibGljIExlZnRQYW5lQ29udGVudCBDb250ZW50IHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyByZWFkb25seSBMZWZ0UGFuZVZpZXdNb2RlbCBJbml0aWFsID0gbmV3IExlZnRQYW5lVmlld01vZGVsKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFNlYXJjaEluZm8gPSBcIkVudGVyIGEgc2VhcmNoIHN0cmluZy4gU3RhcnQgd2l0aCBgIGZvciBmdWxsIHRleHQgc2VhcmNoIHJlc3VsdHMgb25seS5cIlxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTGVmdFBhbmVWaWV3TW9kZWwgRnJvbVJlZmVyZW5jZXNSZXNwb25zZShJbmRleFF1ZXJ5UmVzcG9uc2U8UmVmZXJlbmNlc1Jlc3VsdD4gcmVzcG9uc2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3IgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMZWZ0UGFuZVZpZXdNb2RlbCgpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgU2VhcmNoSW5mbyA9IHJlc3BvbnNlLkVycm9yXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChnbG9iYWw6OkJyaWRnZS5TY3JpcHQuVG9UZW1wKFwia2V5MlwiLHJlc3BvbnNlLlJlc3VsdCkhPW51bGw/Z2xvYmFsOjpCcmlkZ2UuU2NyaXB0LkZyb21UZW1wPFJlZmVyZW5jZXNSZXN1bHQ+KFwia2V5MlwiKS5IaXRzOihMaXN0PElSZWZlcmVuY2VTZWFyY2hSZXN1bHQ+KW51bGwpID09IG51bGwgfHwgcmVzcG9uc2UuUmVzdWx0LkhpdHMuQ291bnQgPT0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMZWZ0UGFuZVZpZXdNb2RlbCgpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgU2VhcmNoSW5mbyA9IHN0cmluZy5Gb3JtYXQoXCJObyByZWZlcmVuY2VzIGZvdW5kLlwiKSAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuUmVzdWx0O1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExlZnRQYW5lVmlld01vZGVsKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgQ29udGVudCA9IG5ldyBDYXRlZ29yaXplZFNlYXJjaFJlc3VsdHNWaWV3TW9kZWwocmVzcG9uc2UuUmVzdWx0LlN5bWJvbERpc3BsYXlOYW1lID8/IHJlc3BvbnNlLlJlc3VsdC5IaXRzWzBdLlJlZmVyZW5jZVNwYW4uUmVmZXJlbmNlLklkLlZhbHVlLCByZXNwb25zZS5SZXN1bHQuSGl0cyksXHJcbiAgICAgICAgICAgICAgICBTZWFyY2hJbmZvID0gbnVsbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBMZWZ0UGFuZVZpZXdNb2RlbCBGcm9tU2VhcmNoUmVzcG9uc2Uoc3RyaW5nIHNlYXJjaFN0cmluZywgSW5kZXhRdWVyeUhpdHNSZXNwb25zZTxJU2VhcmNoUmVzdWx0PiByZXNwb25zZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5FcnJvciAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExlZnRQYW5lVmlld01vZGVsKClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBTZWFyY2hJbmZvID0gcmVzcG9uc2UuRXJyb3JcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKGdsb2JhbDo6QnJpZGdlLlNjcmlwdC5Ub1RlbXAoXCJrZXkzXCIscmVzcG9uc2UuUmVzdWx0KSE9bnVsbD9nbG9iYWw6OkJyaWRnZS5TY3JpcHQuRnJvbVRlbXA8SW5kZXhRdWVyeUhpdHM8SVNlYXJjaFJlc3VsdD4+KFwia2V5M1wiKS5IaXRzOihMaXN0PElTZWFyY2hSZXN1bHQ+KW51bGwpID09IG51bGwgfHwgcmVzcG9uc2UuUmVzdWx0LkhpdHMuQ291bnQgPT0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMZWZ0UGFuZVZpZXdNb2RlbCgpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgU2VhcmNoSW5mbyA9IHN0cmluZy5Gb3JtYXQoXCJObyByZXN1bHRzIGZvdW5kLlwiKSAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuUmVzdWx0O1xyXG4gICAgICAgICAgICBib29sIGlzRGVmaW5pdGlvbnNSZXN1bHQgPSByZXN1bHQuSGl0c1swXS5EZWZpbml0aW9uICE9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGVmdFBhbmVWaWV3TW9kZWwoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBDb250ZW50ID0gaXNEZWZpbml0aW9uc1Jlc3VsdCA/XHJcbiAgICAgICAgICAgICAgICAgICAgKExlZnRQYW5lQ29udGVudCluZXcgUHJvamVjdFJlc3VsdHNWaWV3TW9kZWwoc2VhcmNoU3RyaW5nLCByZXNwb25zZSkgOlxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBDYXRlZ29yaXplZFNlYXJjaFJlc3VsdHNWaWV3TW9kZWwoc2VhcmNoU3RyaW5nLCByZXNwb25zZSksXHJcbiAgICAgICAgICAgICAgICBTZWFyY2hJbmZvID0gaXNEZWZpbml0aW9uc1Jlc3VsdCA/XHJcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5IaXRzLkNvdW50IDwgcmVzdWx0LlRvdGFsID9cclxuc3RyaW5nLkZvcm1hdChcIkRpc3BsYXlpbmcgdG9wIHswfSByZXN1bHRzIG91dCBvZiB7MX06XCIscmVzdWx0LkhpdHMuQ291bnQscmVzdWx0LlRvdGFsKTpcclxuc3RyaW5nLkZvcm1hdChcInswfSByZXN1bHRzIGZvdW5kOlwiLHJlc3VsdC5IaXRzLkNvdW50KSlcclxuICAgICAgICAgICAgICAgICAgICA6IHN0cmluZy5FbXB0eVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXG4gICAgXG5wcml2YXRlIHN0cmluZyBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fU2VhcmNoSW5mbz1udWxsO31cclxuXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBSaWdodFBhbmVWaWV3TW9kZWwgOiBQYW5lVmlld01vZGVsQmFzZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBWaXNpYmlsaXR5IEVycm9yVmlzaWJpbGl0eSB7Z2V0e3JldHVybiAhc3RyaW5nLklzTnVsbE9yRW1wdHkoRXJyb3IpID8gVmlzaWJpbGl0eS5WaXNpYmxlIDogVmlzaWJpbGl0eS5Db2xsYXBzZWQ7fX1cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBFcnJvciB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIFZpc2liaWxpdHkgRWRpdG9yVmlzaWJpbGl0eSB7Z2V0e3JldHVybiBTb3VyY2VGaWxlICE9IG51bGwgPyBWaXNpYmlsaXR5LlZpc2libGUgOiBWaXNpYmlsaXR5LkhpZGRlbjt9fVxyXG5cclxuICAgICAgICBwdWJsaWMgSUJvdW5kU291cmNlRmlsZSBTb3VyY2VGaWxlIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgQmluZGFibGVWYWx1ZTxJTGluZVNwYW4+IFRhcmdldFNwYW4geyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBSaWdodFBhbmVWaWV3TW9kZWwoKVxyXG4gICAgICAgIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBSaWdodFBhbmVWaWV3TW9kZWwoSW5kZXhRdWVyeVJlc3BvbnNlPElCb3VuZFNvdXJjZUZpbGU+IHNvdXJjZUZpbGVSZXNwb25zZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEVycm9yID0gc291cmNlRmlsZVJlc3BvbnNlLkVycm9yO1xyXG4gICAgICAgICAgICBTb3VyY2VGaWxlID0gc291cmNlRmlsZVJlc3BvbnNlLlJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBSaWdodFBhbmVWaWV3TW9kZWwoSW5kZXhRdWVyeVJlc3BvbnNlIHJlc3BvbnNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRXJyb3IgPSByZXNwb25zZS5FcnJvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBSaWdodFBhbmVWaWV3TW9kZWwoSUJvdW5kU291cmNlRmlsZSBzb3VyY2VGaWxlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU291cmNlRmlsZSA9IHNvdXJjZUZpbGU7XHJcbiAgICAgICAgfVxyXG5cbiAgICBcbnByaXZhdGUgQmluZGFibGVWYWx1ZTxJTGluZVNwYW4+IF9fUHJvcGVydHlfX0luaXRpYWxpemVyX19UYXJnZXRTcGFuPW5ldyBCaW5kYWJsZVZhbHVlPElMaW5lU3Bhbj4oKTt9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIEJpbmRhYmxlVmFsdWU8VD4gOiBOb3RpZnlQcm9wZXJ0eUNoYW5nZWRCYXNlXHJcbiAgICB7XHJcbiAgICAgICAgcHJpdmF0ZSBUIHZhbHVlO1xyXG5cclxuICAgICAgICBwdWJsaWMgVCBWYWx1ZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZ2V0XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2V0XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIE9uUHJvcGVydHlDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjbGFzcyBOb3RpZnlQcm9wZXJ0eUNoYW5nZWRCYXNlIDogSU5vdGlmeVByb3BlcnR5Q2hhbmdlZFxyXG4gICAge1xyXG4gICAgICAgIHByb3RlY3RlZCB2b2lkIE9uUHJvcGVydHlDaGFuZ2VkKFtDYWxsZXJNZW1iZXJOYW1lXSBzdHJpbmcgbWVtYmVyTmFtZSA9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eUNoYW5nZWQhPW51bGw/Z2xvYmFsOjpCcmlkZ2UuU2NyaXB0LkZyb21MYW1iZGEoKCk9PnByb3BlcnR5Q2hhbmdlZC5JbnZva2UodGhpcywgbmV3IFByb3BlcnR5Q2hhbmdlZEV2ZW50QXJncyhtZW1iZXJOYW1lKSkpOm51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGV2ZW50IFByb3BlcnR5Q2hhbmdlZEV2ZW50SGFuZGxlciBwcm9wZXJ0eUNoYW5nZWQ7XHJcbiAgICAgICAgcHVibGljIGV2ZW50IFByb3BlcnR5Q2hhbmdlZEV2ZW50SGFuZGxlciBQcm9wZXJ0eUNoYW5nZWRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGFkZFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUNoYW5nZWQgKz0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlbW92ZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUNoYW5nZWQgLT0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIFBhbmVWaWV3TW9kZWxCYXNlIDogTm90aWZ5UHJvcGVydHlDaGFuZ2VkQmFzZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBWaWV3TW9kZWxEYXRhQ29udGV4dCBEYXRhQ29udGV4dCB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBQYW5lVmlld01vZGVsQmFzZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdmlydHVhbCB2b2lkIEluaXRpYWxpemUoKSB7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIElSZXN1bHRzU3RhdHNcclxuICAgIHtcclxuICAgICAgICBDb3VudGVyIENvdW50ZXIgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIENvdW50ZXJcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgQ291bnRlciBQYXJlbnQ7XHJcbiAgICAgICAgcHVibGljIGludCBDb3VudDtcclxuXHJcbiAgICAgICAgcHVibGljIENvdW50ZXIgQ3JlYXRlQ2hpbGQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb3VudGVyKCkgeyBQYXJlbnQgPSB0aGlzIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBJbmNyZW1lbnQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQ291bnQrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB2b2lkIEFkZChpbnQgdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBDb3VudCA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xhc3MgVmlld01vZGVsRGF0YUNvbnRleHQgOiBOb3RpZnlQcm9wZXJ0eUNoYW5nZWRCYXNlXHJcbiAgICB7XHJcbiAgICAgICAgcHJpdmF0ZSBMZWZ0UGFuZVZpZXdNb2RlbCBsZWZ0UGFuZTtcclxuXHJcbiAgICAgICAgcHVibGljIExlZnRQYW5lVmlld01vZGVsIExlZnRQYW5lXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnRQYW5lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGVmdFBhbmUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIE9uUHJvcGVydHlDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgUmlnaHRQYW5lVmlld01vZGVsIHJpZ2h0UGFuZSA9IG5ldyBSaWdodFBhbmVWaWV3TW9kZWwoKTtcclxuXHJcbiAgICAgICAgcHVibGljIFJpZ2h0UGFuZVZpZXdNb2RlbCBSaWdodFBhbmVcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdldFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmlnaHRQYW5lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmlnaHRQYW5lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBPblByb3BlcnR5Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBJbml0aWFsaXplKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIExlZnRQYW5lID0gTGVmdFBhbmVWaWV3TW9kZWwuSW5pdGlhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwidXNpbmcgQ29kZXguU2RrLlNlYXJjaDtcclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLlJ1bnRpbWUuQ29tcGlsZXJTZXJ2aWNlcztcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5Db250cm9scztcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuSW5wdXQ7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLk1lZGlhO1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXdcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBjbGFzcyBDb21tYW5kc1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVHlwZWRSb3V0ZWRDb21hbW5kPElSZWZlcmVuY2VTeW1ib2w+IEdvVG9EZWZpbml0aW9uID0gQ3JlYXRlQ29tbWFuZDxJUmVmZXJlbmNlU3ltYm9sPigpO1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVHlwZWRSb3V0ZWRDb21hbW5kPElUZXh0TGluZVNwYW5SZXN1bHQ+IEdvVG9TcGFuID0gQ3JlYXRlQ29tbWFuZDxJVGV4dExpbmVTcGFuUmVzdWx0PigpO1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVHlwZWRSb3V0ZWRDb21hbW5kPElSZWZlcmVuY2VTZWFyY2hSZXN1bHQ+IEdvVG9SZWZlcmVuY2UgPSBDcmVhdGVDb21tYW5kPElSZWZlcmVuY2VTZWFyY2hSZXN1bHQ+KCk7XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFR5cGVkUm91dGVkQ29tYW1uZDxUPiBDcmVhdGVDb21tYW5kPFQ+KFtDYWxsZXJNZW1iZXJOYW1lXSBzdHJpbmcgbmFtZSA9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFR5cGVkUm91dGVkQ29tYW1uZDxUPihuYW1lLCB0eXBlb2YoQ29tbWFuZHMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGFzcyBUeXBlZFJvdXRlZENvbWFtbmQ8VD4gOiBSb3V0ZWRDb21tYW5kXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIFR5cGVkUm91dGVkQ29tYW1uZChzdHJpbmcgbmFtZSwgVHlwZSBvd25lclR5cGUpIFxyXG4gICAgICAgICAgICA6IGJhc2UobmFtZSwgb3duZXJUeXBlKVxyXG4gICAgICAgIHtcclxuICAgICAgICB9XHJcbiNpZiBCUklER0VcclxuICAgICAgICBwdWJsaWMgdm9pZCBSYWlzZUV4ZWN1dGVkKFVJRWxlbWVudCBlbGVtZW50LCBUIHBhcmFtZXRlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuUmFpc2VFdmVudChuZXcgRXhlY3V0ZWRSb3V0ZWRFdmVudEFyZ3ModGhpcywgcGFyYW1ldGVyLCBlbGVtZW50KSk7XHJcbiAgICAgICAgfVxyXG4jZW5kaWZcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xhc3MgR29Ub0RlZmluaXRpb25Db21tYW5kQmluZGluZyA6IFR5cGVkQ29tbWFuZEJpbmRpbmc8SVJlZmVyZW5jZVN5bWJvbD5cclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgR29Ub0RlZmluaXRpb25Db21tYW5kQmluZGluZygpIDogYmFzZShDb21tYW5kcy5Hb1RvRGVmaW5pdGlvbikgeyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIEdvVG9TcGFuQ29tbWFuZEJpbmRpbmcgOiBUeXBlZENvbW1hbmRCaW5kaW5nPElUZXh0TGluZVNwYW5SZXN1bHQ+XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIEdvVG9TcGFuQ29tbWFuZEJpbmRpbmcoKSA6IGJhc2UoQ29tbWFuZHMuR29Ub1NwYW4pIHsgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGFzcyBHb1RvUmVmZXJlbmNlQ29tbWFuZEJpbmRpbmcgOiBUeXBlZENvbW1hbmRCaW5kaW5nPElSZWZlcmVuY2VTZWFyY2hSZXN1bHQ+XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIEdvVG9SZWZlcmVuY2VDb21tYW5kQmluZGluZygpIDogYmFzZShDb21tYW5kcy5Hb1RvUmVmZXJlbmNlKSB7IH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgVHlwZWRDb21tYW5kQmluZGluZzxUPiA6IENvbW1hbmRCaW5kaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIGV2ZW50IFR5cGVkRXhlY3V0ZWRSb3V0ZWRFdmVudEhhbmRsZXI8VD4gQ29tbWFuZEV4ZWN1dGVkO1xyXG5cclxuICAgICAgICBwdWJsaWMgVHlwZWRDb21tYW5kQmluZGluZyhUeXBlZFJvdXRlZENvbWFtbmQ8VD4gY29tbWFuZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIENvbW1hbmQgPSBjb21tYW5kO1xyXG4gICAgICAgICAgICBiYXNlLkV4ZWN1dGVkICs9IFR5cGVkQ29tbWFuZEJpbmRpbmdfRXhlY3V0ZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgVHlwZWRDb21tYW5kQmluZGluZ19FeGVjdXRlZChvYmplY3Qgc2VuZGVyLCBFeGVjdXRlZFJvdXRlZEV2ZW50QXJncyBlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHBhcmFtZXRlciA9IGUuUGFyYW1ldGVyO1xyXG4gICAgICAgICAgICB2YXIgdHlwZWRQYXJhbWV0ZXIgPSAoVClwYXJhbWV0ZXI7XHJcbiAgICAgICAgICAgIENvbW1hbmRFeGVjdXRlZCE9bnVsbD9nbG9iYWw6OkJyaWRnZS5TY3JpcHQuRnJvbUxhbWJkYSgoKT0+Q29tbWFuZEV4ZWN1dGVkLkludm9rZSh0eXBlZFBhcmFtZXRlcikpOm51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWxlZ2F0ZSB2b2lkIFR5cGVkRXhlY3V0ZWRSb3V0ZWRFdmVudEhhbmRsZXI8VD4oVCBwYXJhbWV0ZXIpO1xyXG59XHJcbiIsInVzaW5nIFN5c3RlbS5XaW5kb3dzO1xyXG51c2luZyBCcmlkZ2U7XHJcbnVzaW5nIEJyaWRnZS5IdG1sNTtcclxudXNpbmcgTW9uYWNvO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5NZWRpYTtcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuVGhyZWFkaW5nO1xyXG51c2luZyBHcmFudWxhci5Ib3N0O1xyXG51c2luZyBHcmFudWxhci5Ib3N0LlJlbmRlcjtcclxuXHJcbm5hbWVzcGFjZSBDb2RleC5WaWV3XHJcbntcclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIEVkaXRvckhvc3RDb250cm9sIDogRnJhbWV3b3JrRWxlbWVudCwgSUh0bWxSZW5kZXJFbGVtZW50SG9zdFxyXG4gICAge1xyXG4gICAgICAgIHByaXZhdGUgSFRNTEVsZW1lbnQgbV9odG1sRWxlbWVudDtcclxuICAgICAgICBwcml2YXRlIG1vbmFjby5lZGl0b3IuSVN0YW5kYWxvbmVDb2RlRWRpdG9yIG1fZWRpdG9yO1xyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIG1fdGV4dCA9IFwiSGVsbG8gV29ybGRcIjtcclxuXHJcbiAgICAgICAgcHVibGljIGFzeW5jIHZvaWQgU2V0UmVuZGVyRWxlbWVudChIVE1MRWxlbWVudCBodG1sRWxlbWVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG1faHRtbEVsZW1lbnQgPSBodG1sRWxlbWVudDtcclxuICAgICAgICAgICAgbV9lZGl0b3IgPSBhd2FpdCBFZGl0b3IuQ3JlYXRlKGh0bWxFbGVtZW50LCBuZXcgRWRpdG9yQ29uc3RydWN0aW9uT3B0aW9ucygpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gbV90ZXh0LFxyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2UgPSBcInRleHRcIixcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5ID0gdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuVmlzdWFsSXNIaXRUZXN0VmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIFZpc3VhbEJhY2tncm91bmQgPSBCcnVzaGVzLlRyYW5zcGFyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG92ZXJyaWRlIFNpemUgQXJyYW5nZU92ZXJyaWRlKFNpemUgZmluYWxTaXplKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTaXplID0gVmlzdWFsQm91bmRzLlNpemU7XHJcbiAgICAgICAgICAgIGZpbmFsU2l6ZSA9IGJhc2UuQXJyYW5nZU92ZXJyaWRlKGZpbmFsU2l6ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRTaXplLklzQ2xvc2UoZmluYWxTaXplKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1fZWRpdG9yICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgVmlld1V0aWxpdGllcy5SZW5kZXJRdWV1ZS5JbnZva2VBc3luYygoZ2xvYmFsOjpTeXN0ZW0uQWN0aW9uKSgoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbV9lZGl0b3IubGF5b3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmluYWxTaXplO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFydGlhbCB2b2lkIE9uU291cmNlRmlsZUNoYW5nZWQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbV90ZXh0ID0gKGdsb2JhbDo6QnJpZGdlLlNjcmlwdC5Ub1RlbXAoXCJrZXkxXCIsU291cmNlRmlsZSkhPW51bGw/Z2xvYmFsOjpCcmlkZ2UuU2NyaXB0LkZyb21UZW1wPElCb3VuZFNvdXJjZUZpbGU+KFwia2V5MVwiKS5Tb3VyY2VGaWxlLkNvbnRlbnQ6KHN0cmluZyludWxsKSA/PyBzdHJpbmcuRW1wdHk7XHJcbiAgICAgICAgICAgIG1fZWRpdG9yLnNldFZhbHVlKG1fdGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsInVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxudXNpbmcgU3lzdGVtLldpbmRvd3M7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLk1hcmt1cDtcclxuI2lmIEdSQU5VTEFSXHJcbnVzaW5nIElTZXJ2aWNlUHJvdmlkZXIgPSBTeXN0ZW0uV2luZG93cy5NYXJrdXAuSW5pdGlhbGl6ZUNvbnRleHQ7XHJcbiNlbmRpZlxyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXdcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBjbGFzcyBHcmFudWxhckV4dGVuc2lvbnNcclxuICAgIHtcclxuI2lmIEdSQU5VTEFSXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBJUHJvcGVydHlQYXRoRWxlbWVudCBBc1RyaWdnZXJQcm9wZXJ0eSh0aGlzIERlcGVuZGVuY3lQcm9wZXJ0eSBkZXBlbmRlbmN5UHJvcGVydHkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERlcGVuZGVuY3lQcm9wZXJ0eVBhdGhFbGVtZW50KGRlcGVuZGVuY3lQcm9wZXJ0eSk7XHJcbiAgICAgICAgfVxyXG4jZWxzZVxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRGVwZW5kZW5jeVByb3BlcnR5IEFzVHJpZ2dlclByb3BlcnR5KHRoaXMgRGVwZW5kZW5jeVByb3BlcnR5IGRlcGVuZGVuY3lQcm9wZXJ0eSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZXBlbmRlbmN5UHJvcGVydHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vcHVibGljIHN0YXRpYyBUeXBlIEdldE1hcmt1cFRhcmdldFR5cGUodGhpcyBJU2VydmljZVByb3ZpZGVyIHByb3ZpZGVyKVxyXG4gICAgICAgIC8ve1xyXG4gICAgICAgIC8vICAgIHZhciB0YXJnZXRQcm92aWRlciA9IChJUHJvdmlkZVZhbHVlVGFyZ2V0KXByb3ZpZGVyLkdldFNlcnZpY2UodHlwZW9mKCkpXHJcbiAgICAgICAgLy99XHJcbiNlbmRpZlxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIFRyaWdnZXIgV2l0aFNldHRlcnModGhpcyBUcmlnZ2VyIHRyaWdnZXIsIHBhcmFtcyBTZXR0ZXJbXSBzZXR0ZXJzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yZWFjaCAodmFyIHNldHRlciBpbiBzZXR0ZXJzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyLlNldHRlcnMuQWRkKHNldHRlcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJ1c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5Db250cm9scztcclxudXNpbmcgQnJpZGdlLkh0bWw1O1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5NZWRpYTtcclxudXNpbmcgR3JhbnVsYXIuSG9zdC5SZW5kZXI7XHJcbnVzaW5nIENvZGV4LlZpZXcuV2ViO1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXdcclxue1xyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgSHRtbENvbnRlbnRWaWV3IDogRnJhbWV3b3JrRWxlbWVudCwgSUh0bWxSZW5kZXJFbGVtZW50SG9zdFxyXG4gICAge1xyXG4gICAgICAgIHByaXZhdGUgSFRNTEVsZW1lbnQgbV9odG1sRWxlbWVudDtcclxuICAgICAgICBwcml2YXRlIEhUTUxEaXZFbGVtZW50IG1fY2hpbGRyZW5Ib3N0O1xyXG5cclxuICAgICAgICBwdWJsaWMgSUh0bWxDb250ZW50IENvbnRlbnRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdldCB7IHJldHVybiAoSUh0bWxDb250ZW50KUdldFZhbHVlKENvbnRlbnRQcm9wZXJ0eSk7IH1cclxuICAgICAgICAgICAgc2V0IHsgU2V0VmFsdWUoQ29udGVudFByb3BlcnR5LCB2YWx1ZSk7IH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRGVwZW5kZW5jeVByb3BlcnR5IENvbnRlbnRQcm9wZXJ0eSA9IFZpZXdVdGlsaXRpZXMuUmVnaXN0ZXJEZXBlbmRlbmN5UHJvcGVydHk8SHRtbENvbnRlbnRWaWV3LCBJSHRtbENvbnRlbnQ+KFxyXG4gICAgICAgICAgICBcIkNvbnRlbnRQcm9wZXJ0eVwiLFxyXG4oZ2xvYmFsOjpTeXN0ZW0uQWN0aW9uPGdsb2JhbDo6Q29kZXguVmlldy5IdG1sQ29udGVudFZpZXcsIGdsb2JhbDo6Q29kZXguVmlldy5XZWIuSUh0bWxDb250ZW50PikoICAgICAgICAgICAgKHZpZXcsIGNvbnRlbnQpID0+IHZpZXcuT25Db250ZW50Q2hhbmdlZChjb250ZW50KSkpO1xyXG5cclxuICAgICAgICBwdWJsaWMgSHRtbENvbnRlbnRWaWV3KClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFZlcnRpY2FsQWxpZ25tZW50ID0gVmVydGljYWxBbGlnbm1lbnQuU3RyZXRjaDtcclxuICAgICAgICAgICAgdGhpcy5WaXN1YWxJc0hpdFRlc3RWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgVmlzdWFsQmFja2dyb3VuZCA9IEJydXNoZXMuVHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBTZXRSZW5kZXJFbGVtZW50KEhUTUxFbGVtZW50IGh0bWxFbGVtZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbV9odG1sRWxlbWVudCA9IGh0bWxFbGVtZW50O1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5TdHlsZS5PdmVyZmxvd1ggPSBPdmVyZmxvdy5BdXRvO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5TdHlsZS5PdmVyZmxvd1kgPSBPdmVyZmxvdy5BdXRvO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1fY2hpbGRyZW5Ib3N0ICE9IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG1faHRtbEVsZW1lbnQuQXBwZW5kQ2hpbGQobV9jaGlsZHJlbkhvc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgT25Db250ZW50Q2hhbmdlZChJSHRtbENvbnRlbnQgY29udGVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFZpZXdVdGlsaXRpZXMuUmVuZGVyUXVldWUuSW52b2tlQXN5bmMoKGdsb2JhbDo6U3lzdGVtLkFjdGlvbikoKCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9sZENoaWxkcmVuSG9zdCA9IG1fY2hpbGRyZW5Ib3N0O1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkcmVuSG9zdCA9IG5ldyBIVE1MRGl2RWxlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgbV9jaGlsZHJlbkhvc3QgPSBuZXdDaGlsZHJlbkhvc3Q7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50IT1udWxsP2dsb2JhbDo6QnJpZGdlLlNjcmlwdC5Gcm9tTGFtYmRhKCgpPT5jb250ZW50LlJlbmRlcihuZXdDaGlsZHJlbkhvc3QsIG5ldyBSZW5kZXJDb250ZXh0KHRoaXMpKSk6bnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob2xkQ2hpbGRyZW5Ib3N0ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbV9odG1sRWxlbWVudCE9bnVsbD9tX2h0bWxFbGVtZW50LlJlcGxhY2VDaGlsZChuZXdDaGlsZHJlbkhvc3QsIG9sZENoaWxkcmVuSG9zdCk6KE5vZGUpbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBtX2h0bWxFbGVtZW50IT1udWxsP21faHRtbEVsZW1lbnQuQXBwZW5kQ2hpbGQobmV3Q2hpbGRyZW5Ib3N0KTooTm9kZSludWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsInVzaW5nIEJyaWRnZS5IdG1sNTtcclxudXNpbmcgQ29kZXguVmlldy5XZWI7XHJcbnVzaW5nIEdyYW51bGFyLkhvc3Q7XHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLldpbmRvd3M7XHJcbnVzaW5nIFZpc2liaWxpdHkgPSBTeXN0ZW0uV2luZG93cy5WaXNpYmlsaXR5O1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXdcclxue1xyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgUmlnaHRQYW5lVmlld01vZGVsXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIExhenk8U291cmNlRmlsZURldGFpbHNWaWV3TW9kZWw+IFNvdXJjZUZpbGVEZXRhaWxzIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgTGF6eTxPdmVydmlld1ZpZXdNb2RlbD4gT3ZlcnZpZXcgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBWaXNpYmlsaXR5IE92ZXJ2aWV3VmlzaWJpbGl0eSB7Z2V0e3JldHVybiBDb2RleC5WaWV3LlZpZXdVdGlsaXRpZXMuQm9vbFZpc2liaWxpdHkoT3ZlcnZpZXcuVmFsdWUgIT0gbnVsbCk7fX1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG92ZXJyaWRlIHZvaWQgSW5pdGlhbGl6ZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTb3VyY2VGaWxlRGV0YWlscyA9IG5ldyBMYXp5PFNvdXJjZUZpbGVEZXRhaWxzVmlld01vZGVsPigoKSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoU291cmNlRmlsZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU291cmNlRmlsZURldGFpbHNWaWV3TW9kZWwoU291cmNlRmlsZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgT3ZlcnZpZXcgPSBuZXcgTGF6eTxPdmVydmlld1ZpZXdNb2RlbD4oKCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKFNvdXJjZUZpbGUgPT0gbnVsbCAmJiBFcnJvciA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgT3ZlcnZpZXdWaWV3TW9kZWwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGFzcyBPdmVydmlld1ZpZXdNb2RlbCA6IElIdG1sQ29udGVudFxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBhc3luYyB2b2lkIFJlbmRlcihIVE1MRWxlbWVudCBwYXJlbnRFbGVtZW50LCBSZW5kZXJDb250ZXh0IGNvbnRleHQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgb3ZlcnZpZXdIdG1sID0gYXdhaXQgUmVxdWVzdC5HZXRUZXh0QXN5bmMoXCJvdmVydmlldy5odG1sXCIpO1xyXG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LklubmVySFRNTCA9IG92ZXJ2aWV3SHRtbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIFNvdXJjZUZpbGVEZXRhaWxzVmlld01vZGVsIDogSUh0bWxDb250ZW50XHJcbiAgICB7XHJcbiAgICAgICAgcHJpdmF0ZSBJQm91bmRTb3VyY2VGaWxlIHNvdXJjZUZpbGU7XHJcblxyXG4gICAgICAgIHB1YmxpYyBTb3VyY2VGaWxlRGV0YWlsc1ZpZXdNb2RlbChJQm91bmRTb3VyY2VGaWxlIHNvdXJjZUZpbGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZUZpbGUgPSBzb3VyY2VGaWxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZvaWQgUmVuZGVyKEhUTUxFbGVtZW50IHBhcmVudEVsZW1lbnQsIFJlbmRlckNvbnRleHQgY29udGV4dClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciB0YWJsZSA9IG5ldyBIVE1MVGFibGVFbGVtZW50KCkgeyBJZCA9IFwiYm90dG9tUGFuZVwiLCBDbGFzc05hbWUgPSBcImRIXCIgfTtcclxuICAgICAgICAgICAgdGFibGUuU3R5bGUuV2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgdmFyIHJvdzAgPSB0YWJsZS5JbnNlcnRSb3coKTtcclxuICAgICAgICAgICAgdmFyIGNlbGwwMCA9IHJvdzAuSW5zZXJ0Q2VsbCgpO1xyXG4gICAgICAgICAgICBjZWxsMDAuQXBwZW5kQ2hpbGQobmV3IFRleHQoXCJGaWxlOlwiICsgQ29kZXguVmlldy5XZWIuSHRtbEJ1aWxkZXIuTkJTUCkpO1xyXG4gICAgICAgICAgICBjZWxsMDAuQXBwZW5kQ2hpbGQobmV3IEhUTUxBbmNob3JFbGVtZW50KClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgSWQgPSBcImZpbGVQYXRoTGlua1wiLFxyXG4gICAgICAgICAgICAgICAgQ2xhc3NOYW1lID0gXCJibHVlTGlua1wiLFxyXG4gICAgICAgICAgICAgICAgSHJlZiA9IHN0cmluZy5Gb3JtYXQoXCIvP2xlZnRQcm9qZWN0PXswfSZmaWxlPXsxfVwiLHNvdXJjZUZpbGUuUHJvamVjdElkLHNvdXJjZUZpbGUuUHJvamVjdFJlbGF0aXZlUGF0aCksXHJcbiAgICAgICAgICAgICAgICBUYXJnZXQgPSBcIl9ibGFua1wiLFxyXG4gICAgICAgICAgICAgICAgVGl0bGUgPSBcIkNsaWNrIHRvIG9wZW4gZmlsZSBpbiBhIG5ldyB0YWJcIixcclxuICAgICAgICAgICAgICAgIFRleHRDb250ZW50ID0gc291cmNlRmlsZS5Qcm9qZWN0UmVsYXRpdmVQYXRoXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNlbGwwMSA9IHJvdzAuSW5zZXJ0Q2VsbCgpO1xyXG4gICAgICAgICAgICBjZWxsMDEuU2V0SHRtbFRleHRBbGlnbm1lbnQoVGV4dEFsaWdubWVudC5SaWdodCwgQ29kZXguVmlldy5XZWIuSHRtbEJ1aWxkZXIuQ29udmVydGVyKTtcclxuICAgICAgICAgICAgY2VsbDAxLkFwcGVuZENoaWxkKENvZGV4LlZpZXcuV2ViLkh0bWxCdWlsZGVyLlRleHQoc291cmNlRmlsZS5SZXBvUmVsYXRpdmVQYXRoKSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcm93MSA9IHRhYmxlLkluc2VydFJvdygpO1xyXG4gICAgICAgICAgICB2YXIgY2VsbDEwID0gcm93MS5JbnNlcnRDZWxsKCk7XHJcbiAgICAgICAgICAgIGNlbGwxMC5BcHBlbmRDaGlsZChDb2RleC5WaWV3LldlYi5IdG1sQnVpbGRlci5UZXh0KFwiUHJvamVjdDpcIiArIENvZGV4LlZpZXcuV2ViLkh0bWxCdWlsZGVyLk5CU1ApKTtcclxuICAgICAgICAgICAgY2VsbDEwLkFwcGVuZENoaWxkKG5ldyBIVE1MQW5jaG9yRWxlbWVudCgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIElkID0gXCJwcm9qZWN0RXhwbG9yZXJMaW5rXCIsXHJcbiAgICAgICAgICAgICAgICBDbGFzc05hbWUgPSBcImJsdWVMaW5rXCIsXHJcbiAgICAgICAgICAgICAgICBIcmVmID0gc3RyaW5nLkZvcm1hdChcIi8/bGVmdFByb2plY3Q9ezB9XCIsc291cmNlRmlsZS5Qcm9qZWN0SWQpLFxyXG4gICAgICAgICAgICAgICAgVGl0bGUgPSBcIkNsaWNrIHRvIG9wZW4gaW4gcHJvamVjdCBleHBsb3JlclwiLFxyXG4gICAgICAgICAgICAgICAgVGV4dENvbnRlbnQgPSBzb3VyY2VGaWxlLlByb2plY3RJZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcGFyZW50RWxlbWVudC5BcHBlbmRDaGlsZCh0YWJsZSk7XHJcblxyXG4gICAgICAgICAgICAvL2NlbGwwMC5BcHBlbmRDaGlsZChUZXh0KE5CU1AgKyBcIihcIikpO1xyXG4gICAgICAgICAgICAvL2NlbGwwMC5BcHBlbmRDaGlsZChuZXcgSFRNTEFuY2hvckVsZW1lbnQoKVxyXG4gICAgICAgICAgICAvL3tcclxuICAgICAgICAgICAgLy8gICAgSWQgPSBcImZpbGVQYXRoTGlua1wiLFxyXG4gICAgICAgICAgICAvLyAgICBDbGFzc05hbWUgPSBcImJsdWVMaW5rXCIsXHJcbiAgICAgICAgICAgIC8vICAgIEhyZWYgPSAkXCIvZG93bmxvYWQvXCIsXHJcbiAgICAgICAgICAgIC8vICAgIFRhcmdldCA9IFwiX2JsYW5rXCIsXHJcbiAgICAgICAgICAgIC8vICAgIFRpdGxlID0gXCJDbGljayB0byBvcGVuIGZpbGUgaW4gYSBuZXcgdGFiXCIsXHJcbiAgICAgICAgICAgIC8vICAgIFRleHRDb250ZW50ID0gc291cmNlRmlsZS5Qcm9qZWN0UmVsYXRpdmVQYXRoXHJcbiAgICAgICAgICAgIC8vfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGFzcyBMYXp5PFQ+XHJcbiAgICB7XHJcbiAgICAgICAgcHJpdmF0ZSBGdW5jPFQ+IG1fdmFsdWVGYWN0b3J5O1xyXG4gICAgICAgIHByaXZhdGUgVCB2YWx1ZTtcclxuICAgICAgICBwdWJsaWMgVCBWYWx1ZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZ2V0XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChtX3ZhbHVlRmFjdG9yeSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbV92YWx1ZUZhY3RvcnkoKTtcclxuICAgICAgICAgICAgICAgICAgICBtX3ZhbHVlRmFjdG9yeSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgTGF6eShGdW5jPFQ+IHZhbHVlRmFjdG9yeSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG1fdmFsdWVGYWN0b3J5ID0gdmFsdWVGYWN0b3J5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJ1c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5Db250cm9scztcclxudXNpbmcgQnJpZGdlLkh0bWw1O1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5NZWRpYTtcclxudXNpbmcgR3JhbnVsYXIuSG9zdC5SZW5kZXI7XHJcbnVzaW5nIENvZGV4LlZpZXcuV2ViO1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXdcclxue1xyXG4jaWYgIU5BVElWRV9SRU5ERVJfSFRNTFxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgTGVmdFBhbmVDb250ZW50VmlldyA6IENvbnRlbnRDb250cm9sXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHZvaWQgUmVuZGVyQ29udGVudChMZWZ0UGFuZVZpZXcgdmlldywgTGVmdFBhbmVDb250ZW50IHZpZXdNb2RlbClcclxuICAgICAgICB7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4jZWxzZVxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgTGVmdFBhbmVDb250ZW50VmlldyA6IEZyYW1ld29ya0VsZW1lbnQsIElIdG1sUmVuZGVyRWxlbWVudEhvc3RcclxuICAgIHtcclxuICAgICAgICBwcml2YXRlIEhUTUxFbGVtZW50IG1faHRtbEVsZW1lbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBIVE1MRGl2RWxlbWVudCBtX2NoaWxkcmVuSG9zdDtcclxuXHJcbiAgICAgICAgcHVibGljIExlZnRQYW5lQ29udGVudCBDb250ZW50XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZXQgeyByZXR1cm4gKExlZnRQYW5lQ29udGVudClHZXRWYWx1ZShDb250ZW50UHJvcGVydHkpOyB9XHJcbiAgICAgICAgICAgIHNldCB7IFNldFZhbHVlKENvbnRlbnRQcm9wZXJ0eSwgdmFsdWUpOyB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERlcGVuZGVuY3lQcm9wZXJ0eSBDb250ZW50UHJvcGVydHkgPSBWaWV3VXRpbGl0aWVzLlJlZ2lzdGVyRGVwZW5kZW5jeVByb3BlcnR5PExlZnRQYW5lQ29udGVudFZpZXcsIExlZnRQYW5lQ29udGVudD4oXCJDb250ZW50UHJvcGVydHlcIik7XHJcblxyXG4gICAgICAgIHB1YmxpYyBMZWZ0UGFuZUNvbnRlbnRWaWV3KClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFZlcnRpY2FsQWxpZ25tZW50ID0gVmVydGljYWxBbGlnbm1lbnQuU3RyZXRjaDtcclxuICAgICAgICAgICAgdGhpcy5WaXN1YWxJc0hpdFRlc3RWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgVmlzdWFsQmFja2dyb3VuZCA9IEJydXNoZXMuVHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIE9uQ29udGVudENoYW5nZWQoSUh0bWxDb250ZW50IGNvbnRlbnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB2b2lkIFNldFJlbmRlckVsZW1lbnQoSFRNTEVsZW1lbnQgaHRtbEVsZW1lbnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBtX2h0bWxFbGVtZW50ID0gaHRtbEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChtX2NoaWxkcmVuSG9zdCAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtX2h0bWxFbGVtZW50LkFwcGVuZENoaWxkKG1fY2hpbGRyZW5Ib3N0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZvaWQgUmVuZGVyQ29udGVudChMZWZ0UGFuZVZpZXcgdmlldywgTGVmdFBhbmVDb250ZW50IHZpZXdNb2RlbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFZpZXdVdGlsaXRpZXMuUmVuZGVyUXVldWUuSW52b2tlQXN5bmMoKCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9sZENoaWxkcmVuSG9zdCA9IG1fY2hpbGRyZW5Ib3N0O1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkcmVuSG9zdCA9IG5ldyBIVE1MRGl2RWxlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgbV9jaGlsZHJlbkhvc3QgPSBuZXdDaGlsZHJlbkhvc3Q7XHJcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWw/LlJlbmRlcih2aWV3LCBtX2NoaWxkcmVuSG9zdCk7XHJcbiAgICAgICAgICAgICAgICAvL21faHRtbEVsZW1lbnQ/LkFwcGVuZENoaWxkKG1fY2hpbGRyZW5Ib3N0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob2xkQ2hpbGRyZW5Ib3N0ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbV9odG1sRWxlbWVudD8uUmVwbGFjZUNoaWxkKG5ld0NoaWxkcmVuSG9zdCwgb2xkQ2hpbGRyZW5Ib3N0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBtX2h0bWxFbGVtZW50Py5BcHBlbmRDaGlsZChuZXdDaGlsZHJlbkhvc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiNlbmRpZlxyXG59XHJcbiIsInVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLldpbmRvd3M7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLkNvbnRyb2xzO1xyXG51c2luZyBCcmlkZ2UuSHRtbDU7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLk1lZGlhO1xyXG51c2luZyBHcmFudWxhci5Ib3N0LlJlbmRlcjtcclxudXNpbmcgR3JhbnVsYXIuRXh0ZW5zaW9ucztcclxuXHJcbm5hbWVzcGFjZSBDb2RleC5WaWV3XHJcbntcclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIExlZnRQYW5lVmlldyA6IElIdG1sUmVuZGVyRWxlbWVudEhvc3RcclxuICAgIHtcclxuICAgICAgICBwcml2YXRlIEhUTUxFbGVtZW50IG1faHRtbEVsZW1lbnQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIHZvaWQgU2V0UmVuZGVyRWxlbWVudChIVE1MRWxlbWVudCBodG1sRWxlbWVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG1faHRtbEVsZW1lbnQgPSBodG1sRWxlbWVudDtcclxuICAgICAgICAgICAgVmlzdWFsQmFja2dyb3VuZCA9IEJydXNoZXMuVHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgIFZpc3VhbElzSGl0VGVzdFZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5TdHlsZS5PdmVyZmxvd1ggPSBPdmVyZmxvdy5BdXRvO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5TdHlsZS5PdmVyZmxvd1kgPSBPdmVyZmxvdy5BdXRvO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgT3ZlcmZsb3cgR2V0T3ZlcmZsb3coZG91YmxlIGF2YWlsYWJsZSwgaW50IGFjdHVhbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChhdmFpbGFibGUuSXNDbG9zZShhY3R1YWwpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT3ZlcmZsb3cuSGlkZGVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE92ZXJmbG93LkF1dG87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvdmVycmlkZSBTaXplIEFycmFuZ2VPdmVycmlkZShTaXplIGZpbmFsU2l6ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBodG1sRWxlbWVudCA9IG1faHRtbEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChodG1sRWxlbWVudCAhPSBudWxsICYmIGh0bWxFbGVtZW50LkNsaWVudFdpZHRoICE9IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFZpZXdVdGlsaXRpZXMuUmVuZGVyUXVldWUuSW52b2tlQXN5bmMoKGdsb2JhbDo6U3lzdGVtLkFjdGlvbikoKCkgPT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5TdHlsZS5PdmVyZmxvd1ggPSBHZXRPdmVyZmxvdyhmaW5hbFNpemUuV2lkdGgsIGh0bWxFbGVtZW50LlNjcm9sbFdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5TdHlsZS5PdmVyZmxvd1kgPSBHZXRPdmVyZmxvdyhmaW5hbFNpemUuSGVpZ2h0LCBodG1sRWxlbWVudC5TY3JvbGxIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYmFzZS5BcnJhbmdlT3ZlcnJpZGUoZmluYWxTaXplKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwidXNpbmcgQ29kZXguT2JqZWN0TW9kZWw7XHJcbnVzaW5nIENvZGV4LlNkay5TZWFyY2g7XHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZztcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxudXNpbmcgU3lzdGVtLldpbmRvd3M7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLkNvbnRyb2xzO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5EYXRhO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5Eb2N1bWVudHM7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLklucHV0O1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5NZWRpYTtcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuTWVkaWEuSW1hZ2luZztcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuTmF2aWdhdGlvbjtcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuU2hhcGVzO1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXdcclxue1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIEludGVyYWN0aW9uIGxvZ2ljIGZvciBNYWluV2luZG93LnhhbWxcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBNYWluV2luZG93IDogV2luZG93XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIElDb2RleCBDb2RleFNlcnZpY2UgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgVmlld01vZGVsRGF0YUNvbnRleHQgVmlld01vZGVsID0gbmV3IFZpZXdNb2RlbERhdGFDb250ZXh0KCk7XHJcblxyXG4gICAgICAgIHB1YmxpYyBNYWluV2luZG93KClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemVDb21wb25lbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5EYXRhQ29udGV4dCA9IFZpZXdNb2RlbDtcclxuICAgICAgICAgICAgVmlld01vZGVsLkluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgU2VhcmNoQm94LlRleHQgPSBcInRkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgR3JpZF9Mb2FkZWQob2JqZWN0IHNlbmRlciwgUm91dGVkRXZlbnRBcmdzIGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZShcIkdyaWRfTG9hZGVkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGFzeW5jIHZvaWQgU2VhcmNoVGV4dENoYW5nZWQob2JqZWN0IHNlbmRlciwgVGV4dENoYW5nZWRFdmVudEFyZ3MgZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2hTdHJpbmcgPSBTZWFyY2hCb3guVGV4dDtcclxuICAgICAgICAgICAgc2VhcmNoU3RyaW5nID0gc2VhcmNoU3RyaW5nLlRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hTdHJpbmcgPT0gXCJhc3NcIilcclxuICAgICAgICAgICAge1xyXG4jaWYgIUJSSURHRVxyXG4gICAgICAgICAgICAgICAgLy9VSVRyYWNlLlN0YXJ0KCk7XHJcbiNlbmRpZlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4jaWYgIUJSSURHRVxyXG4gICAgICAgICAgICAgICAgLy9VSVRyYWNlLlN0b3AoKTtcclxuI2VuZGlmXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hTdHJpbmcuTGVuZ3RoIDwgMylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgVmlld01vZGVsLkxlZnRQYW5lID0gbmV3IExlZnRQYW5lVmlld01vZGVsKClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBTZWFyY2hJbmZvID0gXCJFbnRlciBhdCBsZWFzdCAzIGNoYXJhY3RlcnMuXCJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGF3YWl0IENvZGV4U2VydmljZS5TZWFyY2hBc3luYyhuZXcgU2VhcmNoQXJndW1lbnRzKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgU2VhcmNoU3RyaW5nID0gc2VhcmNoU3RyaW5nXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgVmlld01vZGVsLkxlZnRQYW5lID0gTGVmdFBhbmVWaWV3TW9kZWwuRnJvbVNlYXJjaFJlc3BvbnNlKHNlYXJjaFN0cmluZywgcmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGFzeW5jIHZvaWQgR29Ub1NwYW5FeGVjdXRlZChJVGV4dExpbmVTcGFuUmVzdWx0IGxpbmVTcGFuKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHNvdXJjZUZpbGVSZXNwb25zZSA9IGF3YWl0IENvZGV4U2VydmljZS5HZXRTb3VyY2VBc3luYyhuZXcgR2V0U291cmNlQXJndW1lbnRzKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgUHJvamVjdElkID0gbGluZVNwYW4uUHJvamVjdElkLFxyXG4gICAgICAgICAgICAgICAgUHJvamVjdFJlbGF0aXZlUGF0aCA9IGxpbmVTcGFuLlByb2plY3RSZWxhdGl2ZVBhdGgsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgVmlld01vZGVsLlJpZ2h0UGFuZSA9IG5ldyBSaWdodFBhbmVWaWV3TW9kZWwoc291cmNlRmlsZVJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBhc3luYyB2b2lkIEdvVG9SZWZlcmVuY2VFeGVjdXRlZChJUmVmZXJlbmNlU2VhcmNoUmVzdWx0IHJlZmVyZW5jZVJlc3VsdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBzb3VyY2VGaWxlUmVzcG9uc2UgPSBhd2FpdCBDb2RleFNlcnZpY2UuR2V0U291cmNlQXN5bmMobmV3IEdldFNvdXJjZUFyZ3VtZW50cygpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFByb2plY3RJZCA9IHJlZmVyZW5jZVJlc3VsdC5Qcm9qZWN0SWQsXHJcbiAgICAgICAgICAgICAgICBQcm9qZWN0UmVsYXRpdmVQYXRoID0gcmVmZXJlbmNlUmVzdWx0LlByb2plY3RSZWxhdGl2ZVBhdGgsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgVmlld01vZGVsLlJpZ2h0UGFuZSA9IG5ldyBSaWdodFBhbmVWaWV3TW9kZWwoc291cmNlRmlsZVJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBhc3luYyB2b2lkIEZpbmRBbGxSZWZlcmVuY2VzRXhlY3V0ZWQoSVJlZmVyZW5jZVN5bWJvbCBzeW1ib2wpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBhd2FpdCBDb2RleFNlcnZpY2UuRmluZEFsbFJlZmVyZW5jZXNBc3luYyhuZXcgRmluZEFsbFJlZmVyZW5jZXNBcmd1bWVudHMoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBQcm9qZWN0SWQgPSBzeW1ib2wuUHJvamVjdElkLFxyXG4gICAgICAgICAgICAgICAgU3ltYm9sSWQgPSBzeW1ib2wuSWQuVmFsdWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgVmlld01vZGVsLkxlZnRQYW5lID0gTGVmdFBhbmVWaWV3TW9kZWwuRnJvbVJlZmVyZW5jZXNSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYXN5bmMgdm9pZCBHb1RvRGVmaW5pdGlvbkV4ZWN1dGVkKElSZWZlcmVuY2VTeW1ib2wgc3ltYm9sKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gYXdhaXQgQ29kZXhTZXJ2aWNlLkZpbmREZWZpbml0aW9uTG9jYXRpb25Bc3luYyhuZXcgRmluZERlZmluaXRpb25Mb2NhdGlvbkFyZ3VtZW50cygpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFByb2plY3RJZCA9IHN5bWJvbC5Qcm9qZWN0SWQsXHJcbiAgICAgICAgICAgICAgICBTeW1ib2xJZCA9IHN5bWJvbC5JZC5WYWx1ZSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3IgIT0gbnVsbCB8fCByZXNwb25zZS5SZXN1bHQuSGl0cy5Db3VudCA9PSAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBWaWV3TW9kZWwuUmlnaHRQYW5lID0gbmV3IFJpZ2h0UGFuZVZpZXdNb2RlbChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuUmVzdWx0LkhpdHMuQ291bnQgPiAxIHx8IHJlc3BvbnNlLlJlc3VsdC5IaXRzWzBdLlJlZmVyZW5jZVNwYW4uUmVmZXJlbmNlLlJlZmVyZW5jZUtpbmQgIT0gXCJEZWZpbml0aW9uXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIFNob3cgZGVmaW5pdGlvbnMgaW4gbGVmdCBwYW5lXHJcbiAgICAgICAgICAgICAgICBWaWV3TW9kZWwuTGVmdFBhbmUgPSBMZWZ0UGFuZVZpZXdNb2RlbC5Gcm9tUmVmZXJlbmNlc1Jlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIElSZWZlcmVuY2VTZWFyY2hSZXN1bHQgcmVmZXJlbmNlID0gcmVzcG9uc2UuUmVzdWx0LkhpdHNbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlRmlsZVJlc3BvbnNlID0gYXdhaXQgQ29kZXhTZXJ2aWNlLkdldFNvdXJjZUFzeW5jKG5ldyBHZXRTb3VyY2VBcmd1bWVudHMoKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2plY3RJZCA9IHJlZmVyZW5jZS5Qcm9qZWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgUHJvamVjdFJlbGF0aXZlUGF0aCA9IHJlZmVyZW5jZS5Qcm9qZWN0UmVsYXRpdmVQYXRoLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgVmlld01vZGVsLlJpZ2h0UGFuZSA9IG5ldyBSaWdodFBhbmVWaWV3TW9kZWwoc291cmNlRmlsZVJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGFzeW5jIHZvaWQgVXBkYXRlUmlnaHRQYW5lKEZ1bmM8VGFzazxSaWdodFBhbmVWaWV3TW9kZWw+PiBnZXRWaWV3TW9kZWwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcmlnaHRWaWV3TW9kZWwgPSBhd2FpdCBnZXRWaWV3TW9kZWwoKTtcclxuICAgICAgICAgICAgVmlld01vZGVsLlJpZ2h0UGFuZSA9IHJpZ2h0Vmlld01vZGVsO1xyXG4gICAgICAgIH1cclxuXG4gICAgXG5wcml2YXRlIElDb2RleCBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fQ29kZXhTZXJ2aWNlPUNvZGV4UHJvdmlkZXIuSW5zdGFuY2U7fVxyXG59XHJcbiIsInVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxudXNpbmcgU3lzdGVtLldpbmRvd3M7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLkNvbnRyb2xzO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5EYXRhO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5Eb2N1bWVudHM7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLklucHV0O1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5NZWRpYTtcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuTWVkaWEuSW1hZ2luZztcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuTmF2aWdhdGlvbjtcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuU2hhcGVzO1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXdcclxue1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIEludGVyYWN0aW9uIGxvZ2ljIGZvciBSaWdodFBhbmVWaWV3LnhhbWxcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBSaWdodFBhbmVWaWV3IDogVXNlckNvbnRyb2xcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgUmlnaHRQYW5lVmlldygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBJbml0aWFsaXplQ29tcG9uZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsInVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG51c2luZyBTeXN0ZW0uV2luZG93cztcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuQ29udHJvbHM7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLk1lZGlhO1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXdcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBjbGFzcyBTdHlsZXNcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIGJvb2wgR2V0SXNNb3VzZU92ZXJIZWFkZXIoRGVwZW5kZW5jeU9iamVjdCBvYmopXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gKGJvb2wpb2JqLkdldFZhbHVlKElzTW91c2VPdmVySGVhZGVyUHJvcGVydHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyB2b2lkIFNldElzTW91c2VPdmVySGVhZGVyKERlcGVuZGVuY3lPYmplY3Qgb2JqLCBib29sIHZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgb2JqLlNldFZhbHVlKElzTW91c2VPdmVySGVhZGVyUHJvcGVydHksIHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVzaW5nIGEgRGVwZW5kZW5jeVByb3BlcnR5IGFzIHRoZSBiYWNraW5nIHN0b3JlIGZvciBJc01vdXNlT3ZlckhlYWRlci4gIFRoaXMgZW5hYmxlcyBhbmltYXRpb24sIHN0eWxpbmcsIGJpbmRpbmcsIGV0Yy4uLlxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRGVwZW5kZW5jeVByb3BlcnR5IElzTW91c2VPdmVySGVhZGVyUHJvcGVydHkgPVxyXG4gICAgICAgICAgICBEZXBlbmRlbmN5UHJvcGVydHkuUmVnaXN0ZXJBdHRhY2hlZChcIklzTW91c2VPdmVySGVhZGVyXCIsIHR5cGVvZihib29sKSwgdHlwZW9mKFN0eWxlcyksIG5ldyBQcm9wZXJ0eU1ldGFkYXRhKGZhbHNlKSk7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgT3JpZW50YXRpb24gR2V0SGVhZGVyT3JpZW50YXRpb24oRGVwZW5kZW5jeU9iamVjdCBvYmopXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gKE9yaWVudGF0aW9uKW9iai5HZXRWYWx1ZShIZWFkZXJPcmllbnRhdGlvblByb3BlcnR5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBTZXRIZWFkZXJPcmllbnRhdGlvbihEZXBlbmRlbmN5T2JqZWN0IG9iaiwgT3JpZW50YXRpb24gdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBvYmouU2V0VmFsdWUoSGVhZGVyT3JpZW50YXRpb25Qcm9wZXJ0eSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXNpbmcgYSBEZXBlbmRlbmN5UHJvcGVydHkgYXMgdGhlIGJhY2tpbmcgc3RvcmUgZm9yIEhlYWRlck9yaWVudGF0aW9uLiAgVGhpcyBlbmFibGVzIGFuaW1hdGlvbiwgc3R5bGluZywgYmluZGluZywgZXRjLi4uXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyByZWFkb25seSBEZXBlbmRlbmN5UHJvcGVydHkgSGVhZGVyT3JpZW50YXRpb25Qcm9wZXJ0eSA9XHJcbiAgICAgICAgICAgIERlcGVuZGVuY3lQcm9wZXJ0eS5SZWdpc3RlckF0dGFjaGVkKFwiSGVhZGVyT3JpZW50YXRpb25cIiwgdHlwZW9mKE9yaWVudGF0aW9uKSwgdHlwZW9mKFN0eWxlcyksIG5ldyBQcm9wZXJ0eU1ldGFkYXRhKE9yaWVudGF0aW9uLkhvcml6b250YWwpKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyB2b2lkIEluaXRpYWxpemUoKVxyXG4gICAgICAgIHtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwidXNpbmcgQnJpZGdlLkh0bWw1O1xyXG51c2luZyBDb2RleC5PYmplY3RNb2RlbDtcclxudXNpbmcgR3JhbnVsYXIuSG9zdDtcclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLlJ1bnRpbWUuQ29tcGlsZXJTZXJ2aWNlcztcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzO1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXdcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBwYXJ0aWFsIGNsYXNzIFZpZXdVdGlsaXRpZXNcclxuICAgIHtcclxuICAgICAgICBpbnRlcm5hbCBzdGF0aWMgUmVuZGVyUXVldWUgUmVuZGVyUXVldWUgPSBuZXcgUmVuZGVyUXVldWUoKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBUIFdpdGhPbkNsaWNrPFQ+KHRoaXMgVCBlbGVtZW50LCBBY3Rpb24gYWN0aW9uKVxyXG4gICAgICAgICAgICB3aGVyZSBUIDogSFRNTEVsZW1lbnRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuT25DbGljayA9IGUgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZS5QcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZS5TdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgVCBXaXRoQ2hpbGQ8VD4odGhpcyBUIGVsZW1lbnQsIE5vZGUgY2hpbGQpXHJcbiAgICAgICAgICAgIHdoZXJlIFQgOiBIVE1MRWxlbWVudFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZWxlbWVudC5BcHBlbmRDaGlsZChjaGlsZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBUIFdpdGhUZXh0PFQ+KHRoaXMgVCBlbGVtZW50LCBzdHJpbmcgdGV4dClcclxuICAgICAgICAgICAgd2hlcmUgVCA6IEhUTUxFbGVtZW50XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBlbGVtZW50LlRleHRDb250ZW50ID0gdGV4dDtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHZvaWQgVG9nZ2xlRXhwYW5kQ29sbGFwc2UoTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4gYXJnKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGhlYWRlckVsZW1lbnQgPSBhcmcuQ3VycmVudFRhcmdldDtcclxuICAgICAgICAgICAgdmFyIGNvbGxhcHNpYmxlID0gaGVhZGVyRWxlbWVudC5OZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgICAgIGlmICgoRGlzcGxheSljb2xsYXBzaWJsZS5TdHlsZS5EaXNwbGF5ID09IERpc3BsYXkuTm9uZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29sbGFwc2libGUuU3R5bGUuRGlzcGxheSA9IERpc3BsYXkuQmxvY2s7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJFbGVtZW50LlNldEJhY2tncm91bmRJY29uKFwibWludXNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb2xsYXBzaWJsZS5TdHlsZS5EaXNwbGF5ID0gRGlzcGxheS5Ob25lO1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyRWxlbWVudC5TZXRCYWNrZ3JvdW5kSWNvbihcInBsdXNcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGFyZy5QcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBhcmcuU3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIEhUTUxFbGVtZW50IFNldEJhY2tncm91bmRJY29uKHRoaXMgSFRNTEVsZW1lbnQgZWxlbWVudCwgc3RyaW5nIGltYWdlTmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuU3R5bGUuQmFja2dyb3VuZEltYWdlID0gR2V0SWNvblBhdGgoaW1hZ2VOYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBHZXRJY29uUGF0aChzdHJpbmcgaW1hZ2VOYW1lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5Gb3JtYXQoXCJjb250ZW50L2ljb25zL3swfS5wbmdcIixpbWFnZU5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBIVE1MRGl2RWxlbWVudCBSZW5kZXJIZWFkZXJlZENvbnRlbnQoSFRNTEVsZW1lbnQgcGFyZW50RWxlbWVudCwgc3RyaW5nIGhlYWRlckNsYXNzLCBzdHJpbmcgaGVhZGVyVGV4dCwgc3RyaW5nIGNvbnRlbnRDbGFzcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIEhlYWRlclxyXG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LkFwcGVuZENoaWxkKG5ldyBIVE1MRGl2RWxlbWVudCgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIENsYXNzTmFtZSA9IGhlYWRlckNsYXNzLFxyXG4gICAgICAgICAgICAgICAgT25DbGljayA9IFZpZXdVdGlsaXRpZXMuVG9nZ2xlRXhwYW5kQ29sbGFwc2UsXHJcbiAgICAgICAgICAgICAgICBUZXh0Q29udGVudCA9IGhlYWRlclRleHRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDb250ZW50XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50RWxlbWVudCA9IG5ldyBIVE1MRGl2RWxlbWVudCgpIHsgQ2xhc3NOYW1lID0gY29udGVudENsYXNzIH07XHJcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuQXBwZW5kQ2hpbGQoY29udGVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudEVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGJvb2wgRW5kc1dpdGgodGhpcyBzdHJpbmcgcywgc3RyaW5nIHZhbHVlLCBTdHJpbmdDb21wYXJpc29uIGNvbXBhcmlzb24pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgc3VmZml4U3RhcnRJbmRleCA9IHMuTGVuZ3RoIC0gdmFsdWUuTGVuZ3RoO1xyXG4gICAgICAgICAgICByZXR1cm4gcy5JbmRleE9mKHZhbHVlLCBzdWZmaXhTdGFydEluZGV4LCAxLCBjb21wYXJpc29uKSA9PSBzdWZmaXhTdGFydEluZGV4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBzdHJpbmcgR2V0RmlsZU5hbWVHbHlwaChzdHJpbmcgZmlsZU5hbWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoZmlsZU5hbWUuRW5kc1dpdGgoXCIuY3NcIiwgU3RyaW5nQ29tcGFyaXNvbi5PcmRpbmFsSWdub3JlQ2FzZSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImNzaGFycFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGZpbGVOYW1lLkVuZHNXaXRoKFwiLnZiXCIsIFN0cmluZ0NvbXBhcmlzb24uT3JkaW5hbElnbm9yZUNhc2UpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ2YlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGZpbGVOYW1lLkVuZHNXaXRoKFwiLnRzXCIsIFN0cmluZ0NvbXBhcmlzb24uT3JkaW5hbElnbm9yZUNhc2UpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJUeXBlU2NyaXB0XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZmlsZU5hbWUuRW5kc1dpdGgoXCIueGFtbFwiLCBTdHJpbmdDb21wYXJpc29uLk9yZGluYWxJZ25vcmVDYXNlKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwieGFtbFwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gXCIyMTJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIEdldEdseXBoKHRoaXMgSURlZmluaXRpb25TeW1ib2wgcywgc3RyaW5nIGZpbGVQYXRoID0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBnbHlwaCA9IHMuR2x5cGg7XHJcbiAgICAgICAgICAgIGlmIChnbHlwaCAhPSBHbHlwaC5Vbmtub3duKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2x5cGguR2V0R2x5cGhOdW1iZXIoKS5Ub1N0cmluZygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXN0cmluZy5Jc051bGxPckVtcHR5KGZpbGVQYXRoKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0cmluZy5FcXVhbHMocy5LaW5kLCBcIkZpbGVcIiwgU3RyaW5nQ29tcGFyaXNvbi5PcmRpbmFsSWdub3JlQ2FzZSkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEdldEZpbGVOYW1lR2x5cGgoZmlsZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gXCIwXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG4iLCJ1c2luZyBCcmlkZ2UuSHRtbDU7XHJcbnVzaW5nIEdyYW51bGFyLkhvc3Q7XHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxuXHJcbm5hbWVzcGFjZSBDb2RleC5WaWV3LldlYlxyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEh0bWxCdWlsZGVyXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyByZWFkb25seSBzdHJpbmcgTkJTUCA9ICgoY2hhcikxNjApLlRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSHRtbFZhbHVlQ29udmVydGVyIENvbnZlcnRlciA9IG5ldyBIdG1sVmFsdWVDb252ZXJ0ZXIoKTtcclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBIdG1sTm9kZTxIVE1MRGl2RWxlbWVudD4gRGl2KHBhcmFtcyBJSHRtbE1vZGlmaWVyPEhUTUxEaXZFbGVtZW50PltdIG1vZGlmaWVycylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gbmV3IEhUTUxEaXZFbGVtZW50KCk7XHJcbkNvZGV4LlZpZXcuV2ViLkh0bWxCdWlsZGVyLkFwcGx5PGdsb2JhbDo6QnJpZGdlLkh0bWw1LkhUTUxEaXZFbGVtZW50PiggICAgICAgICAgICBlbGVtZW50LG1vZGlmaWVycyk7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBIdG1sTm9kZTxIVE1MQW5jaG9yRWxlbWVudD4gQW5jaG9yKHBhcmFtcyBJSHRtbE1vZGlmaWVyPEhUTUxBbmNob3JFbGVtZW50PltdIG1vZGlmaWVycylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gbmV3IEhUTUxBbmNob3JFbGVtZW50KCk7XHJcbkNvZGV4LlZpZXcuV2ViLkh0bWxCdWlsZGVyLkFwcGx5PGdsb2JhbDo6QnJpZGdlLkh0bWw1LkhUTUxBbmNob3JFbGVtZW50PiggICAgICAgICAgICBlbGVtZW50LG1vZGlmaWVycyk7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBIdG1sTm9kZTxUZXh0PiBUZXh0KHN0cmluZyB2YWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIElIdG1sTW9kaWZpZXI8SFRNTEFuY2hvckVsZW1lbnQ+IFRhcmdldChzdHJpbmcgdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gQ3JlYXRlPEhUTUxBbmNob3JFbGVtZW50PigoZ2xvYmFsOjpTeXN0ZW0uQWN0aW9uPGdsb2JhbDo6QnJpZGdlLkh0bWw1LkhUTUxBbmNob3JFbGVtZW50PikoZSA9PiBlLlRhcmdldCA9IHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIElIdG1sTW9kaWZpZXI8SFRNTEFuY2hvckVsZW1lbnQ+IEhyZWYoc3RyaW5nIHZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIENyZWF0ZTxIVE1MQW5jaG9yRWxlbWVudD4oKGdsb2JhbDo6U3lzdGVtLkFjdGlvbjxnbG9iYWw6OkJyaWRnZS5IdG1sNS5IVE1MQW5jaG9yRWxlbWVudD4pKGUgPT4gZS5IcmVmID0gdmFsdWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSUh0bWxNb2RpZmllcjxIVE1MRWxlbWVudD4gVGl0bGUoc3RyaW5nIHZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIENyZWF0ZTxIVE1MRWxlbWVudD4oKGdsb2JhbDo6U3lzdGVtLkFjdGlvbjxnbG9iYWw6OkJyaWRnZS5IdG1sNS5IVE1MRWxlbWVudD4pKGUgPT4gZS5UaXRsZSA9IHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIElIdG1sTW9kaWZpZXI8SFRNTEVsZW1lbnQ+IENsYXNzKHN0cmluZyB2YWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBDcmVhdGU8SFRNTEVsZW1lbnQ+KChnbG9iYWw6OlN5c3RlbS5BY3Rpb248Z2xvYmFsOjpCcmlkZ2UuSHRtbDUuSFRNTEVsZW1lbnQ+KShlID0+IGUuQ2xhc3NOYW1lID0gdmFsdWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSUh0bWxNb2RpZmllcjxIVE1MRWxlbWVudD4gSWQoc3RyaW5nIHZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIENyZWF0ZTxIVE1MRWxlbWVudD4oKGdsb2JhbDo6U3lzdGVtLkFjdGlvbjxnbG9iYWw6OkJyaWRnZS5IdG1sNS5IVE1MRWxlbWVudD4pKGUgPT4gZS5JZCA9IHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIElIdG1sTW9kaWZpZXI8VD4gQ3JlYXRlPFQ+KEFjdGlvbjxUPiBhcHBseSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aW9uSHRtbE1vZGlmaWVyPFQ+KGFwcGx5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSHRtbE5vZGU8VD4gQXBwZW5kPFQ+KHRoaXMgVCBub2RlKSB3aGVyZSBUIDogTm9kZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHZvaWQgQXBwbHk8VD4odGhpcyBUIHRhcmdldCwgSUh0bWxNb2RpZmllcjxUPltdIG1vZGlmaWVycylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcmVhY2ggKHZhciBtb2RpZmllciBpbiBtb2RpZmllcnMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG1vZGlmaWVyLkFwcGx5KHRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsYXNzIEFjdGlvbkh0bWxNb2RpZmllcjxUPiA6IElIdG1sTW9kaWZpZXI8VD5cclxuICAgIHtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IEFjdGlvbjxUPiBtX2FjdGlvbjtcclxuXHJcbiAgICAgICAgcHVibGljIEFjdGlvbkh0bWxNb2RpZmllcihBY3Rpb248VD4gYWN0aW9uKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbV9hY3Rpb24gPSBhY3Rpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBBcHBseShUIHRhcmdldClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG1fYWN0aW9uKHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGFzcyBIdG1sTm9kZTxUTm9kZT4gOiBJSHRtbE1vZGlmaWVyPE5vZGU+XHJcbiAgICAgICAgd2hlcmUgVE5vZGUgOiBOb2RlXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IFROb2RlIE5vZGU7XHJcblxyXG4gICAgICAgIHB1YmxpYyBIdG1sTm9kZShUTm9kZSBub2RlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgTm9kZSA9IG5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBBcHBseShOb2RlIHRhcmdldClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRhcmdldC5BcHBlbmRDaGlsZChOb2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaW1wbGljaXQgb3BlcmF0b3IgSHRtbE5vZGU8VE5vZGU+KFROb2RlIG5vZGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEh0bWxOb2RlPFROb2RlPihub2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaW1wbGljaXQgb3BlcmF0b3IgTm9kZShIdG1sTm9kZTxUTm9kZT4gbm9kZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLk5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbnRlcmZhY2UgSUh0bWxNb2RpZmllcjxpbiBUVGFyZ2V0PlxyXG4gICAgLy93aGVyZSBUVGFyZ2V0IDogSFRNTEVsZW1lbnRcclxuICAgIHtcclxuICAgICAgICB2b2lkIEFwcGx5KFRUYXJnZXQgdGFyZ2V0KTtcclxuICAgIH1cclxufVxyXG4iLCJ1c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcbnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzO1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXcuV2ViXHJcbntcclxuICAgIHB1YmxpYyBjbGFzcyBSZW5kZXJDb250ZXh0XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IFVJRWxlbWVudCBDb250YWluZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBSZW5kZXJDb250ZXh0KFVJRWxlbWVudCBjb250YWluZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBDb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsInVzaW5nIEJyaWRnZS5IdG1sNTtcclxudXNpbmcgQ29kZXguT2JqZWN0TW9kZWw7XHJcbnVzaW5nIENvZGV4LlNkay5TZWFyY2g7XHJcbnVzaW5nIE5ld3RvbnNvZnQuSnNvbjtcclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLkxpbnE7XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG51c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzO1xyXG5cclxubmFtZXNwYWNlIENvZGV4LlZpZXcuV2ViXHJcbntcclxuICAgIHB1YmxpYyBjbGFzcyBSZXF1ZXN0XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBUYXNrPHN0cmluZz4gR2V0VGV4dEFzeW5jKHN0cmluZyB1cmwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBUYXNrQ29tcGxldGlvblNvdXJjZTxzdHJpbmc+IHRjcyA9IG5ldyBUYXNrQ29tcGxldGlvblNvdXJjZTxzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gbmV3IFJldHlwZWQuanF1ZXJ5LkpRdWVyeUFqYXhTZXR0aW5nc1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwsXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJHRVRcIixcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZSA9IFwidGV4dFwiLFxyXG5cclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSAoZGF0YSwgdGV4dFN0YXR1cywgc3VjY2Vzc1JlcXVlc3QpID0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGNzLlNldFJlc3VsdChzdWNjZXNzUmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICBlcnJvciA9IChlcnJvclJlcXVlc3QsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRjcy5TZXRSZXN1bHQoc3RyaW5nLkZvcm1hdChcIkVycm9yOiBcXG57MH1cIixlcnJvclRocm93bikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgUmV0eXBlZC5qcXVlcnkualF1ZXJ5LmFqYXgoY29uZmlnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRjcy5UYXNrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJ1c2luZyBCcmlkZ2U7XHJcbnVzaW5nIEJyaWRnZS5IdG1sNTtcclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLkxpbnE7XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG51c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzO1xyXG5cclxubmFtZXNwYWNlIE1vbmFjb1xyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEVkaXRvclxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgVGFzazxtb25hY28uZWRpdG9yLklTdGFuZGFsb25lQ29kZUVkaXRvcj4gQ3JlYXRlKEhUTUxFbGVtZW50IGh0bWxFbGVtZW50LCBFZGl0b3JDb25zdHJ1Y3Rpb25PcHRpb25zIG9wdGlvbnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBhd2FpdCBNb25hY29MaWJyYXJ5LkluaXRpYWxpemVBc3luYygpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG1vbmFjby5lZGl0b3IuY3JlYXRlKGh0bWxFbGVtZW50LCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJ1c2luZyBCcmlkZ2U7XHJcbnVzaW5nIEJyaWRnZS5IdG1sNTtcclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLkxpbnE7XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG51c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzO1xyXG5cclxuW0V4dGVybmFsXVxyXG5bTW9kdWxlKHRydWUsIExvYWROYW1lID0gXCJ2cy9lZGl0b3IvZWRpdG9yLm1haW5cIiwgTmFtZSA9IFwibW9uYWNvX2VkaXRvcl9pZ25vcmVkXCIpXVxyXG5wdWJsaWMgc3RhdGljIHBhcnRpYWwgY2xhc3MgbW9uYWNvIHsgfVxyXG5cclxubmFtZXNwYWNlIE1vbmFjb1xyXG57XHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gUmVzcG9uc2libGUgZm9yIGxvYWRpbmcgdGhlIG1vbmFjbyBlZGl0b3IgamF2YXNjcmlwdCBsaWJyYXJ5IHVzaW5nIHRoZSBsb2FkZXIuanNcclxuICAgIC8vLyBpbmNsdWRlZCB3aXRoIG1vbmFjb1xyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgTW9uYWNvTGlicmFyeVxyXG4gICAge1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRhc2sgaW5pdGlhbGl6ZVRhc2s7XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgVGFzayBJbml0aWFsaXplQXN5bmMoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKGluaXRpYWxpemVUYXNrID09IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgaW5pdGlhbGl6ZSBvbmNlXHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplVGFzayA9IEluaXRpYWxpemVDb3JlQXN5bmMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxpemVUYXNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgVGFzayBJbml0aWFsaXplQ29yZUFzeW5jKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFNjcmlwdC5Xcml0ZShcInJlcXVpcmUuY29uZmlnKHsgcGF0aHM6IHsgJ3ZzJzogJ25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2Rldi92cycgfSB9KVwiKTtcclxuICAgICAgICAgICAgYXdhaXQgQnJpZGdlLk1vZHVsZS5Mb2FkKHR5cGVvZihtb25hY28pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwidXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcblxyXG5uYW1lc3BhY2UgQ29kZXhcclxue1xyXG4gICAgcHVibGljIGNsYXNzIEVudGl0eUJhc2UgOiBJU2VyaWFsaXphYmxlRW50aXR5XHJcbiAgICB7XHJcbiAgICAgICAgcHJvdGVjdGVkIHZpcnR1YWwgdm9pZCBJbml0aWFsaXplKClcclxuICAgICAgICB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdmlydHVhbCB2b2lkIE9uU2VyaWFsaXppbmdDb3JlKClcclxuICAgICAgICB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdmlydHVhbCB2b2lkIE9uRGVzZXJpYWxpemVkQ29yZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdm9pZCBJU2VyaWFsaXphYmxlRW50aXR5Lk9uU2VyaWFsaXppbmcoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgT25TZXJpYWxpemluZ0NvcmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZvaWQgSVNlcmlhbGl6YWJsZUVudGl0eS5PbkRlc2VyaWFsaXplZCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBPbkRlc2VyaWFsaXplZENvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludGVyZmFjZSBJU2VyaWFsaXphYmxlRW50aXR5XHJcbiAgICB7XHJcbiAgICAgICAgdm9pZCBPbkRlc2VyaWFsaXplZCgpO1xyXG5cclxuICAgICAgICB2b2lkIE9uU2VyaWFsaXppbmcoKTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwidXNpbmcgU3lzdGVtLldpbmRvd3M7XHJcbnVzaW5nIEJyaWRnZTtcclxudXNpbmcgQnJpZGdlLkh0bWw1O1xyXG51c2luZyBNb25hY287XHJcbnVzaW5nIFN5c3RlbS5XaW5kb3dzLk1lZGlhO1xyXG51c2luZyBTeXN0ZW0uV2luZG93cy5UaHJlYWRpbmc7XHJcbnVzaW5nIEdyYW51bGFyLkhvc3Q7XHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLldpbmRvd3MuSW5wdXQ7XHJcblxyXG5uYW1lc3BhY2UgQ29kZXguVmlld1xyXG57XHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBMZWZ0UGFuZVZpZXdNb2RlbFxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyB2b2lkIFJlbmRlcihMZWZ0UGFuZVZpZXcgdmlldywgSFRNTEVsZW1lbnQgcGFyZW50RWxlbWVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdsb2JhbDo6QnJpZGdlLlNjcmlwdC5Ub1RlbXAoXCJrZXkxXCIsQ29udGVudCkhPW51bGw/Z2xvYmFsOjpCcmlkZ2UuU2NyaXB0LkZyb21MYW1iZGEoKCk9Pmdsb2JhbDo6QnJpZGdlLlNjcmlwdC5Gcm9tVGVtcDxMZWZ0UGFuZUNvbnRlbnQ+KFwia2V5MVwiKS5SZW5kZXIodmlldywgcGFyZW50RWxlbWVudCkpOm51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBwYXJ0aWFsIGNsYXNzIExlZnRQYW5lQ2hpbGRcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3Qgdm9pZCBSZW5kZXIoTGVmdFBhbmVWaWV3IHZpZXcsIEhUTUxFbGVtZW50IHBhcmVudEVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIExlZnRQYW5lQ29udGVudCA6IExlZnRQYW5lQ2hpbGRcclxuICAgIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcGFydGlhbCBjbGFzcyBQcm9qZWN0SXRlbVJlc3VsdFZpZXdNb2RlbCA6IExlZnRQYW5lQ2hpbGRcclxuICAgIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcGFydGlhbCBjbGFzcyBGaWxlSXRlbVJlc3VsdFZpZXdNb2RlbCA6IExlZnRQYW5lQ2hpbGRcclxuICAgIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBGaWxlUmVzdWx0c1ZpZXdNb2RlbFxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBvdmVycmlkZSB2b2lkIFJlbmRlcihMZWZ0UGFuZVZpZXcgdmlldywgSFRNTEVsZW1lbnQgcGFyZW50RWxlbWVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlR3JvdXBFbGVtZW50ID0gbmV3IEhUTUxEaXZFbGVtZW50KCkgeyBDbGFzc05hbWUgPSBcInJGXCIgfTtcclxuICAgICAgICAgICAgcGFyZW50RWxlbWVudC5BcHBlbmRDaGlsZChmaWxlR3JvdXBFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIGZpbGVHcm91cEVsZW1lbnQuQXBwZW5kQ2hpbGQobmV3IEhUTUxEaXZFbGVtZW50KClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgQ2xhc3NOYW1lID0gXCJyTlwiLFxyXG4gICAgICAgICAgICAgICAgVGV4dENvbnRlbnQgPSBzdHJpbmcuRm9ybWF0KFwiezB9ICh7MX0pXCIsUGF0aCxDb3VudGVyLkNvdW50KSAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLlNldEJhY2tncm91bmRJY29uKENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5HZXRGaWxlTmFtZUdseXBoKFBhdGgpKSk7XHJcblxyXG4gICAgICAgICAgICBmb3JlYWNoICh2YXIgaXRlbSBpbiBJdGVtcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5SZW5kZXIodmlldywgZmlsZUdyb3VwRWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgU3ltYm9sUmVzdWx0Vmlld01vZGVsXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIG92ZXJyaWRlIHZvaWQgUmVuZGVyKExlZnRQYW5lVmlldyB2aWV3LCBIVE1MRWxlbWVudCBwYXJlbnRFbGVtZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcGFyZW50RWxlbWVudC5BcHBlbmRDaGlsZChcclxuQ29kZXguVmlldy5WaWV3VXRpbGl0aWVzLldpdGhDaGlsZDxnbG9iYWw6OkJyaWRnZS5IdG1sNS5IVE1MQW5jaG9yRWxlbWVudD4oXHJcbkNvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5XaXRoT25DbGljazxnbG9iYWw6OkJyaWRnZS5IdG1sNS5IVE1MQW5jaG9yRWxlbWVudD4oICAgICAgICAgICAgICAgIG5ldyBIVE1MQW5jaG9yRWxlbWVudCgpXHJcbiwoZ2xvYmFsOjpTeXN0ZW0uQWN0aW9uKSgoKSA9PiB7IENvbW1hbmRzLkdvVG9EZWZpbml0aW9uLlJhaXNlRXhlY3V0ZWQodmlldywgdGhpcy5TeW1ib2wpOyB9KSlcclxuLENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5XaXRoQ2hpbGQ8Z2xvYmFsOjpCcmlkZ2UuSHRtbDUuSFRNTERpdkVsZW1lbnQ+KFxyXG5Db2RleC5WaWV3LlZpZXdVdGlsaXRpZXMuV2l0aENoaWxkPGdsb2JhbDo6QnJpZGdlLkh0bWw1LkhUTUxEaXZFbGVtZW50PihcclxuQ29kZXguVmlldy5WaWV3VXRpbGl0aWVzLldpdGhDaGlsZDxnbG9iYWw6OkJyaWRnZS5IdG1sNS5IVE1MRGl2RWxlbWVudD4oXHJcbkNvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5XaXRoQ2hpbGQ8Z2xvYmFsOjpCcmlkZ2UuSHRtbDUuSFRNTERpdkVsZW1lbnQ+KFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBIVE1MRGl2RWxlbWVudCgpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDbGFzc05hbWUgPSBcInJlc3VsdEl0ZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuLCAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIVE1MSW1hZ2VFbGVtZW50KClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVpZ2h0ID0gMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaWR0aCA9IDE2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3JjID0gQ29kZXguVmlldy5WaWV3VXRpbGl0aWVzLkdldEljb25QYXRoKFN5bWJvbC5HZXRHbHlwaCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4sICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhUTUxEaXZFbGVtZW50KClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2xhc3NOYW1lID0gXCJyZXN1bHRLaW5kXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZXh0Q29udGVudCA9IFN5bWJvbC5LaW5kLlRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuLCAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIVE1MRGl2RWxlbWVudCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENsYXNzTmFtZSA9IFwicmVzdWx0TmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGV4dENvbnRlbnQgPSBTeW1ib2wuU2hvcnROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiwgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSFRNTERpdkVsZW1lbnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDbGFzc05hbWUgPSBcInJlc3VsdERlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZXh0Q29udGVudCA9IFN5bWJvbC5EaXNwbGF5TmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIFRleHRTcGFuU2VhcmNoUmVzdWx0Vmlld01vZGVsXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIG92ZXJyaWRlIHZvaWQgUmVuZGVyKExlZnRQYW5lVmlldyB2aWV3LCBIVE1MRWxlbWVudCBwYXJlbnRFbGVtZW50KVxyXG4gICAgICAgIHtcclxuQ29kZXguVmlldy5WaWV3VXRpbGl0aWVzLldpdGhDaGlsZDxnbG9iYWw6OkJyaWRnZS5IdG1sNS5IVE1MRWxlbWVudD4oXHJcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnRcclxuLENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5XaXRoQ2hpbGQ8Z2xvYmFsOjpCcmlkZ2UuSHRtbDUuSFRNTEFuY2hvckVsZW1lbnQ+KENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5XaXRoQ2hpbGQ8Z2xvYmFsOjpCcmlkZ2UuSHRtbDUuSFRNTEFuY2hvckVsZW1lbnQ+KENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5XaXRoQ2hpbGQ8Z2xvYmFsOjpCcmlkZ2UuSHRtbDUuSFRNTEFuY2hvckVsZW1lbnQ+KENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5XaXRoQ2hpbGQ8Z2xvYmFsOjpCcmlkZ2UuSHRtbDUuSFRNTEFuY2hvckVsZW1lbnQ+KENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5XaXRoT25DbGljazxnbG9iYWw6OkJyaWRnZS5IdG1sNS5IVE1MQW5jaG9yRWxlbWVudD4oICAgICAgICAgICAgICAgICAgICBuZXcgSFRNTEFuY2hvckVsZW1lbnQoKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2xhc3NOYW1lID0gXCJyTFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4sKGdsb2JhbDo6U3lzdGVtLkFjdGlvbikoKCkgPT5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJhaXNlRXhlY3V0ZWQodmlldyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpXHJcbixDb2RleC5WaWV3LlZpZXdVdGlsaXRpZXMuV2l0aFRleHQ8Z2xvYmFsOjpCcmlkZ2UuSHRtbDUuSFRNTEVsZW1lbnQ+KERvY3VtZW50LkNyZWF0ZUVsZW1lbnQoXCJiXCIpLExpbmVOdW1iZXIuVG9TdHJpbmcoKSkpXHJcbixuZXcgVGV4dChQcmVmaXhUZXh0KSlcclxuLENvZGV4LlZpZXcuVmlld1V0aWxpdGllcy5XaXRoVGV4dDxnbG9iYWw6OkJyaWRnZS5IdG1sNS5IVE1MRWxlbWVudD4oRG9jdW1lbnQuQ3JlYXRlRWxlbWVudChcImlcIiksQ29udGVudFRleHQpKVxyXG4sbmV3IFRleHQoU3VmZml4VGV4dCkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdm9pZCBSYWlzZUV4ZWN1dGVkKExlZnRQYW5lVmlldyB2aWV3KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKFRleHRSZXN1bHQgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgQ29tbWFuZHMuR29Ub1NwYW4uUmFpc2VFeGVjdXRlZCh2aWV3LCBUZXh0UmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIENvbW1hbmRzLkdvVG9SZWZlcmVuY2UuUmFpc2VFeGVjdXRlZCh2aWV3LCBSZWZlcmVuY2VSZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXJ0aWFsIGNsYXNzIENhdGVnb3JpemVkU2VhcmNoUmVzdWx0c1ZpZXdNb2RlbFxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBvdmVycmlkZSB2b2lkIFJlbmRlcihMZWZ0UGFuZVZpZXcgdmlldywgSFRNTEVsZW1lbnQgcGFyZW50RWxlbWVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcmVhY2ggKHZhciBjYXRlZ29yeSBpbiBDYXRlZ29yaWVzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeS5SZW5kZXIodmlldywgcGFyZW50RWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhcnRpYWwgY2xhc3MgQ2F0ZWdvcnlHcm91cFNlYXJjaFJlc3VsdHNWaWV3TW9kZWxcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgdm9pZCBSZW5kZXIoTGVmdFBhbmVWaWV3IHZpZXcsIEhUTUxFbGVtZW50IHBhcmVudEVsZW1lbnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgY29udGVudEVsZW1lbnQgPSBDb2RleC5WaWV3LlZpZXdVdGlsaXRpZXMuUmVuZGVySGVhZGVyZWRDb250ZW50KHBhcmVudEVsZW1lbnQsIFwickhcIiwgSGVhZGVyLCBcInJLXCIpO1xyXG4gICAgICAgICAgICBQcm9qZWN0UmVzdWx0cy5SZW5kZXIodmlldywgY29udGVudEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBQcm9qZWN0UmVzdWx0c1ZpZXdNb2RlbFxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBvdmVycmlkZSB2b2lkIFJlbmRlcihMZWZ0UGFuZVZpZXcgdmlldywgSFRNTEVsZW1lbnQgcGFyZW50RWxlbWVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcmVhY2ggKHZhciBwcm9qZWN0R3JvdXAgaW4gUHJvamVjdEdyb3VwcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcHJvamVjdEdyb3VwLlJlbmRlcih2aWV3LCBwYXJlbnRFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBQcm9qZWN0R3JvdXBSZXN1bHRzVmlld01vZGVsXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHZvaWQgUmVuZGVyKExlZnRQYW5lVmlldyB2aWV3LCBIVE1MRWxlbWVudCBwYXJlbnRFbGVtZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnRFbGVtZW50ID0gQ29kZXguVmlldy5WaWV3VXRpbGl0aWVzLlJlbmRlckhlYWRlcmVkQ29udGVudChwYXJlbnRFbGVtZW50LCBcInJBXCIsIHN0cmluZy5Gb3JtYXQoXCJ7MH0gKHsxfSlcIixQcm9qZWN0TmFtZSxDb3VudGVyLkNvdW50KSwgXCJyR1wiKTtcclxuICAgICAgICAgICAgZm9yZWFjaCAodmFyIGl0ZW0gaW4gSXRlbXMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uUmVuZGVyKHZpZXcsIGNvbnRlbnRFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJ1c2luZyBCcmlkZ2UuSHRtbDU7XHJcbnVzaW5nIENvZGV4Lk9iamVjdE1vZGVsO1xyXG51c2luZyBDb2RleC5TZGsuU2VhcmNoO1xyXG51c2luZyBOZXd0b25zb2Z0Lkpzb247XHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLlRocmVhZGluZy5UYXNrcztcclxuXHJcbm5hbWVzcGFjZSBDb2RleC5WaWV3LldlYlxyXG57XHJcbiAgICBwdWJsaWMgY2xhc3MgV2ViQXBpQ29kZXggOiBJQ29kZXhcclxuICAgIHtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHN0cmluZyBiYXNlVXJsO1xyXG5cclxuICAgICAgICBwdWJsaWMgV2ViQXBpQ29kZXgoc3RyaW5nIGJhc2VVcmwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsLkVuZHNXaXRoKFwiL1wiKSA/IGJhc2VVcmwgOiBiYXNlVXJsICsgJy8nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFRhc2s8SW5kZXhRdWVyeVJlc3BvbnNlPFJlZmVyZW5jZXNSZXN1bHQ+PiBGaW5kQWxsUmVmZXJlbmNlc0FzeW5jKEZpbmRBbGxSZWZlcmVuY2VzQXJndW1lbnRzIGFyZ3VtZW50cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBQb3N0QXN5bmM8SW5kZXhRdWVyeVJlc3BvbnNlPFNlcmlhbGl6ZWRSZWZlcmVuY2VzUmVzdWx0PiwgSW5kZXhRdWVyeVJlc3BvbnNlPFJlZmVyZW5jZXNSZXN1bHQ+PihDb2RleFNlcnZpY2VNZXRob2QuRmluZEFsbFJlZnMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgVGFzazxJbmRleFF1ZXJ5SGl0c1Jlc3BvbnNlPElEZWZpbml0aW9uU2VhcmNoTW9kZWw+PiBGaW5kRGVmaW5pdGlvbkFzeW5jKEZpbmREZWZpbml0aW9uQXJndW1lbnRzIGFyZ3VtZW50cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBQb3N0QXN5bmM8SW5kZXhRdWVyeUhpdHNSZXNwb25zZTxEZWZpbml0aW9uU2VhcmNoTW9kZWw+LCBJbmRleFF1ZXJ5SGl0c1Jlc3BvbnNlPElEZWZpbml0aW9uU2VhcmNoTW9kZWw+PihDb2RleFNlcnZpY2VNZXRob2QuRmluZERlZiwgYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBUYXNrPEluZGV4UXVlcnlSZXNwb25zZTxSZWZlcmVuY2VzUmVzdWx0Pj4gRmluZERlZmluaXRpb25Mb2NhdGlvbkFzeW5jKEZpbmREZWZpbml0aW9uTG9jYXRpb25Bcmd1bWVudHMgYXJndW1lbnRzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBvc3RBc3luYzxJbmRleFF1ZXJ5UmVzcG9uc2U8U2VyaWFsaXplZFJlZmVyZW5jZXNSZXN1bHQ+LCBJbmRleFF1ZXJ5UmVzcG9uc2U8UmVmZXJlbmNlc1Jlc3VsdD4+KENvZGV4U2VydmljZU1ldGhvZC5GaW5kRGVmTG9jYXRpb24sIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgVGFzazxJbmRleFF1ZXJ5UmVzcG9uc2U8SUJvdW5kU291cmNlRmlsZT4+IEdldFNvdXJjZUFzeW5jKEdldFNvdXJjZUFyZ3VtZW50cyBhcmd1bWVudHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gUG9zdEFzeW5jPEluZGV4UXVlcnlSZXNwb25zZTxCb3VuZFNvdXJjZUZpbGU+LCBJbmRleFF1ZXJ5UmVzcG9uc2U8SUJvdW5kU291cmNlRmlsZT4+KENvZGV4U2VydmljZU1ldGhvZC5HZXRTb3VyY2UsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgVGFzazxJbmRleFF1ZXJ5SGl0c1Jlc3BvbnNlPElTZWFyY2hSZXN1bHQ+PiBTZWFyY2hBc3luYyhTZWFyY2hBcmd1bWVudHMgYXJndW1lbnRzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5TZWFyY2hTdHJpbmcgPT0gXCJ0ZHRcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEdldFRlc3RBc3luYzxJbmRleFF1ZXJ5SGl0c1Jlc3BvbnNlPFNlYXJjaFJlc3VsdD4sIEluZGV4UXVlcnlIaXRzUmVzcG9uc2U8SVNlYXJjaFJlc3VsdD4+KENvZGV4U2VydmljZU1ldGhvZC5TZWFyY2gsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBQb3N0QXN5bmM8SW5kZXhRdWVyeUhpdHNSZXNwb25zZTxTZWFyY2hSZXN1bHQ+LCBJbmRleFF1ZXJ5SGl0c1Jlc3BvbnNlPElTZWFyY2hSZXN1bHQ+PihDb2RleFNlcnZpY2VNZXRob2QuU2VhcmNoLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBUYXNrPFRSZXN1bHQ+IEdldFRlc3RBc3luYzxUU2VyaWFsaXplZFJlc3VsdCwgVFJlc3VsdD4oXHJcbiAgICAgICAgICAgIENvZGV4U2VydmljZU1ldGhvZCBzZWFyY2hNZXRob2QsXHJcbiAgICAgICAgICAgIG9iamVjdCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIHdoZXJlIFRSZXN1bHQgOiBJbmRleFF1ZXJ5UmVzcG9uc2UsIG5ldygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBUYXNrQ29tcGxldGlvblNvdXJjZTxUUmVzdWx0PiB0Y3MgPSBuZXcgVGFza0NvbXBsZXRpb25Tb3VyY2U8VFJlc3VsdD4oKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgc2VhcmNoTWV0aG9kLlRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKHVybCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gbmV3IFJldHlwZWQuanF1ZXJ5LkpRdWVyeUFqYXhTZXR0aW5nc1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBcInRlc3RzZWFyY2hkYXRhLmpzb25cIixcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBcIkdFVFwiLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgY29udGVudFR5cGUgb2YgdGhlIHJlcXVlc3RcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcblxyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IChkYXRhLCB0ZXh0U3RhdHVzLCBzdWNjZXNzUmVxdWVzdCkgPT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0Y3MuU2V0UmVzdWx0KEpzb25Db252ZXJ0LkRlc2VyaWFsaXplT2JqZWN0PFRTZXJpYWxpemVkUmVzdWx0PihzdWNjZXNzUmVxdWVzdC5yZXNwb25zZVRleHQpLkFzPFRSZXN1bHQ+KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICBlcnJvciA9IChlcnJvclJlcXVlc3QsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRjcy5TZXRSZXN1bHQobmV3IFRSZXN1bHQoKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXJyb3IgPSBzdHJpbmcuRm9ybWF0KFwiRXJyb3I6IHswfVwiLGVycm9yVGhyb3duKSAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgUmV0eXBlZC5qcXVlcnkualF1ZXJ5LmFqYXgoY29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0Y3MuVGFzaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgVGFzazxUUmVzdWx0PiBQb3N0QXN5bmM8VFNlcmlhbGl6ZWRSZXN1bHQsIFRSZXN1bHQ+KFxyXG4gICAgICAgICAgICBDb2RleFNlcnZpY2VNZXRob2Qgc2VhcmNoTWV0aG9kLFxyXG4gICAgICAgICAgICBvYmplY3QgYXJndW1lbnRzKVxyXG4gICAgICAgICAgICB3aGVyZSBUUmVzdWx0IDogSW5kZXhRdWVyeVJlc3BvbnNlLCBuZXcoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgVGFza0NvbXBsZXRpb25Tb3VyY2U8VFJlc3VsdD4gdGNzID0gbmV3IFRhc2tDb21wbGV0aW9uU291cmNlPFRSZXN1bHQ+KCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdXJsID0gYmFzZVVybCArIHNlYXJjaE1ldGhvZC5Ub1N0cmluZygpO1xyXG4gICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSh1cmwpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGFyZ3VtZW50c0RhdGEgPSBKc29uQ29udmVydC5TZXJpYWxpemVPYmplY3QoYXJndW1lbnRzKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjb25maWcgPSBuZXcgUmV0eXBlZC5qcXVlcnkuSlF1ZXJ5QWpheFNldHRpbmdzXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybCA9IHVybCxcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBhcmd1bWVudHNEYXRhLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgY29udGVudFR5cGUgb2YgdGhlIHJlcXVlc3RcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcblxyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IChkYXRhLCB0ZXh0U3RhdHVzLCBzdWNjZXNzUmVxdWVzdCkgPT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0Y3MuU2V0UmVzdWx0KEpzb25Db252ZXJ0LkRlc2VyaWFsaXplT2JqZWN0PFRTZXJpYWxpemVkUmVzdWx0PihzdWNjZXNzUmVxdWVzdC5yZXNwb25zZVRleHQpLkFzPFRSZXN1bHQ+KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICBlcnJvciA9IChlcnJvclJlcXVlc3QsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRjcy5TZXRSZXN1bHQobmV3IFRSZXN1bHQoKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXJyb3IgPSBzdHJpbmcuRm9ybWF0KFwiRXJyb3I6IHswfVwiLGVycm9yVGhyb3duKSAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgUmV0eXBlZC5qcXVlcnkualF1ZXJ5LmFqYXgoY29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0Y3MuVGFzaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW50ZXJuYWwgY2xhc3MgU2VyaWFsaXplZFJlZmVyZW5jZXNSZXN1bHQgOiBJbmRleFF1ZXJ5SGl0czxSZWZlcmVuY2VTZWFyY2hSZXN1bHQ+XHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0cmluZyBTeW1ib2xEaXNwbGF5TmFtZSB7IGdldDsgc2V0OyB9XHJcbiAgICB9XHJcbn1cclxuIl0KfQo=
